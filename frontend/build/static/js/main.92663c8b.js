/*! For license information please see main.92663c8b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,s)&&!E.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+j(l,0):a,x(i)?(s="",null!=e&&(s=e.replace(C,"$&/")+"/"),T(i,t,s,"",function(e){return e})):null!=i&&(k(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+j(o=e[c],c);l+=T(o,t,s,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,u=a+j(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return T(e,r,"","",function(e){return t.call(n,e,s++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!E.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<s&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,R(N);else{var t=r(u);null!==t&&P(x,t.startTime-e)}}function N(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var a=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!T());){var i=d.callback;if("function"===typeof i){d.callback=null,f=d.priorityLevel;var o=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&s(c),w(n)}else s(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&P(x,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,k=-1,C=5,j=-1;function T(){return!(t.unstable_now()-j<C)}function I(){if(null!==_){var e=t.unstable_now();j=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof b)S=function(){b(I)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=I,S=function(){A.postMessage(null)}}else S=function(){v(I,0)};function R(e){_=e,E||(E=!0,S())}function P(e,n){k=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,P(x,a-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,R(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case N:return"Portal";case _:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Se=null,Ee=null;function _e(e){if(e=xs(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=Ss(t),Ne(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Te(){}var Ie=!1;function De(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return je(e,t,n)}finally{Ie=!1,(null!==Se||null!==Ee)&&(Te(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=Ss(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Oe(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function qe(e,t,n,r,s,a,i,o,l){Le=!1,Me=null,Oe.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Je=s.unstable_now,$e=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=ht(o):0!==(a&=i)&&(r=ht(a))}else 0!==(i=n&~s)?r=ht(i):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,Nt,St,Et,_t,kt=!1,Ct=[],jt=null,Tt=null,It=null,Dt=new Map,At=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=ws(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void _t(e.priority,function(){St(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==jt&&Ft(jt)&&(jt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==It&&Ft(It)&&(It=null),Dt.forEach(Ut),At.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&qt(jt,e),null!==Tt&&qt(Tt,e),null!==It&&qt(It,e),Dt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var s=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=s,Bt.transition=a}}function Kt(e,t,n,r){var s=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=s,Bt.transition=a}}function Gt(e,t,n,r){if(Ht){var s=Yt(e,t,n,r);if(null===s)Kr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return jt=Lt(jt,e,t,n,r,s),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,s),!0;case"mouseover":return It=Lt(It,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,At.set(a,Lt(At.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==s;){var a=xs(s);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=ws(e=xe(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,s="value"in Jt?Jt.value:Jt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function _n(){return En}var kn=M({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),jn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Dn),Rn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Pn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(Ns(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",rr),Gn=Kn=null)}function rr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),De(Qn,t)}}function sr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!h.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=hr(n,a);var i=hr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==vr||vr!==Q(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&cr(br,r)||(br=r,0<(r=Qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},Er={},_r={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Cr=kr("animationend"),jr=kr("animationiteration"),Tr=kr("animationstart"),Ir=kr("transitionend"),Dr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Dr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Lr=Ar[Pr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(jr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Ur(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Ur(s,o,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function qr(e,t){var n=t[vs];void 0===n&&(n=t[vs]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Xt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ws(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}De(function(){var r=a,s=xe(n),i=[];e:{var o=Dr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case jr:case Tr:l=vn;break;case Ir:l=In;break;case"scroll":l=dn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&u.push(Gr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ws(c)&&!c[gs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ws(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=jn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:Ns(l),f=null==c?o:Ns(c),(o=new u(m,p+"leave",l,n,s)).target=h,o.relatedTarget=f,m=null,ws(s)===r&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,m=d;m;m=Yr(m))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)d=Yr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Yr(u),d=Yr(d)}u=null}else u=null;null!==l&&Xr(i,o,l,u,!1),null!==c&&null!==h&&Xr(i,h,c,u,!0)}if("select"===(l=(o=r?Ns(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Jn)g=or;else{g=ar;var v=sr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(i,g,n,s):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?Ns(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(vr=v,yr=r,br=null);break;case"focusout":br=yr=vr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(i,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(i,n,s)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Jt=s)?Jt.value:Jt.textContent,zn=!0)),0<(v=Qr(r,b)).length&&(b=new wn(b,e,null,n,s),i.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=y))}Vr(i,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Ae(e,n))&&r.unshift(Gr(e,a,s)),null!=(a=Ae(e,t))&&r.push(Gr(e,a,s))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,a))&&i.unshift(Gr(n,l,o)):s||null!=(l=Ae(n,a))&&i.push(Gr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace($r,"")}function es(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function ts(){}var ns=null,rs=null;function ss(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var as="function"===typeof setTimeout?setTimeout:void 0,is="function"===typeof clearTimeout?clearTimeout:void 0,os="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof os?function(e){return os.resolve(null).then(e).catch(cs)}:as;function cs(e){setTimeout(function(){throw e})}function us(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function hs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),ps="__reactFiber$"+fs,ms="__reactProps$"+fs,gs="__reactContainer$"+fs,vs="__reactEvents$"+fs,ys="__reactListeners$"+fs,bs="__reactHandles$"+fs;function ws(e){var t=e[ps];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gs]||n[ps]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ps])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[ps]||e[gs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ns(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ss(e){return e[ms]||null}var Es=[],_s=-1;function ks(e){return{current:e}}function Cs(e){0>_s||(e.current=Es[_s],Es[_s]=null,_s--)}function js(e,t){_s++,Es[_s]=e.current,e.current=t}var Ts={},Is=ks(Ts),Ds=ks(!1),As=Ts;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ps(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Cs(Ds),Cs(Is)}function Ls(e,t,n){if(Is.current!==Ts)throw Error(a(168));js(Is,t),js(Ds,n)}function Ms(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,B(e)||"Unknown",s));return M({},n,r)}function Fs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,As=Is.current,js(Is,e),js(Ds,Ds.current),!0}function Us(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ms(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Cs(Ds),Cs(Is),js(Is,e)):Cs(Ds),js(Ds,n)}var Vs=null,qs=!1,zs=!1;function Bs(e){null===Vs?Vs=[e]:Vs.push(e)}function Hs(){if(!zs&&null!==Vs){zs=!0;var e=0,t=bt;try{var n=Vs;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vs=null,qs=!1}catch(s){throw null!==Vs&&(Vs=Vs.slice(e+1)),Ge(Ze,Hs),s}finally{bt=t,zs=!1}}return null}var Ws=[],Ks=0,Gs=null,Qs=0,Ys=[],Xs=0,Js=null,$s=1,Zs="";function ea(e,t){Ws[Ks++]=Qs,Ws[Ks++]=Gs,Gs=e,Qs=t}function ta(e,t,n){Ys[Xs++]=$s,Ys[Xs++]=Zs,Ys[Xs++]=Js,Js=e;var r=$s;e=Zs;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,$s=1<<32-it(t)+s|n<<s|r,Zs=a+e}else $s=1<<a|n<<s|r,Zs=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Gs;)Gs=Ws[--Ks],Ws[Ks]=null,Qs=Ws[--Ks],Ws[Ks]=null;for(;e===Js;)Js=Ys[--Xs],Ys[Xs]=null,Zs=Ys[--Xs],Ys[Xs]=null,$s=Ys[--Xs],Ys[Xs]=null}var sa=null,aa=null,ia=!1,oa=null;function la(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,aa=hs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,aa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Js?{id:$s,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,sa=e,aa=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ha(e){if(ia){var t=aa;if(t){var n=t;if(!ca(e,t)){if(ua(e))throw Error(a(418));t=hs(n.nextSibling);var r=sa;t&&ca(e,t)?la(r,n):(e.flags=-4097&e.flags|2,ia=!1,sa=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,sa=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function fa(e){if(e!==sa)return!1;if(!ia)return da(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ss(e.type,e.memoizedProps)),t&&(t=aa)){if(ua(e))throw pa(),Error(a(418));for(;t;)la(e,t),t=hs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){aa=hs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}aa=null}}else aa=sa?hs(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=aa;e;)e=hs(e.nextSibling)}function ma(){aa=sa=null,ia=!1}function ga(e){null===oa?oa=[e]:oa.push(e)}var va=w.ReactCurrentBatchConfig;function ya(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&wa(a)===t.type)?((r=s(t,n.props)).ref=ya(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=ya(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=ya(e,null,t),n.return=e,n;case N:return(t=Vc(t,e.mode,n)).return=e,t;case A:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:h(e,t,n,r,null);ba(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,s,null);ba(t,r)}return null}function m(s,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(s,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(s,h),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(s,h),ia&&ea(s,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(s,o[m],l))&&(a=i(h,a,m),null===u?c=h:u.sibling=h,u=h);return ia&&ea(s,m),c}for(h=r(s,h);m<o.length;m++)null!==(g=p(h,s,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(s,e)}),ia&&ea(s,m),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),o=i(b,o,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(s,m),ia&&ea(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(s,y.value,c))&&(o=i(y,o,g),null===h?u=y:h.sibling=y,h=y);return ia&&ea(s,g),u}for(m=r(s,m);!y.done;g++,y=l.next())null!==(y=p(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=i(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(s,e)}),ia&&ea(s,g),u}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===S){if(7===u.tag){n(r,u.sibling),(a=s(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&wa(c)===u.type){n(r,u.sibling),(a=s(u,i.props)).ref=ya(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===S?((a=Mc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Lc(i.type,i.key,i.props,null,r.mode,l)).ref=ya(r,a,i),l.return=r,r=l)}return o(r);case N:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(i,r.mode,l)).return=r,r=a}return o(r);case A:return e(r,a,(u=i._init)(i._payload),l)}if(te(i))return m(r,a,i,l);if(O(i))return g(r,a,i,l);ba(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Uc(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Na=xa(!0),Sa=xa(!1),Ea=ks(null),_a=null,ka=null,Ca=null;function ja(){Ca=ka=_a=null}function Ta(e){var t=Ea.current;Cs(Ea),e._currentValue=t}function Ia(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Da(e,t){_a=e,Ca=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===_a)throw Error(a(308));ka=e,_a.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ra=null;function Pa(e){null===Ra?Ra=[e]:Ra.push(e)}function Oa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Va(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,La(e,n)}return null===(s=r.interleaved)?(t.next=t,Pa(r)):(t.next=s.next,s.next=t),r.interleaved=t,La(e,n)}function za(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var s=e.updateQueue;Ma=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var h=s.baseState;for(i=0,u=c=l=null,o=a;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:Ma=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,i|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Fl|=i,e.lanes=i,e.memoizedState=h}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ka={},Ga=ks(Ka),Qa=ks(Ka),Ya=ks(Ka);function Xa(e){if(e===Ka)throw Error(a(174));return e}function Ja(e,t){switch(js(Ya,t),js(Qa,e),js(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Ga),js(Ga,t)}function $a(){Cs(Ga),Cs(Qa),Cs(Ya)}function Za(e){Xa(Ya.current);var t=Xa(Ga.current),n=le(t,e.type);t!==n&&(js(Qa,e),js(Ga,n))}function ei(e){Qa.current===e&&(Cs(Ga),Cs(Qa))}var ti=ks(0);function ni(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function si(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var ai=w.ReactCurrentDispatcher,ii=w.ReactCurrentBatchConfig,oi=0,li=null,ci=null,ui=null,hi=!1,di=!1,fi=0,pi=0;function mi(){throw Error(a(321))}function gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function vi(e,t,n,r,s,i){if(oi=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?eo:to,e=n(r,s),di){i=0;do{if(di=!1,fi=0,25<=i)throw Error(a(301));i+=1,ui=ci=null,t.updateQueue=null,ai.current=no,e=n(r,s)}while(di)}if(ai.current=Zi,t=null!==ci&&null!==ci.next,oi=0,ui=ci=li=null,hi=!1,t)throw Error(a(300));return e}function yi(){var e=0!==fi;return fi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ui?li.memoizedState=ui=e:ui=ui.next=e,ui}function wi(){if(null===ci){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=ci.next;var t=null===ui?li.memoizedState:ui.next;if(null!==t)ui=t,ci=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ci=e).memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},null===ui?li.memoizedState=ui=e:ui=ui.next=e}return ui}function xi(e,t){return"function"===typeof t?t(e):t}function Ni(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ci,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((oi&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,li.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,lr(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,li.lanes|=i,Fl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=wi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);lr(i,t.memoizedState)||(xo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ei(){}function _i(e,t){var n=li,r=wi(),s=t(),i=!lr(r.memoizedState,s);if(i&&(r.memoizedState=s,xo=!0),r=r.queue,Mi(ji.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ui&&1&ui.memoizedState.tag){if(n.flags|=2048,Ai(9,Ci.bind(null,n,r,s,t),void 0,null),null===Dl)throw Error(a(349));0!==(30&oi)||ki(n,t,s)}return s}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ci(e,t,n,r){t.value=n,t.getSnapshot=r,Ti(t)&&Ii(e)}function ji(e,t,n){return n(function(){Ti(t)&&Ii(e)})}function Ti(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ii(e){var t=La(e,1);null!==t&&sc(t,e,1,-1)}function Di(e){var t=bi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,li,e),[t.memoizedState,e]}function Ai(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ri(){return wi().memoizedState}function Pi(e,t,n,r){var s=bi();li.flags|=e,s.memoizedState=Ai(1|t,n,void 0,void 0===r?null:r)}function Oi(e,t,n,r){var s=wi();r=void 0===r?null:r;var a=void 0;if(null!==ci){var i=ci.memoizedState;if(a=i.destroy,null!==r&&gi(r,i.deps))return void(s.memoizedState=Ai(t,n,a,r))}li.flags|=e,s.memoizedState=Ai(1|t,n,a,r)}function Li(e,t){return Pi(8390656,8,e,t)}function Mi(e,t){return Oi(2048,8,e,t)}function Fi(e,t){return Oi(4,2,e,t)}function Ui(e,t){return Oi(4,4,e,t)}function Vi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Vi.bind(null,t,e),n)}function zi(){}function Bi(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hi(e,t){var n=wi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&oi)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),li.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ki(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ii.transition;ii.transition={};try{e(!1),t()}finally{bt=n,ii.transition=r}}function Gi(){return wi().memoizedState}function Qi(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xi(e))Ji(t,n);else if(null!==(n=Oa(e,t,n,r))){sc(n,e,r,nc()),$i(n,t,r)}}function Yi(e,t,n){var r=rc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xi(e))Ji(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,lr(o,i)){var l=t.interleaved;return null===l?(s.next=s,Pa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Oa(e,t,s,r))&&(sc(n,e,r,s=nc()),$i(n,t,r))}}function Xi(e){var t=e.alternate;return e===li||null!==t&&t===li}function Ji(e,t){di=hi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $i(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zi={readContext:Aa,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},eo={readContext:Aa,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4194308,4,Vi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=bi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qi.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Di,useDebugValue:zi,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Di(!1),t=e[0];return e=Ki.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=li,s=bi();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Dl)throw Error(a(349));0!==(30&oi)||ki(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Li(ji.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,Ci.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=bi(),t=Dl.identifierPrefix;if(ia){var n=Zs;t=":"+t+"R"+(n=($s&~(1<<32-it($s)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},to={readContext:Aa,useCallback:Bi,useContext:Aa,useEffect:Mi,useImperativeHandle:qi,useInsertionEffect:Fi,useLayoutEffect:Ui,useMemo:Hi,useReducer:Ni,useRef:Ri,useState:function(){return Ni(xi)},useDebugValue:zi,useDeferredValue:function(e){return Wi(wi(),ci.memoizedState,e)},useTransition:function(){return[Ni(xi)[0],wi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:_i,useId:Gi,unstable_isNewReconciler:!1},no={readContext:Aa,useCallback:Bi,useContext:Aa,useEffect:Mi,useImperativeHandle:qi,useInsertionEffect:Fi,useLayoutEffect:Ui,useMemo:Hi,useReducer:Si,useRef:Ri,useState:function(){return Si(xi)},useDebugValue:zi,useDeferredValue:function(e){var t=wi();return null===ci?t.memoizedState=e:Wi(t,ci.memoizedState,e)},useTransition:function(){return[Si(xi)[0],wi().memoizedState]},useMutableSource:Ei,useSyncExternalStore:_i,useId:Gi,unstable_isNewReconciler:!1};function ro(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function so(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),a=Va(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,s))&&(sc(t,e,s,r),za(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),s=rc(e),a=Va(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=qa(e,a,s))&&(sc(t,e,s,r),za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),s=Va(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=qa(e,s,r))&&(sc(t,e,r,n),za(t,e,r))}};function io(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(s,a))}function oo(e,t,n){var r=!1,s=Ts,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(s=Ps(t)?As:Is.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Rs(e,s):Ts),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function lo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function co(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fa(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Aa(a):(a=Ps(t)?As:Is.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(so(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),Ha(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Va(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),fo(0,t)},n}function go(e,t,n){(n=Va(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){fo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Ql?Ql=new Set([this]):Ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Va(-1,1)).tag=2,qa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var wo=w.ReactCurrentOwner,xo=!1;function No(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Na(t,e.child,n,r)}function So(e,t,n,r,s){n=n.render;var a=t.ref;return Da(t,s),r=vi(e,t,n,r,a,s),n=yi(),null===e||xo?(ia&&n&&na(t),t.flags|=1,No(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function Eo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_o(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return Ko(e,t,s)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Ko(e,t,s);0!==(131072&e.flags)&&(xo=!0)}}return jo(e,t,n,r,s)}function ko(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},js(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,js(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,js(Ol,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,js(Ol,Pl),Pl|=r;return No(e,t,s,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,s){var a=Ps(n)?As:Is.current;return a=Rs(t,a),Da(t,s),n=vi(e,t,n,r,a,s),r=yi(),null===e||xo?(ia&&r&&na(t),t.flags|=1,No(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function To(e,t,n,r,s){if(Ps(n)){var a=!0;Fs(t)}else a=!1;if(Da(t,s),null===t.stateNode)Wo(e,t),oo(t,n,r),co(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Aa(c):c=Rs(t,c=Ps(n)?As:Is.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;h||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&lo(t,i,r,c),Ma=!1;var d=t.memoizedState;i.state=d,Ha(t,r,i,s),l=t.memoizedState,o!==r||d!==l||Ds.current||Ma?("function"===typeof u&&(so(t,n,u,r),l=t.memoizedState),(o=Ma||io(t,n,o,r,d,l,c))?(h||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ua(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ro(t.type,o),i.props=c,h=t.pendingProps,d=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Aa(l):l=Rs(t,l=Ps(n)?As:Is.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==h||d!==l)&&lo(t,i,r,l),Ma=!1,d=t.memoizedState,i.state=d,Ha(t,r,i,s);var p=t.memoizedState;o!==h||d!==p||Ds.current||Ma?("function"===typeof f&&(so(t,n,f,r),p=t.memoizedState),(c=Ma||io(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,a,s)}function Io(e,t,n,r,s,a){Co(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Us(t,n,!1),Ko(e,t,a);r=t.stateNode,wo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Na(t,e.child,null,a),t.child=Na(t,null,o,a)):No(e,t,o,a),t.memoizedState=r.state,s&&Us(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ja(e,t.containerInfo)}function Ao(e,t,n,r,s){return ma(),ga(s),t.flags|=256,No(e,t,n,r),t.child}var Ro,Po,Oo,Lo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,s=t.pendingProps,i=ti.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),js(ti,1&i),null===e)return ha(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,s,0,null),e=Mc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Mo,e):Vo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,qo(e,t,o,r=ho(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Fc({mode:"visible",children:r.children},s,0,null),(i=Mc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&Na(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Mo,i);if(0===(1&t.mode))return qo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,qo(e,t,o,r=ho(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Dl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,La(e,s),sc(r,e,s,-1))}return vc(),qo(e,t,o,r=ho(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,aa=hs(s.nextSibling),sa=t,ia=!0,oa=null,null!==e&&(Ys[Xs++]=$s,Ys[Xs++]=Zs,Ys[Xs++]=Js,$s=e.id,Zs=e.overflow,Js=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Oc(r,o):(o=Mc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,s}return e=(o=e.child).sibling,s=Oc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Vo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function qo(e,t,n,r){return null!==r&&ga(r),Na(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ia(e.return,t,n)}function Bo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ho(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(No(e,t,r.children,n),0!==(2&(r=ti.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(js(ti,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ni(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ni(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qo(t),null;case 1:case 17:return Ps(t.type)&&Os(),Qo(t),null;case 3:return r=t.stateNode,$a(),Cs(Ds),Cs(Is),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(lc(oa),oa=null))),Po(e,t),Qo(t),null;case 5:ei(t);var s=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qo(t),null}if(e=Xa(Ga.current),fa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ps]=t,r[ms]=i,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(s=0;s<Mr.length;s++)qr(Mr[s],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":X(r,i),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qr("invalid",r);break;case"textarea":se(r,i),qr("invalid",r)}for(var l in ye(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&es(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&es(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":K(r),Z(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=ts)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ps]=t,e[ms]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":qr("cancel",e),qr("close",e),s=r;break;case"iframe":case"object":case"embed":qr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Mr.length;s++)qr(Mr[s],e);s=r;break;case"source":qr("error",e),s=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),s=r;break;case"details":qr("toggle",e),s=r;break;case"input":X(e,r),s=Y(e,r),qr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),qr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),qr("invalid",e)}for(i in ye(n,s),c=s)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&qr("scroll",e):null!=u&&b(e,i,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qo(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa(Ga.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ps]=t,(i=r.nodeValue!==n)&&null!==(e=sa))switch(e.tag){case 3:es(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&es(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ps]=t,t.stateNode=r}return Qo(t),null;case 13:if(Cs(ti),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==aa&&0!==(1&t.mode)&&0===(128&t.flags))pa(),ma(),t.flags|=98560,i=!1;else if(i=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ps]=t}else ma(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qo(t),i=!1}else null!==oa&&(lc(oa),oa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ti.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qo(t),null);case 4:return $a(),Po(e,t),null===e&&Hr(t.stateNode.containerInfo),Qo(t),null;case 10:return Ta(t.type._context),Qo(t),null;case 19:if(Cs(ti),null===(i=t.memoizedState))return Qo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Go(i,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ni(e))){for(t.flags|=128,Go(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return js(ti,1&ti.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Hl&&(t.flags|=128,r=!0,Go(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ni(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ia)return Qo(t),null}else 2*Je()-i.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ti.current,js(ti,r?1&n|2:1&n),t):(Qo(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Qo(t),6&t.subtreeFlags&&(t.flags|=8192)):Qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xo(e,t){switch(ra(t),t.tag){case 1:return Ps(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),Cs(Ds),Cs(Is),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ei(t),null;case 13:if(Cs(ti),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(ti),null;case 4:return $a(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Xa(Ga.current);var a,i=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),i=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=ts)}for(u in ye(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,$o=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var rl=!1;function sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&nl(t,n,a)}s=s.next}while(s!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ps],delete t[ms],delete t[vs],delete t[ys],delete t[bs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ts));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var dl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:$o||tl(n,t);case 6:var r=dl,s=fl;dl=null,pl(e,t,n),fl=s,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?us(e.parentNode,n):1===e.nodeType&&us(e,n),zt(e)):us(dl,n.stateNode));break;case 4:r=dl,s=fl,dl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),dl=r,fl=s;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&nl(n,t,i),s=s.next}while(s!==r)}pl(e,t,n);break;case 1:if(!$o&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,pl(e,t,n),$o=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));ml(i,o,s),dl=null,fl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){kc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{sl(3,e,e.return),al(3,e)}catch(g){kc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(s,i),be(l,o);var u=be(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(s,d):"dangerouslySetInnerHTML"===h?he(s,d):"children"===h?de(s,d):b(s,h,d,u)}switch(l){case"input":$(s,i);break;case"textarea":ae(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[ms]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=Je())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($o=(u=$o)||h,vl(t,e),$o=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(el=e,h=e.child;null!==h;){for(d=el=h;null!==el;){switch(p=(f=el).child,f.tag){case 0:case 11:case 14:case 15:sl(4,f,f.return);break;case 1:tl(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:tl(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,el=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),hl(e,cl(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ul(e,cl(e),i);break;default:throw Error(a(161))}}catch(Or){kc(e,e.return,Or)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){el=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var s=el,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Jo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Jo;var c=$o;if(Jo=i,($o=l)&&!c)for(el=s;null!==el;)l=(i=el).child,22===i.tag&&null!==i.memoizedState?El(s):null!==l?(l.return=i,el=l):El(s);for(;null!==a;)el=a,xl(a,t,n),a=a.sibling;el=s,Jo=o,$o=c}Nl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,el=a):Nl(e)}}function Nl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ro(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Wa(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}$o||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(Or){kc(t,n,Or)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(Or){kc(t,s,Or)}}var a=t.return;try{il(t)}catch(Or){kc(t,a,Or)}break;case 5:var i=t.return;try{il(t)}catch(Or){kc(t,i,Or)}}}catch(Or){kc(t,t.return,Or)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var _l,kl=Math.ceil,Cl=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Dl=null,Al=null,Rl=0,Pl=0,Ol=ks(0),Ll=0,Ml=null,Fl=0,Ul=0,Vl=0,ql=null,zl=null,Bl=0,Hl=1/0,Wl=null,Kl=!1,Gl=null,Ql=null,Yl=!1,Xl=null,Jl=0,$l=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Il)?Je():-1!==ec?ec:ec=Je()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==va.transition?(0===tc&&(tc=mt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function sc(e,t,n,r){if(50<$l)throw $l=0,Zl=null,Error(a(185));vt(e,n,r),0!==(2&Il)&&e===Dl||(e===Dl&&(0===(2&Il)&&(Ul|=n),4===Ll&&cc(e,Rl)),ac(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=Je()+500,qs&&Hs()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Dl?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){qs=!0,Bs(e)}(uc.bind(null,e)):Bs(uc.bind(null,e)),ls(function(){0===(6&Il)&&Hs()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Dc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(ec=-1,tc=0,0!==(6&Il))throw Error(a(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Dl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var s=Il;Il|=2;var i=gc();for(Dl===e&&Rl===t||(Wl=null,Hl=Je()+500,pc(e,t));;)try{wc();break}catch(l){mc(e,l)}ja(),Cl.current=i,Il=s,null!==Al?t=0:(Dl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=oc(e,s))),1===t)throw n=Ml,pc(e,0),cc(e,r),ac(e,Je()),n;if(6===t)cc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!lr(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=yc(e,r))&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t))throw n=Ml,pc(e,0),cc(e,r),ac(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,zl,Wl);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=as(Sc.bind(null,e,zl,Wl),t);break}Sc(e,zl,Wl);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=as(Sc.bind(null,e,zl,Wl),r);break}Sc(e,zl,Wl);break;default:throw Error(a(329))}}}return ac(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=ql;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&lc(t)),e}function lc(e){null===zl?zl=e:zl.push.apply(zl,e)}function cc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Il))throw Error(a(327));Ec();var t=dt(e,0);if(0===(1&t))return ac(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,pc(e,0),cc(e,t),ac(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,zl,Wl),ac(e,Je()),null}function hc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=Je()+500,qs&&Hs())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Hs()}}function fc(){Pl=Ol.current,Cs(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,is(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ra(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Os();break;case 3:$a(),Cs(Ds),Cs(Is),si();break;case 5:ei(r);break;case 4:$a();break;case 13:case 19:Cs(ti);break;case 10:Ta(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Dl=e,Al=e=Oc(e.current,null),Rl=Pl=t,Ll=0,Ml=null,Vl=Ul=Fl=0,zl=ql=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Ra=null}return e}function mc(e,t){for(;;){var n=Al;try{if(ja(),ai.current=Zi,hi){for(var r=li.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}hi=!1}if(oi=0,ui=ci=li=null,di=!1,fi=0,jl.current=null,null===n||null===n.return){Ll=1,Ml=t,Al=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,bo(p,o,l,0,t),1&p.mode&&vo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){vo(i,u,t),vc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=yo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),ga(uo(c,l));break e}}i=c=uo(c,l),4!==Ll&&(Ll=2),null===ql?ql=[i]:ql.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,mo(0,c,t));break e;case 1:l=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ql||!Ql.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Ba(i,go(i,l,t));break e}}i=i.return}while(null!==i)}Nc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=Zi,null===e?Zi:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Dl||0===(268435455&Fl)&&0===(268435455&Ul)||cc(Dl,Rl)}function yc(e,t){var n=Il;Il|=2;var r=gc();for(Dl===e&&Rl===t||(Wl=null,pc(e,t));;)try{bc();break}catch(s){mc(e,s)}if(ja(),Il=n,Cl.current=r,null!==Al)throw Error(a(261));return Dl=null,Rl=0,Ll}function bc(){for(;null!==Al;)xc(Al)}function wc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Nc(e):Al=t,jl.current=null}function Nc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Pl)))return void(Al=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ll=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ll&&(Ll=5)}function Sc(e,t,n){var r=bt,s=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Xl);if(0!==(6&Il))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Dl&&(Al=Dl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Dc(tt,function(){return Ec(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,jl.current=null,function(e,t){if(ns=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(nr){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==i||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rs={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ro(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(nr){kc(t,t.return,nr)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}m=rl,rl=!1}(e,n),yl(n,e),mr(rs),Ht=!!ns,rs=ns=null,e.current=n,wl(n,e,s),Xe(),Il=l,bt=o,Tl.transition=i}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Jl=s),i=e.pendingLanes,0===i&&(Ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&Jl)&&0!==e.tag&&Ec(),i=e.pendingLanes,0!==(1&i)?e===Zl?$l++:($l=0,Zl=e):$l=0,Hs()}(e,t,n,r)}finally{Tl.transition=s,bt=r}return null}function Ec(){if(null!==Xl){var e=wt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Jl=0,0!==(6&Il))throw Error(a(331));var s=Il;for(Il|=4,el=e.current;null!==el;){var i=el,o=i.child;if(0!==(16&el.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var h=el;switch(h.tag){case 0:case 11:case 15:sl(8,h,i)}var d=h.child;if(null!==d)d.return=h,el=d;else for(;null!==el;){var f=(h=el).sibling,p=h.return;if(ol(h),h===u){el=null;break}if(null!==f){f.return=p,el=f;break}el=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,el=o;else e:for(;null!==el;){if(0!==(2048&(i=el).flags))switch(i.tag){case 0:case 11:case 15:sl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,el=y;break e}el=i.return}}var b=e.current;for(el=b;null!==el;){var w=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,el=w;else e:for(o=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(N){kc(l,l.return,N)}if(l===o){el=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,el=x;break e}el=l.return}}if(Il=s,Hs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function _c(e,t,n){e=qa(e,t=mo(0,t=uo(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ql||!Ql.has(r))){t=qa(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Je()-Bl?pc(e,0):Vl|=n),ac(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=La(e,t))&&(vt(e,t,n),ac(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),jc(e,n)}function Dc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ac(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Mc(n.children,s,i,t);case E:o=8,s|=8;break;case _:return(e=Rc(12,n,t,2|s)).elementType=_,e.lanes=i,e;case T:return(e=Rc(13,n,t,s)).elementType=T,e.lanes=i,e;case I:return(e=Rc(19,n,t,s)).elementType=I,e.lanes=i,e;case R:return Fc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case j:o=11;break e;case D:o=14;break e;case A:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,s,a,i,o,l){return e=new qc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(a),e}function Bc(e){if(!e)return Ts;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ps(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ps(n))return Ms(e,n,t)}return t}function Hc(e,t,n,r,s,a,i,o,l){return(e=zc(n,r,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=Va(r=nc(),s=rc(n))).callback=void 0!==t&&null!==t?t:null,qa(n,a,s),e.current.lanes=s,vt(e,s,r),ac(e,r),e}function Wc(e,t,n,r){var s=t.current,a=nc(),i=rc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Va(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qa(s,t,i))&&(sc(e,s,i,a),za(e,s,i)),i}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ds.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),ma();break;case 5:Za(t);break;case 1:Ps(t.type)&&Fs(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;js(Ea,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(js(ti,1&ti.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(js(ti,1&ti.current),null!==(e=Ko(e,t,n))?e.sibling:null);js(ti,1&ti.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),js(ti,ti.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ko(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ia&&0!==(1048576&t.flags)&&ta(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var s=Rs(t,Is.current);Da(t,n),s=vi(null,t,r,e,s,n);var i=yi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ps(r)?(i=!0,Fs(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Fa(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,co(t,r,e,n),t=Io(null,t,r,!0,i,n)):(t.tag=0,ia&&i&&na(t),No(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===D)return 14}return 2}(r),e=ro(r,e),s){case 0:t=jo(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,ro(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,jo(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 1:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 3:e:{if(Do(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Ua(e,t),Ha(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ao(e,t,r,n,s=uo(Error(a(423)),t));break e}if(r!==s){t=Ao(e,t,r,n,s=uo(Error(a(424)),t));break e}for(aa=hs(t.stateNode.containerInfo.firstChild),sa=t,ia=!0,oa=null,n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===s){t=Ko(e,t,n);break e}No(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&ha(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ss(r,s)?o=null:null!==i&&ss(r,i)&&(t.flags|=32),Co(e,t),No(e,t,o,n),t.child;case 6:return null===e&&ha(t),null;case 13:return Uo(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Na(t,null,r,n):No(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:ro(r,s),n);case 7:return No(e,t,t.pendingProps,n),t.child;case 8:case 12:return No(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,js(Ea,r._currentValue),r._currentValue=o,null!==i)if(lr(i.value,o)){if(i.children===s.children&&!Ds.current){t=Ko(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Va(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ia(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ia(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}No(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Da(t,n),r=r(s=Aa(s)),t.flags|=1,No(e,t,r,n),t.child;case 14:return s=ro(r=t.type,t.pendingProps),Eo(e,t,r,s=ro(r.type,s),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ro(r,s),Wo(e,t),t.tag=1,Ps(r)?(e=!0,Fs(t)):e=!1,Da(t,n),oo(t,r,s),co(t,r,s,n),Io(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return ko(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Kc(i);o.call(e)}}Wc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Kc(i);a.call(e)}}var i=Hc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=i,e[gs]=i.current,Hr(8===e.nodeType?e.parentNode:e),dc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[gs]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,s,r);return Kc(i)}Jc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Jc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[gs]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Je()),0===(6&Il)&&(Hl=Je()+500,Hs()))}break;case 13:dc(function(){var t=La(e,1);if(null!==t){var n=nc();sc(t,e,1,n)}}),Qc(e,1)}},Nt=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)sc(t,e,134217728,nc());Qc(e,134217728)}},St=function(e){if(13===e.tag){var t=rc(e),n=La(e,t);if(null!==n)sc(n,e,t,nc());Qc(e,t)}},Et=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ss(r);if(!s)throw Error(a(90));G(r),$(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=hc,Te=dc;var nu={usingClientEntryPoint:!1,Events:[xs,Ns,Ss,ke,Ce,hc]},ru={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},su={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{st=au.inject(su),at=au}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",s=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,s),e[gs]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,i,o),e[gs]=t.current,Hr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Jc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[gs]=null})}),!0)},t.unstable_batchedUpdates=hc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".a8d8b9ca.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="clickalinks-frontend:";n.l=(r,s,a,i)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[s];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=a);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,a,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkclickalinks_frontend=self.webpackChunkclickalinks_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,s=n(43),a=n.t(s,2),i=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function v(e,t,n,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=r.Pop,d=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){l=r.Pop;let e=v(),t=null==e?null:e-g;g=e,d&&d({action:l,location:w.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(a,o)},listen(e){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(u,y),d=e,()=>{a.removeEventListener(u,y),d=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(w.location,e,t);n&&n(s,e),g=v()+1;let c=f(s,g),u=w.createHref(s);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(u)}i&&d&&d({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(w.location,e,t);n&&n(s,e),g=v();let a=f(s,g),c=w.createHref(s);o.replaceState(a,"",c),i&&d&&d({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let a=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=R(s);i=D(a[o],e,r)}return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(h(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=z([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))s(e,t,r);else s(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=N(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const S=/^:[\w-]+$/,E=3,_=2,k=1,C=10,j=-2,T=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=j),t&&(r+=_),n.filter(e=>!T(e)).reduce((e,t)=>e+(S.test(t)?E:""===t?k:C),r)}function D(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),i.push({params:s,pathname:z([a,u.pathname]),pathnameBase:B(z([a,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(a=z([a,u.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function L(e,t){void 0===t&&(t="/");let n,{pathname:r,search:s="",hash:a=""}="string"===typeof e?g(e):e;if(r)if(i=r,O.test(i))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),d(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?M(r.substring(1),"/"):M(r,t)}else n=t;var i;return{pathname:n,search:H(s),hash:W(a)}}function M(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=U(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function q(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),h(!s.pathname||!s.pathname.includes("?"),F("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),F("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),F("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=L(s,a),u=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function K(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],Q=(new Set(G),["get",...G]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const X=s.createContext(null);const J=s.createContext(null);const $=s.createContext(null);const Z=s.createContext(null);const ee=s.createContext({outlet:null,matches:[],isDataRoute:!1});const te=s.createContext(null);function ne(){return null!=s.useContext(Z)}function re(){return ne()||h(!1),s.useContext(Z).location}function se(e){s.useContext($).static||s.useLayoutEffect(e)}function ae(){let{isDataRoute:e}=s.useContext(ee);return e?function(){let{router:e}=me(fe.UseNavigateStable),t=ve(pe.UseNavigateStable),n=s.useRef(!1);return se(()=>{n.current=!0}),s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},s)))},[e,t])}():function(){ne()||h(!1);let e=s.useContext(X),{basename:t,future:n,navigator:r}=s.useContext($),{matches:a}=s.useContext(ee),{pathname:i}=re(),o=JSON.stringify(V(a,n.v7_relativeSplatPath)),l=s.useRef(!1);return se(()=>{l.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=q(n,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:z([t,a.pathname])),(s.replace?r.replace:r.push)(a,s.state,s)},[t,r,o,i,e])}()}function ie(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext($),{matches:a}=s.useContext(ee),{pathname:i}=re(),o=JSON.stringify(V(a,r.v7_relativeSplatPath));return s.useMemo(()=>q(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function oe(e,t,n,a){ne()||h(!1);let{navigator:i}=s.useContext($),{matches:o}=s.useContext(ee),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=re();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||h(!1),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:v});let w=de(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return t&&w?s.createElement(Z.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},w):w}function le(){let e=function(){var e;let t=s.useContext(te),n=ge(pe.UseRouteError),r=ve(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=K(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const ce=s.createElement(le,null);class ue extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(ee.Provider,{value:this.props.routeContext},s.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function he(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(X);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(ee.Provider,{value:t},r)}function de(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let i,h=!1,d=null,f=null;var p;n&&(i=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||ce,c&&(u<0&&0===a?(p="route-fallback",!1||ye[p]||(ye[p]=!0),h=!0,f=null):u===a&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=i?d:h?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(he,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(ue,{location:n.location,revalidation:n.revalidation,component:d,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function me(e){let t=s.useContext(X);return t||h(!1),t}function ge(e){let t=s.useContext(J);return t||h(!1),t}function ve(e){let t=function(){let e=s.useContext(ee);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const ye={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function we(e){h(!1)}function xe(e){let{basename:t="/",children:n=null,location:a,navigationType:i=r.Pop,navigator:o,static:l=!1,future:c}=e;ne()&&h(!1);let u=t.replace(/^\/*/,"/"),d=s.useMemo(()=>({basename:u,navigator:o,static:l,future:Y({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof a&&(a=g(a));let{pathname:f="/",search:p="",hash:m="",state:v=null,key:y="default"}=a,b=s.useMemo(()=>{let e=P(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:v,key:y},navigationType:i}},[u,f,p,m,v,y,i]);return null==b?null:s.createElement($.Provider,{value:d},s.createElement(Z.Provider,{children:n,value:b}))}function Ne(e){let{children:t,location:n}=e;return oe(Se(t),n)}new Promise(()=>{});s.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Se(e.props.children,a));e.type!==we&&h(!1),e.props.index&&e.props.children&&h(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,a)),n.push(i)}),n}function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}function ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Qp){}new Map;const je=a.startTransition;l.flushSync,a.useId;function Te(e){let{basename:t,children:n,future:r,window:a}=e,i=s.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),v(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=i.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=s.useCallback(e=>{h&&je?je(()=>u(e)):u(e)},[u,h]);return s.useLayoutEffect(()=>l.listen(d),[l,d]),s.useEffect(()=>be(r),[r]),s.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,De=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=s.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=_e(e,Ce),{basename:g}=s.useContext($),v=!1;if("string"===typeof u&&De.test(u)&&(n=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=P(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(Qp){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||h(!1);let{basename:r,navigator:a}=s.useContext($),{hash:i,pathname:o,search:l}=ie(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:z([r,o])),a.createHref({pathname:c,search:l,hash:i})}(u,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ae(),u=re(),h=ie(e,{relative:o});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(h);c(e,{replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,h,r,a,n,e,i,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});return s.createElement("a",Ee({},p,{href:n||y,onClick:v||i?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Re,Pe;function Oe(e){let t=s.useRef(ke(e)),n=s.useRef(!1),r=re(),a=s.useMemo(()=>function(e,t){let n=ke(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),i=ae(),o=s.useCallback((e,t)=>{const r=ke("function"===typeof e?e(a):e);n.current=!0,i("?"+r,t)},[i,a]);return[a,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Me(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Fe(e,t,n){return(t=Me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const qe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],a=s+1<e.length,i=a?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|i>>4;let h=(15&i)<<2|l>>6,d=63&l;o||(d=64,a||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&a)}else if(s>239&&s<365){const a=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const i=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==a||null==i||null==o)throw new Be;const l=t<<2|a>>4;if(r.push(l),64!==i){const e=a<<4&240|i>>2;if(r.push(e),64!==o){const e=i<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(e){return function(e){const t=qe(e);return ze.encodeByteArray(t,!0)}(e).replace(/\./g,"")},We=function(e){try{return ze.decodeString(e,!0)}catch(Qp){console.error("base64Decode failed: ",Qp)}return null};function Ke(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ge=()=>{try{return Ke().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Qp){return}const t=e&&We(e[1]);return t&&JSON.parse(t)})()}catch(Qp){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Qp))}},Qe=e=>{const t=(e=>{var t;return null===(t=Ge())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ye=()=>{var e;return null===(e=Ge())||void 0===e?void 0:e.config};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Je(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function $e(e){return(await fetch(e,{credentials:"include"})).ok}function Ze(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Ve({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(a)),""].join(".")}const et={};let tt=!1;function nt(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Je(window.location.host)||et[e]===t||et[e]||tt)return;function n(e){return"__firebase__banner__".concat(e)}et[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(et))et[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{tt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,i,l,n),document.body.appendChild(t)}s?(i.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function rt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function st(){var e;const t=null===(e=Ge())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Qp){return!1}}function at(){return!st()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function it(){try{return"object"===typeof indexedDB}catch(Qp){return!1}}class ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(ct,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new ot(n,a,t)}}const ct=/\{\$([^}]+)}/g;function ut(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],a=t[s];if(ht(n)&&ht(a)){if(!ut(n,a))return!1}else if(n!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ht(e){return null!==e&&"object"===typeof e}function dt(e){return e&&e._delegate?e._delegate:e}class ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Xe;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Qp){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Qp){if(r)return null;throw Qp}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(Qp){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Qp){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===pt?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const bt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},wt=yt.INFO,xt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Nt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class St{constructor(e){this.name=e,this._logLevel=wt,this._logHandler=Nt,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}let Et,_t;const kt=new WeakMap,Ct=new WeakMap,jt=new WeakMap,Tt=new WeakMap,It=new WeakMap;let Dt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ct.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function At(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(_t||(_t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ot(this),n),Pt(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pt(e.apply(Ot(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const a=e.call(Ot(this),t,...r);return jt.set(a,t.sort?t.sort():[t]),Pt(a)}}function Rt(e){return"function"===typeof e?At(e):(e instanceof IDBTransaction&&function(e){if(Ct.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Ct.set(e,t)}(e),t=e,(Et||(Et=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Dt):e);var t}function Pt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{t(Pt(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&kt.set(t,e)}).catch(()=>{}),It.set(t,e),t}(e);if(Tt.has(e))return Tt.get(e);const t=Rt(e);return t!==e&&(Tt.set(e,t),It.set(t,e)),t}const Ot=e=>It.get(e);const Lt=["get","getKey","getAll","getAllKeys","count"],Mt=["put","add","delete","clear"],Ft=new Map;function Ut(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ft.get(t))return Ft.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Mt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Lt.includes(n))return;const a=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let a=t.store;for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),s&&t.done]))[0]};return Ft.set(t,a),a}Dt=(e=>Ve(Ve({},e),{},{get:(t,n,r)=>Ut(t,n)||e.get(t,n,r),has:(t,n)=>!!Ut(t,n)||e.has(t,n)}))(Dt);class Vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const qt="@firebase/app",zt="0.14.6",Bt=new St("@firebase/app"),Ht="@firebase/app-compat",Wt="@firebase/analytics-compat",Kt="@firebase/analytics",Gt="@firebase/app-check-compat",Qt="@firebase/app-check",Yt="@firebase/auth",Xt="@firebase/auth-compat",Jt="@firebase/database",$t="@firebase/data-connect",Zt="@firebase/database-compat",en="@firebase/functions",tn="@firebase/functions-compat",nn="@firebase/installations",rn="@firebase/installations-compat",sn="@firebase/messaging",an="@firebase/messaging-compat",on="@firebase/performance",ln="@firebase/performance-compat",cn="@firebase/remote-config",un="@firebase/remote-config-compat",hn="@firebase/storage",dn="@firebase/storage-compat",fn="@firebase/firestore",pn="@firebase/ai",mn="@firebase/firestore-compat",gn="firebase",vn="[DEFAULT]",yn={[qt]:"fire-core",[Ht]:"fire-core-compat",[Kt]:"fire-analytics",[Wt]:"fire-analytics-compat",[Qt]:"fire-app-check",[Gt]:"fire-app-check-compat",[Yt]:"fire-auth",[Xt]:"fire-auth-compat",[Jt]:"fire-rtdb",[$t]:"fire-data-connect",[Zt]:"fire-rtdb-compat",[en]:"fire-fn",[tn]:"fire-fn-compat",[nn]:"fire-iid",[rn]:"fire-iid-compat",[sn]:"fire-fcm",[an]:"fire-fcm-compat",[on]:"fire-perf",[ln]:"fire-perf-compat",[cn]:"fire-rc",[un]:"fire-rc-compat",[hn]:"fire-gcs",[dn]:"fire-gcs-compat",[fn]:"fire-fst",[mn]:"fire-fst-compat",[pn]:"fire-vertex","fire-js":"fire-js",[gn]:"fire-js-all"},bn=new Map,wn=new Map,xn=new Map;function Nn(e,t){try{e.container.addComponent(t)}catch(Qp){Bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Qp)}}function Sn(e){const t=e.name;if(xn.has(t))return Bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;xn.set(t,e);for(const n of bn.values())Nn(n,e);for(const n of wn.values())Nn(n,e);return!0}function En(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return null!==e&&void 0!==e&&void 0!==e.settings}const kn=new lt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Cn{constructor(e,t,n){this._isDeleted=!1,this._options=Ve({},e),this._config=Ve({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}const jn="12.6.0";function Tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Ve({name:vn,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw kn.create("bad-app-name",{appName:String(s)});if(n||(n=Ye()),!n)throw kn.create("no-options");const a=bn.get(s);if(a){if(ut(n,a.options)&&ut(r,a.config))return a;throw kn.create("duplicate-app",{appName:s})}const i=new gt(s);for(const l of xn.values())i.addComponent(l);const o=new Cn(n,r,i);return bn.set(s,o),o}function In(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn;const t=bn.get(e);if(!t&&e===vn&&Ye())return Tn();if(!t)throw kn.create("no-app",{appName:e});return t}function Dn(e,t,n){var r;let s=null!==(r=yn[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Bt.warn(e.join(" "))}Sn(new ft("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const An="firebase-heartbeat-store";let Rn=null;function Pn(){return Rn||(Rn=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),o=Pt(i);return r&&i.addEventListener("upgradeneeded",e=>{r(Pt(i.result),e.oldVersion,e.newVersion,Pt(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(An)}catch(Qp){console.warn(Qp)}}}).catch(e=>{throw kn.create("idb-open",{originalErrorMessage:e.message})})),Rn}async function On(e,t){try{const n=(await Pn()).transaction(An,"readwrite"),r=n.objectStore(An);await r.put(t,Ln(e)),await n.done}catch(Qp){if(Qp instanceof ot)Bt.warn(Qp.message);else{const t=kn.create("idb-set",{originalErrorMessage:null===Qp||void 0===Qp?void 0:Qp.message});Bt.warn(t.message)}}}function Ln(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Un(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fn();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Qp){Bt.warn(Qp)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Vn(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(Qp){return Bt.warn(Qp),""}}}function Fn(){return(new Date).toISOString().substring(0,10)}class Un{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!it()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Pn()).transaction(An),n=await t.objectStore(An).get(Ln(e));return await t.done,n}catch(Qp){if(Qp instanceof ot)Bt.warn(Qp.message);else{const t=kn.create("idb-get",{originalErrorMessage:null===Qp||void 0===Qp?void 0:Qp.message});Bt.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return On(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Vn(e){return He(JSON.stringify({version:2,heartbeats:e})).length}var qn;qn="",Sn(new ft("platform-logger",e=>new Vt(e),"PRIVATE")),Sn(new ft("heartbeat",e=>new Mn(e),"PRIVATE")),Dn(qt,zt,qn),Dn(qt,zt,"esm2020"),Dn("fire-js","");Dn("firebase","12.6.0","app");var zn,Bn,Hn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var s=0;s<16;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;s<16;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];let a,i=e.g[3];a=t+(i^n&(s^i))+r[0]+3614090360&4294967295,a=i+(s^(t=n+(a<<7&4294967295|a>>>25))&(n^s))+r[1]+3905402710&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[2]+606105819&4294967295,a=n+(t^(s=i+(a<<17&4294967295|a>>>15))&(i^t))+r[3]+3250441966&4294967295,a=t+(i^(n=s+(a<<22&4294967295|a>>>10))&(s^i))+r[4]+4118548399&4294967295,a=i+(s^(t=n+(a<<7&4294967295|a>>>25))&(n^s))+r[5]+1200080426&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(s=i+(a<<17&4294967295|a>>>15))&(i^t))+r[7]+4249261313&4294967295,a=t+(i^(n=s+(a<<22&4294967295|a>>>10))&(s^i))+r[8]+1770035416&4294967295,a=i+(s^(t=n+(a<<7&4294967295|a>>>25))&(n^s))+r[9]+2336552879&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(s=i+(a<<17&4294967295|a>>>15))&(i^t))+r[11]+2304563134&4294967295,a=t+(i^(n=s+(a<<22&4294967295|a>>>10))&(s^i))+r[12]+1804603682&4294967295,a=i+(s^(t=n+(a<<7&4294967295|a>>>25))&(n^s))+r[13]+4254626195&4294967295,i=t+(a<<12&4294967295|a>>>20),a=s+(n^i&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(s=i+(a<<17&4294967295|a>>>15))&(i^t))+r[15]+1236535329&4294967295,a=t+(s^i&((n=s+(a<<22&4294967295|a>>>10))^s))+r[1]+4129170786&4294967295,a=i+(n^s&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[11]+643717713&4294967295,a=n+(i^t&((s=i+(a<<14&4294967295|a>>>18))^i))+r[0]+3921069994&4294967295,a=t+(s^i&((n=s+(a<<20&4294967295|a>>>12))^s))+r[5]+3593408605&4294967295,a=i+(n^s&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[15]+3634488961&4294967295,a=n+(i^t&((s=i+(a<<14&4294967295|a>>>18))^i))+r[4]+3889429448&4294967295,a=t+(s^i&((n=s+(a<<20&4294967295|a>>>12))^s))+r[9]+568446438&4294967295,a=i+(n^s&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[3]+4107603335&4294967295,a=n+(i^t&((s=i+(a<<14&4294967295|a>>>18))^i))+r[8]+1163531501&4294967295,a=t+(s^i&((n=s+(a<<20&4294967295|a>>>12))^s))+r[13]+2850285829&4294967295,a=i+(n^s&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,i=t+(a<<9&4294967295|a>>>23),a=s+(t^n&(i^t))+r[7]+1735328473&4294967295,a=n+(i^t&((s=i+(a<<14&4294967295|a>>>18))^i))+r[12]+2368359562&4294967295,a=t+((n=s+(a<<20&4294967295|a>>>12))^s^i)+r[5]+4294588738&4294967295,a=i+((t=n+(a<<4&4294967295|a>>>28))^n^s)+r[8]+2272392833&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[11]+1839030562&4294967295,a=n+((s=i+(a<<16&4294967295|a>>>16))^i^t)+r[14]+4259657740&4294967295,a=t+((n=s+(a<<23&4294967295|a>>>9))^s^i)+r[1]+2763975236&4294967295,a=i+((t=n+(a<<4&4294967295|a>>>28))^n^s)+r[4]+1272893353&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[7]+4139469664&4294967295,a=n+((s=i+(a<<16&4294967295|a>>>16))^i^t)+r[10]+3200236656&4294967295,a=t+((n=s+(a<<23&4294967295|a>>>9))^s^i)+r[13]+681279174&4294967295,a=i+((t=n+(a<<4&4294967295|a>>>28))^n^s)+r[0]+3936430074&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[3]+3572445317&4294967295,a=n+((s=i+(a<<16&4294967295|a>>>16))^i^t)+r[6]+76029189&4294967295,a=t+((n=s+(a<<23&4294967295|a>>>9))^s^i)+r[9]+3654602809&4294967295,a=i+((t=n+(a<<4&4294967295|a>>>28))^n^s)+r[12]+3873151461&4294967295,i=t+(a<<11&4294967295|a>>>21),a=s+(i^t^n)+r[15]+530742520&4294967295,a=n+((s=i+(a<<16&4294967295|a>>>16))^i^t)+r[2]+3299628645&4294967295,a=t+(s^((n=s+(a<<23&4294967295|a>>>9))|~i))+r[0]+4096336452&4294967295,a=i+(n^((t=n+(a<<6&4294967295|a>>>26))|~s))+r[7]+1126891415&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[14]+2878612391&4294967295,a=n+(i^((s=i+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(s^((n=s+(a<<21&4294967295|a>>>11))|~i))+r[12]+1700485571&4294967295,a=i+(n^((t=n+(a<<6&4294967295|a>>>26))|~s))+r[3]+2399980690&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[10]+4293915773&4294967295,a=n+(i^((s=i+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(s^((n=s+(a<<21&4294967295|a>>>11))|~i))+r[8]+1873313359&4294967295,a=i+(n^((t=n+(a<<6&4294967295|a>>>26))|~s))+r[15]+4264355552&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[6]+2734768916&4294967295,a=n+(i^((s=i+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(s^((n=s+(a<<21&4294967295|a>>>11))|~i))+r[4]+4149444226&4294967295,a=i+(n^((t=n+(a<<6&4294967295|a>>>26))|~s))+r[11]+3174756917&4294967295,i=t+(a<<10&4294967295|a>>>22),a=s+(t^(i|~n))+r[2]+718787259&4294967295,a=n+(i^((s=i+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let s=e.length-1;s>=0;s--){const a=0|e[s];r&&a==t||(n[s]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,s=this.C;let a=this.h,i=0;for(;i<t;){if(0==a)for(;i<=r;)n(this,e,i),i+=this.blockSize;if("string"===typeof e){for(;i<t;)if(s[a++]=e.charCodeAt(i++),a==this.blockSize){n(this,s),a=0;break}}else for(;i<t;)if(s[a++]=e[i++],a==this.blockSize){n(this,s),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function a(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function i(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return d(i(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var s=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(s=s.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=i(n)).j(t);h(c)||c.l(e)>0;)c=(a=i(n-=r)).j(t);u(a)&&(a=l),s=s.add(a),e=f(e,c)}return new m(s,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const s=e.g.length-n,a=[];for(let r=0;r<s;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);const t=i(Math.pow(e,6));var n=this;let r="";for(;;){const s=g(n,t).g;let a=(((n=f(n,s.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let s=0;for(let r=0;r<=t;r++){let t=s+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(this.l(c)<0&&e.l(c)<0)return i(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(let t=0;t<e.g.length;t++){const r=this.i(s)>>>16,a=65535&this.i(s),i=e.i(t)>>>16,o=65535&e.i(t);n[2*s+2*t]+=a*o,p(n,2*s+2*t),n[2*s+2*t+1]+=r*o,p(n,2*s+2*t+1),n[2*s+2*t+1]+=a*i,p(n,2*s+2*t+1),n[2*s+2*t+2]+=r*i,p(n,2*s+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,Bn=Wn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=i,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=i(Math.pow(n,8));let s=o;for(let o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+a),n);a<8?(a=i(Math.pow(n,a)),s=s.j(a).add(i(e))):(s=s.j(r),s=s.add(i(e)))}return s},zn=Wn.Integer=r}).apply("undefined"!==typeof Hn?Hn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Kn,Gn,Qn,Yn,Xn,Jn,$n,Zn,er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tr={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof er&&er];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var s=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var i=e[a];if(!(i in s))break e;s=s[i]}(r=r(a=s[e=e[e.length-1]]))!=a&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var s=s||{},a=this||self;function i(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[n].apply(e,s)}}var h="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function d(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(N)}};function N(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function S(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function k(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,E),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),T=0;function I(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++T,this.da=this.fa=!1}function D(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,s=e.g[n],a=Array.prototype.indexOf.call(s,t,void 0);(r=a>=0)&&Array.prototype.splice.call(s,a,1),r&&(D(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let s=0;s<e.length;++s){const a=e[s];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return s}return-1}L.prototype.add=function(e,t,n,r,s){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const i=F(e,t,r,s);return i>-1?(t=e[i],n||(t.fa=!1)):((t=new I(t,this.src,a,!!r,s)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function q(e,t,n,r,s){if(r&&r.once)return B(e,t,n,r,s);if(Array.isArray(t)){for(let a=0;a<t.length;a++)q(e,t[a],n,r,s);return null}return n=X(n),e&&e[j]?e.J(t,n,i(r)?!!r.capture:!!r,s):z(e,t,n,!1,r,s)}function z(e,t,n,r,s,a){if(!t)throw Error("Invalid event type");const o=i(s)?!!s.capture:!!s;let l=Q(e);if(l||(e[U]=l=new L(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function B(e,t,n,r,s){if(Array.isArray(t)){for(let a=0;a<t.length;a++)B(e,t[a],n,r,s);return null}return n=X(n),e&&e[j]?e.K(t,n,i(r)?!!r.capture:!!r,s):z(e,t,n,!0,r,s)}function H(e,t,n,r,s){if(Array.isArray(t))for(var a=0;a<t.length;a++)H(e,t[a],n,r,s);else r=i(r)?!!r.capture:!!r,n=X(n),e&&e[j]?(e=e.i,(a=String(t).toString())in e.g&&((n=F(t=e.g[a],n,r,s))>-1&&(D(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,s)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[j])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[U]=null)):D(e)}}}function K(e){return e in V?V[e]:V[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[U])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function X(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function J(){S.call(this),this.i=new L(this),this.M=this,this.G=null}function $(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var s=t;O(t=new E(r,e),s)}let a,i;if(s=!0,n)for(i=n.length-1;i>=0;i--)a=t.g=n[i],s=Z(a,r,!0,t)&&s;if(a=t.g=e,s=Z(a,r,!0,t)&&s,s=Z(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)a=t.g=n[i],s=Z(a,r,!1,t)&&s}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let s=!0;for(let a=0;a<t.length;++a){const i=t[a];if(i&&!i.da&&i.capture==n){const t=i.listener,n=i.ha||i.src;i.fa&&M(e.i,i),s=!1!==t.call(n,r)&&s}}return s&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,S),J.prototype[j]=!0,J.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)D(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){S.call(this),this.h=e,this.g={}}u(ne,S);var re=[];function se(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),se(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,ie=a.JSON.parse,oe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function he(){E.call(this,"d")}function de(){E.call(this,"c")}u(he,E),u(de,E);var fe={},pe=null;function me(){return pe=pe||new J}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();$(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();$(t,new ye(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Se(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(we,E),Ne.prototype.ua=function(){this.g=!1},Ne.prototype.info=function(){};var Ee,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function je(e){return encodeURIComponent(String(e))}function Te(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ee=new Ce;var Ae={},Re={};function Pe(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new De,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var s="readystatechange";Array.isArray(s)||(s&&(re[0]=s.toString()),s=re);for(let a=0;a<s.length;a++){const e=q(n,s[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,s,a){e.info(function(){if(e.g)if(a){var i="",o=a.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");i=t.length>=2&&"type"==t[1]?i+(e+"=")+l+"&":i+(e+"=redacted&")}}}else i=null;else i=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+i})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ve(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function qe(e){0==e.j.I||e.K||en(e.j,e)}function ze(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,se(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Be(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),Bt(n)}Xt(n),be(18)}}else n.xa=s[1],0<n.xa-n.K&&s[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!k(t))for(s=n.Ba.g.parse(t),t=0;t<s.length;t++){let l=s[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const s=l[4];null!=s&&(n.za=s,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,st(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var i=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),i.L){Xe(r.h,i);var o=i,c=r.O;c&&(o.H=c),o.D&&(Ve(o),Fe(o)),r.g=i}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):zt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,s=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return ze(e),qe(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(s&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,s,a,i){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+a+" "+i})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,s=this.g;if((r=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(r)){var i=r;break t}}i=null}if(!(e=i)){this.o=!1,this.m=3,be(12),ze(this),qe(this);break e}Se(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,be(15),Se(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Se(this.i,this.l,t,null),Be(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(o),o.P=!0,be(11))}}else Se(this.i,this.l,n,"[Invalid Chunked Response]"),ze(this),qe(this)}else Se(this.i,this.l,n,null),Be(this,n);4==l&&ze(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(k(e[r]))continue;var n=Te(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[s]||[];t[s]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),ze(this),qe(this)}}}catch(Or){}},Ie.prototype.cancel=function(){this.K=!0,ze(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),ze(this),this.m=2,qe(this)):Ue(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Xe(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return d(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $e=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match($e))?(this.l=!1,tt(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),nt(this,t[4]),this.h=it(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,dt)),e.i=new pt(t,e.l))}function st(e,t,n){e.i.set(t,n)}function at(e){return st(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(je(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?ht:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var s=t.h.lastIndexOf("/");-1!=s&&(r=t.h.slice(0,s+1)+r)}if(".."==(s=r)||"."==s)r="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");const e=[];for(let t=0;t<s.length;){const n=s[t++];"."==n?r&&t==s.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==s.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=s}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,ht=/[#\?]/g,dt=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let s,a=null;r>=0?(s=e[n].substring(0,r),a=e[n].substring(r+1)):s=e[n],t(s,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(a){}}function St(){this.g=new oe}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function kt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Tt(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function It(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tt(n),"string"===typeof e?null!=n&&je(n):st(e,t,n))}function Dt(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const s=je(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=s;""!==n[t]&&(r+="="+je(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new _t(this.i,this.h)},u(_t,J),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):jt(this),3==this.readyState&&kt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Dt,J);var At=/^https?$/i,Rt=["POST","PUT"];function Pt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,$(e,"complete"),$(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof s)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if($(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const s=e.ca();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){let t=String(e.D).match($e)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)$(e,"complete"),$(e,"success");else{e.o=6;try{var i=Ft(e)>2?e.g.statusText:""}catch(o){i=""}e.l=i+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||$(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qt(e){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new St,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function zt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(st(n,"SID",e.M),st(n,"RID",t),st(n,"TYPE","terminate"),Gt(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function Bt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Ht(e){Bt(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);st(r,"SID",e.M),st(r,"RID",n),st(r,"AID",e.K),Gt(e,r),e.u&&e.o&&It(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Pe(n,r,t)}function Gt(e,t){e.H&&A(e.H,function(e,n){st(t,n,e)}),e.l&&A({},function(e,n){st(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=s[c].g;const n=s[c].map;if((a-=t)<0)t=Math.max(0,s[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;i(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(rr){throw e.push(a+"type="+encodeURIComponent("_badmap")),rr}}catch(rr){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Xt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function $t(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);st(t,"RID","rpc"),st(t,"SID",e.M),st(t,"AID",e.K),st(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&st(t,"TO",e.ia),st(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&It(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Xe(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var s=e.D;$(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(s=t.m)||0==s&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Xt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),s){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new Ne;if(a.Image){const r=new Image;r.onload=c(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Nt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),Nt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Nt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var s=a.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),s&&nt(e,s),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&st(r,n,t),st(r,"VER",e.ka),Gt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Dt(new Et({ab:n})):new Dt(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){J.call(this),this.g=new qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!k(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!k(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dn(this)}function un(e){he.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hn(){de.call(this),this.status=1}function dn(e){this.g=e}(e=Dt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=h(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(i){return void Pt(this,i)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(i){Pt(this,i)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,$(this,"complete"),$(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Dt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=qt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Ie(this,this.j,e);let a=this.o;if(this.U&&(a?(a=R(a),O(a,this.U)):a=this.U),null!==this.u||this.R||(s.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,s,t),st(n=et(this.J),"RID",e),st(n,"CVER",22),this.G&&st(n,"X-HTTP-Session-Id",this.G),Gt(this,n),a&&(this.R?t="headers="+je(Tt(a))+"&"+t:this.u&&It(n,this.u,a)),Ye(this.h,s),this.Ra&&st(n,"TYPE","init"),this.S?(st(n,"$req",t),st(n,"SID","null"),s.U=!0,Pe(s,n,null)):Pe(s,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,$t(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Bt(this),$t(this))},e.Va=function(){null!=this.C&&(this.C=null,Bt(this),Xt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){zt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,cn.Z.N.call(this)},u(un,he),u(hn,de),u(dn,on),dn.prototype.ra=function(){$(this.g,"a")},dn.prototype.qa=function(e){$(this.g,new un(e))},dn.prototype.pa=function(e){$(this.g,new hn)},dn.prototype.oa=function(){$(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zn=tr.createWebChannelTransport=function(){return new ln},$n=tr.getStatEventTarget=function(){return me()},Jn=tr.Event=fe,Xn=tr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Yn=tr.ErrorCode=_e,ke.COMPLETE="complete",Qn=tr.EventType=ke,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Gn=tr.WebChannel=ce,tr.FetchXmlHttpFactory=Et,Dt.prototype.listenOnce=Dt.prototype.K,Dt.prototype.getLastError=Dt.prototype.Ha,Dt.prototype.getLastErrorCode=Dt.prototype.ya,Dt.prototype.getStatus=Dt.prototype.ca,Dt.prototype.getResponseJson=Dt.prototype.La,Dt.prototype.getResponseText=Dt.prototype.la,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Fa,Kn=tr.XhrIo=Dt}).apply("undefined"!==typeof er?er:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const nr="@firebase/firestore",rr="4.9.2";class sr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");let ar="12.3.0";const ir=new St("@firebase/firestore");function or(){return ir.logLevel}function lr(e){if(ir.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(hr);ir.debug("Firestore (".concat(ar,"): ").concat(e),...s)}}function cr(e){if(ir.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(hr);ir.error("Firestore (".concat(ar,"): ").concat(e),...s)}}function ur(e){if(ir.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(hr);ir.warn("Firestore (".concat(ar,"): ").concat(e),...s)}}function hr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function dr(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,fr(e,r,n)}function fr(e,t,n){let r="FIRESTORE (".concat(ar,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function pr(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||fr(t,s,r)}function mr(e,t){return e}const gr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vr extends ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class br{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sr.UNAUTHENTICATED))}shutdown(){}}class xr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Nr{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},i=e=>{lr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>i(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?i(e):(lr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(lr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pr("string"==typeof t.accessToken,31837,{l:t}),new br(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pr(null===e||"string"==typeof e,2055,{h:e}),new sr(e)}}class Sr{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Er{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Sr(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _r{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kr{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pr(void 0===this.o,3512);const n=e=>{null!=e.error&&lr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,lr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{lr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):lr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _r(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(pr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new _r(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Cr(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Cr(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Tr(e,t){return e<t?-1:e>t?1:0}function Ir(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return Rr(n)===Rr(s)?Tr(n,s):Rr(n)?1:-1}return Tr(e.length,t.length)}const Dr=55296,Ar=57343;function Rr(e){const t=e.charCodeAt(0);return t>=Dr&&t<=Ar}function Pr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Or="__name__";class Lr{constructor(e,t,n){void 0===t?t=0:t>e.length&&dr(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&dr(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Lr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Lr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Tr(e.length,t.length)}static compareSegments(e,t){const n=Lr.isNumericId(e),r=Lr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):Ir(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zn.fromString(e.substring(4,e.length-2))}}class Mr extends Lr{construct(e,t,n){return new Mr(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new vr(gr.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new Mr(e)}static emptyPath(){return new Mr([])}}const Fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends Lr{construct(e,t,n){return new Ur(e,t,n)}static isValidIdentifier(e){return Fr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Or}static keyField(){return new Ur([Or])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new vr(gr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vr(gr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vr(gr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(s(),r++)}if(s(),a)throw new vr(gr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(t)}static emptyPath(){return new Ur([])}}class Vr{constructor(e){this.path=e}static fromPath(e){return new Vr(Mr.fromString(e))}static fromName(e){return new Vr(Mr.fromString(e).popFirst(5))}static empty(){return new Vr(Mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vr(new Mr(e.slice()))}}function qr(e,t,n){if(!n)throw new vr(gr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zr(e){if(!Vr.isDocumentKey(e))throw new vr(gr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Br(e){if(Vr.isDocumentKey(e))throw new vr(gr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hr(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Wr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":dr(12329,{type:typeof e})}function Kr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vr(gr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wr(e);throw new vr(gr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Gr(e,t){const n={typeString:e};return t&&(n.value=t),n}function Qr(e,t){if(!Hr(e))throw new vr(gr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const i=e[r];if(s&&typeof i!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==a&&i!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new vr(gr.INVALID_ARGUMENT,n);return!0}const Yr=-62135596800,Xr=1e6;class Jr{static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Xr);return new Jr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yr)throw new vr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xr}_compareTo(e){return this.seconds===e.seconds?Tr(this.nanoseconds,e.nanoseconds):Tr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qr(e,Jr._jsonSchema))return new Jr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yr;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jr._jsonSchemaVersion="firestore/timestamp/1.0",Jr._jsonSchema={type:Gr("string",Jr._jsonSchemaVersion),seconds:Gr("number"),nanoseconds:Gr("number")};class $r{static fromTimestamp(e){return new $r(e)}static min(){return new $r(new Jr(0,0))}static max(){return new $r(new Jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zr=-1;class es{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}es.UNKNOWN_ID=-1;function ts(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=$r.fromTimestamp(1e9===r?new Jr(n+1,0):new Jr(n,r));return new rs(s,Vr.empty(),t)}function ns(e){return new rs(e.readTime,e.key,Zr)}class rs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new rs($r.min(),Vr.empty(),Zr)}static max(){return new rs($r.max(),Vr.empty(),Zr)}}function ss(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Vr.comparator(e.documentKey,t.documentKey),0!==n?n:Tr(e.largestBatchId,t.largestBatchId))}const as="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class is{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function os(e){if(e.code!==gr.FAILED_PRECONDITION||e.message!==as)throw e;lr("LocalStore","Unexpectedly lost primary lease")}class ls{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ls((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ls?t:ls.resolve(t)}catch(e){return ls.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ls.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ls.reject(t)}static resolve(e){return new ls((t,n)=>{t(e)})}static reject(e){return new ls((t,n)=>{n(e)})}static waitFor(e){return new ls((t,n)=>{let r=0,s=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++s,a&&s===r&&t()},e=>n(e))}),a=!0,s===r&&t()})}static or(e){let t=ls.resolve(!1);for(const n of e)t=t.next(e=>e?ls.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ls((n,r)=>{const s=e.length,a=new Array(s);let i=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++i,i===s&&n(a)},e=>r(e))}})}static doWhile(e,t){return new ls((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function cs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function us(e){return"IndexedDbTransactionError"===e.name}class hs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hs.ce=-1;const ds=-1;function fs(e){return null==e}function ps(e){return 0===e&&1/e==-1/0}function ms(e){return"number"==typeof e&&Number.isInteger(e)&&!ps(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const gs="\x01";function vs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=bs(t)),t=ys(e.get(n),t);return bs(t)}function ys(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case gs:n+="\x01\x11";break;default:n+=t}}return n}function bs(e){return e+gs+"\x01"}const ws="remoteDocuments",xs="owner",Ns="mutationQueues",Ss="mutations";const Es="documentMutations",_s="remoteDocumentsV14",ks="remoteDocumentGlobal",Cs="targets",js="targetDocuments",Ts="targetGlobal",Is="collectionParents",Ds="clientMetadata",As="bundles",Rs="namedQueries",Ps="indexConfiguration",Os="indexState",Ls="indexEntries",Ms="documentOverlays",Fs="globals",Us=[Ns,Ss,Es,ws,Cs,xs,Ts,js,Ds,ks,Is,As,Rs],Vs=[Ns,Ss,Es,_s,Cs,xs,Ts,js,Ds,ks,Is,As,Rs,Ms],qs=Vs,zs=[...qs,Ps,Os,Ls];function Bs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ws(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Ks{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new Ks(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new Ks(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gs(this.root,e,this.comparator,!0)}}class Gs{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Qs.RED,this.left=null!=r?r:Qs.EMPTY,this.right=null!=s?s:Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Qs(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dr(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dr(27949);return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw dr(57766)}get value(){throw dr(16141)}get color(){throw dr(16727)}get left(){throw dr(29726)}get right(){throw dr(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new Qs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ys{constructor(e){this.comparator=e,this.data=new Ks(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xs(this.data.getIterator())}getIteratorFrom(e){return new Xs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Ys))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ys(this.comparator);return t.data=e,t}}class Xs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Js{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new Js([])}unionWith(e){let t=new Ys(Ur.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class $s extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $s("Invalid base64 string: "+e):e}}(e);return new Zs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Zs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zs.EMPTY_BYTE_STRING=new Zs("");const ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(e){if(pr(!!e,39018),"string"==typeof e){let t=0;const n=ea.exec(e);if(pr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:na(e.seconds),nanos:na(e.nanos)}}function na(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ra(e){return"string"==typeof e?Zs.fromBase64String(e):Zs.fromUint8Array(e)}const sa="server_timestamp",aa="__type__",ia="__previous_value__",oa="__local_write_time__";function la(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[aa])||void 0===t?void 0:t.stringValue)===sa}function ca(e){const t=e.mapValue.fields[ia];return la(t)?ca(t):t}function ua(e){const t=ta(e.mapValue.fields[oa].timestampValue);return new Jr(t.seconds,t.nanos)}class ha{constructor(e,t,n,r,s,a,i,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=i,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const da="(default)";class fa{constructor(e,t){this.projectId=e,this.database=t||da}static empty(){return new fa("","")}get isDefaultDatabase(){return this.database===da}isEqual(e){return e instanceof fa&&e.projectId===this.projectId&&e.database===this.database}}const pa="__type__",ma="__max__",ga={mapValue:{fields:{__type__:{stringValue:ma}}}},va="__vector__",ya="value";function ba(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?la(e)?4:La(e)?9007199254740991:Pa(e)?10:11:dr(28295,{value:e})}function wa(e,t){if(e===t)return!0;const n=ba(e);if(n!==ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ua(e).isEqual(ua(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ta(e.timestampValue),r=ta(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ra(e.bytesValue).isEqual(ra(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return na(e.geoPointValue.latitude)===na(t.geoPointValue.latitude)&&na(e.geoPointValue.longitude)===na(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return na(e.integerValue)===na(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=na(e.doubleValue),r=na(t.doubleValue);return n===r?ps(n)===ps(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pr(e.arrayValue.values||[],t.arrayValue.values||[],wa);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bs(n)!==Bs(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!wa(n[s],r[s])))return!1;return!0}(e,t);default:return dr(52216,{left:e})}}function xa(e,t){return void 0!==(e.values||[]).find(e=>wa(e,t))}function Na(e,t){if(e===t)return 0;const n=ba(e),r=ba(t);if(n!==r)return Tr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=na(e.integerValue||e.doubleValue),r=na(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sa(e.timestampValue,t.timestampValue);case 4:return Sa(ua(e),ua(t));case 5:return Ir(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ra(e),r=ra(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Tr(n[s],r[s]);if(0!==e)return e}return Tr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Tr(na(e.latitude),na(t.latitude));return 0!==n?n:Tr(na(e.longitude),na(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ea(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,a;const i=e.fields||{},o=t.fields||{},l=null===(n=i[ya])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ya])||void 0===r?void 0:r.arrayValue,u=Tr((null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Ea(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ga.mapValue&&t===ga.mapValue)return 0;if(e===ga.mapValue)return 1;if(t===ga.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},a=Object.keys(s);r.sort(),a.sort();for(let i=0;i<r.length&&i<a.length;++i){const e=Ir(r[i],a[i]);if(0!==e)return e;const t=Na(n[r[i]],s[a[i]]);if(0!==t)return t}return Tr(r.length,a.length)}(e.mapValue,t.mapValue);default:throw dr(23264,{he:n})}}function Sa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Tr(e,t);const n=ta(e),r=ta(t),s=Tr(n.seconds,r.seconds);return 0!==s?s:Tr(n.nanos,r.nanos)}function Ea(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Na(n[s],r[s]);if(e)return e}return Tr(n.length,r.length)}function _a(e){return ka(e)}function ka(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ta(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ra(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Vr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ka(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(ka(e.fields[s]));return n+"}"}(e.mapValue):dr(61005,{value:e})}function Ca(e){switch(ba(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ca(e);return t?16+Ca(t):16;case 5:return 2*e.stringValue.length;case 6:return ra(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ca(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Hs(e.fields,(e,n)=>{t+=e.length+Ca(n)}),t}(e.mapValue);default:throw dr(13486,{value:e})}}function ja(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ta(e){return!!e&&"integerValue"in e}function Ia(e){return!!e&&"arrayValue"in e}function Da(e){return!!e&&"nullValue"in e}function Aa(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ra(e){return!!e&&"mapValue"in e}function Pa(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[pa])||void 0===t?void 0:t.stringValue)===va}function Oa(e){if(e.geoPointValue)return{geoPointValue:Ve({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Ve({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Hs(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Oa(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Oa(e.arrayValue.values[n]);return t}return Ve({},e)}function La(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ma}class Ma{constructor(e){this.value=e}static empty(){return new Ma({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ra(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(t)}setAll(e){let t=Ur.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Oa(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());Ra(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ra(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Hs(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ma(Oa(this.value))}}function Fa(e){const t=[];return Hs(e.fields,(e,n)=>{const r=new Ur([e]);if(Ra(n)){const e=Fa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Js(t)}class Ua{constructor(e,t,n,r,s,a,i){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=a,this.documentState=i}static newInvalidDocument(e){return new Ua(e,0,$r.min(),$r.min(),$r.min(),Ma.empty(),0)}static newFoundDocument(e,t,n,r){return new Ua(e,1,t,$r.min(),n,r,0)}static newNoDocument(e,t){return new Ua(e,2,t,$r.min(),$r.min(),Ma.empty(),0)}static newUnknownDocument(e,t){return new Ua(e,3,t,$r.min(),$r.min(),Ma.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($r.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ma.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ma.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$r.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ua&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ua(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Va{constructor(e,t){this.position=e,this.inclusive=t}}function qa(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const a=t[s],i=e.position[s];if(r=a.field.isKeyField()?Vr.comparator(Vr.fromName(i.referenceValue),n.key):Na(i,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function za(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wa(e.position[n],t.position[n]))return!1;return!0}class Ba{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ha(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wa{}class Ka extends Wa{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ei(e,t,n):"array-contains"===t?new si(e,n):"in"===t?new ai(e,n):"not-in"===t?new ii(e,n):"array-contains-any"===t?new oi(e,n):new Ka(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ti(e,n):new ni(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Na(t,this.value)):null!==t&&ba(this.value)===ba(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ga extends Wa{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ga(e,t)}matches(e){return Qa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Qa(e){return"and"===e.op}function Ya(e){return Xa(e)&&Qa(e)}function Xa(e){for(const t of e.filters)if(t instanceof Ga)return!1;return!0}function Ja(e){if(e instanceof Ka)return e.field.canonicalString()+e.op.toString()+_a(e.value);if(Ya(e))return e.filters.map(e=>Ja(e)).join(",");{const t=e.filters.map(e=>Ja(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function $a(e,t){return e instanceof Ka?function(e,t){return t instanceof Ka&&e.op===t.op&&e.field.isEqual(t.field)&&wa(e.value,t.value)}(e,t):e instanceof Ga?function(e,t){return t instanceof Ga&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&$a(n,t.filters[r]),!0)}(e,t):void dr(19439)}function Za(e){return e instanceof Ka?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_a(e.value))}(e):e instanceof Ga?function(e){return e.op.toString()+" {"+e.getFilters().map(Za).join(" ,")+"}"}(e):"Filter"}class ei extends Ka{constructor(e,t,n){super(e,t,n),this.key=Vr.fromName(n.referenceValue)}matches(e){const t=Vr.comparator(e.key,this.key);return this.matchesComparison(t)}}class ti extends Ka{constructor(e,t){super(e,"in",t),this.keys=ri("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ni extends Ka{constructor(e,t){super(e,"not-in",t),this.keys=ri("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ri(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Vr.fromName(e.referenceValue))}class si extends Ka{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ia(t)&&xa(t.arrayValue,this.value)}}class ai extends Ka{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xa(this.value.arrayValue,t)}}class ii extends Ka{constructor(e,t){super(e,"not-in",t)}matches(e){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!xa(this.value.arrayValue,t)}}class oi extends Ka{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ia(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xa(this.value.arrayValue,e))}}class li{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=a,this.endAt=i,this.Te=null}}function ci(e){return new li(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ui(e){const t=mr(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Ja(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),fs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>_a(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>_a(e)).join(",")),t.Te=e}return t.Te}function hi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ha(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!$a(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!za(e.startAt,t.startAt)&&za(e.endAt,t.endAt)}function di(e){return Vr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class fi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=a,this.startAt=i,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pi(e,t,n,r,s,a,i,o){return new fi(e,t,n,r,s,a,i,o)}function mi(e){return new fi(e)}function gi(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function vi(e){return null!==e.collectionGroup}function yi(e){const t=mr(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Ys(Ur.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ba(r,n))}),e.has(Ur.keyField().canonicalString())||t.Ie.push(new Ba(Ur.keyField(),n))}return t.Ie}function bi(e){const t=mr(e);return t.Ee||(t.Ee=wi(t,yi(e))),t.Ee}function wi(e,t){if("F"===e.limitType)return ci(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ba(e.field,t)});const n=e.endAt?new Va(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Va(e.startAt.position,e.startAt.inclusive):null;return ci(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function xi(e,t){const n=e.filters.concat([t]);return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ni(e,t,n){return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Si(e,t){return hi(bi(e),bi(t))&&e.limitType===t.limitType}function Ei(e){return"".concat(ui(bi(e)),"|lt:").concat(e.limitType)}function _i(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Za(e)).join(", "),"]")),fs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>_a(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>_a(e)).join(",")),"Target(".concat(t,")")}(bi(e)),"; limitType=").concat(e.limitType,")")}function ki(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=qa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yi(e),t))&&!(e.endAt&&!function(e,t,n){const r=qa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yi(e),t))}(e,t)}function Ci(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ji(e){return(t,n)=>{let r=!1;for(const s of yi(e)){const e=Ti(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Ti(e,t,n){const r=e.field.isKeyField()?Vr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Na(r,s):dr(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return dr(19790,{direction:e.dir})}}class Ii{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Ws(this.inner)}size(){return this.innerSize}}const Di=new Ks(Vr.comparator);function Ai(){return Di}const Ri=new Ks(Vr.comparator);function Pi(){let e=Ri;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Oi(e){let t=Ri;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Li(){return Fi()}function Mi(){return Fi()}function Fi(){return new Ii(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ui=new Ks(Vr.comparator),Vi=new Ys(Vr.comparator);function qi(){let e=Vi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const zi=new Ys(Tr);function Bi(){return zi}function Hi(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ps(t)?"-0":t}}function Wi(e){return{integerValue:""+e}}function Ki(e,t){return ms(t)?Wi(t):Hi(e,t)}class Gi{constructor(){this._=void 0}}function Qi(e,t,n){return e instanceof Ji?function(e,t){const n={fields:{[aa]:{stringValue:sa},[oa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&la(t)&&(t=ca(t)),t&&(n.fields[ia]=t),{mapValue:n}}(n,t):e instanceof $i?Zi(e,t):e instanceof eo?to(e,t):function(e,t){const n=Xi(e,t),r=ro(n)+ro(e.Ae);return Ta(n)&&Ta(e.Ae)?Wi(r):Hi(e.serializer,r)}(e,t)}function Yi(e,t,n){return e instanceof $i?Zi(e,t):e instanceof eo?to(e,t):n}function Xi(e,t){return e instanceof no?function(e){return Ta(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ji extends Gi{}class $i extends Gi{constructor(e){super(),this.elements=e}}function Zi(e,t){const n=so(t);for(const r of e.elements)n.some(e=>wa(e,r))||n.push(r);return{arrayValue:{values:n}}}class eo extends Gi{constructor(e){super(),this.elements=e}}function to(e,t){let n=so(t);for(const r of e.elements)n=n.filter(e=>!wa(e,r));return{arrayValue:{values:n}}}class no extends Gi{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ro(e){return na(e.integerValue||e.doubleValue)}function so(e){return Ia(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ao{constructor(e,t){this.field=e,this.transform=t}}class io{constructor(e,t){this.version=e,this.transformResults=t}}class oo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oo}static exists(e){return new oo(void 0,e)}static updateTime(e){return new oo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lo(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class co{}function uo(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xo(e.key,oo.none()):new go(e.key,e.data,oo.none());{const n=e.data,r=Ma.empty();let s=new Ys(Ur.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new vo(e.key,r,new Js(s.toArray()),oo.none())}}function ho(e,t,n){e instanceof go?function(e,t,n){const r=e.value.clone(),s=bo(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vo?function(e,t,n){if(!lo(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=bo(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(yo(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fo(e,t,n,r){return e instanceof go?function(e,t,n,r){if(!lo(e.precondition,t))return n;const s=e.value.clone(),a=wo(e.fieldTransforms,r,t);return s.setAll(a),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof vo?function(e,t,n,r){if(!lo(e.precondition,t))return n;const s=wo(e.fieldTransforms,r,t),a=t.data;return a.setAll(yo(e)),a.setAll(s),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return lo(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function po(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Xi(r.transform,e||null);null!=s&&(null===n&&(n=Ma.empty()),n.set(r.field,s))}return n||null}function mo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof $i&&t instanceof $i||e instanceof eo&&t instanceof eo?Pr(e.elements,t.elements,wa):e instanceof no&&t instanceof no?wa(e.Ae,t.Ae):e instanceof Ji&&t instanceof Ji}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class go extends co{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class vo extends co{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function bo(e,t,n){const r=new Map;pr(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const a=e[s],i=a.transform,o=t.data.field(a.field);r.set(a.field,Yi(i,o,n[s]))}return r}function wo(e,t,n){const r=new Map;for(const s of e){const e=s.transform,a=n.data.field(s.field);r.set(s.field,Qi(e,a,t))}return r}class xo extends co{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class No extends co{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class So{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ho(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=fo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=fo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Mi();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let i=this.applyToLocalView(a,s.mutatedFields);i=t.has(r.key)?null:i;const o=uo(a,i);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument($r.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qi())}isEqual(e){return this.batchId===e.batchId&&Pr(this.mutations,e.mutations,(e,t)=>mo(e,t))&&Pr(this.baseMutations,e.baseMutations,(e,t)=>mo(e,t))}}class Eo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Ui;const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,n[a].version);return new Eo(e,t,n,r)}}class _o{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ko{constructor(e,t){this.count=e,this.unchangedNames=t}}var Co,jo;function To(e){switch(e){case gr.OK:return dr(64938);case gr.CANCELLED:case gr.UNKNOWN:case gr.DEADLINE_EXCEEDED:case gr.RESOURCE_EXHAUSTED:case gr.INTERNAL:case gr.UNAVAILABLE:case gr.UNAUTHENTICATED:return!1;case gr.INVALID_ARGUMENT:case gr.NOT_FOUND:case gr.ALREADY_EXISTS:case gr.PERMISSION_DENIED:case gr.FAILED_PRECONDITION:case gr.ABORTED:case gr.OUT_OF_RANGE:case gr.UNIMPLEMENTED:case gr.DATA_LOSS:return!0;default:return dr(15467,{code:e})}}function Io(e){if(void 0===e)return cr("GRPC error has no .code"),gr.UNKNOWN;switch(e){case Co.OK:return gr.OK;case Co.CANCELLED:return gr.CANCELLED;case Co.UNKNOWN:return gr.UNKNOWN;case Co.DEADLINE_EXCEEDED:return gr.DEADLINE_EXCEEDED;case Co.RESOURCE_EXHAUSTED:return gr.RESOURCE_EXHAUSTED;case Co.INTERNAL:return gr.INTERNAL;case Co.UNAVAILABLE:return gr.UNAVAILABLE;case Co.UNAUTHENTICATED:return gr.UNAUTHENTICATED;case Co.INVALID_ARGUMENT:return gr.INVALID_ARGUMENT;case Co.NOT_FOUND:return gr.NOT_FOUND;case Co.ALREADY_EXISTS:return gr.ALREADY_EXISTS;case Co.PERMISSION_DENIED:return gr.PERMISSION_DENIED;case Co.FAILED_PRECONDITION:return gr.FAILED_PRECONDITION;case Co.ABORTED:return gr.ABORTED;case Co.OUT_OF_RANGE:return gr.OUT_OF_RANGE;case Co.UNIMPLEMENTED:return gr.UNIMPLEMENTED;case Co.DATA_LOSS:return gr.DATA_LOSS;default:return dr(39323,{code:e})}}(jo=Co||(Co={}))[jo.OK=0]="OK",jo[jo.CANCELLED=1]="CANCELLED",jo[jo.UNKNOWN=2]="UNKNOWN",jo[jo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jo[jo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jo[jo.NOT_FOUND=5]="NOT_FOUND",jo[jo.ALREADY_EXISTS=6]="ALREADY_EXISTS",jo[jo.PERMISSION_DENIED=7]="PERMISSION_DENIED",jo[jo.UNAUTHENTICATED=16]="UNAUTHENTICATED",jo[jo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jo[jo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jo[jo.ABORTED=10]="ABORTED",jo[jo.OUT_OF_RANGE=11]="OUT_OF_RANGE",jo[jo.UNIMPLEMENTED=12]="UNIMPLEMENTED",jo[jo.INTERNAL=13]="INTERNAL",jo[jo.UNAVAILABLE=14]="UNAVAILABLE",jo[jo.DATA_LOSS=15]="DATA_LOSS";let Do=null;function Ao(){return new TextEncoder}const Ro=new zn([4294967295,4294967295],0);function Po(e){const t=Ao().encode(e),n=new Bn;return n.update(t),new Uint8Array(n.digest())}function Oo(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zn([n,r],0),new zn([s,a],0)]}class Lo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mo("Invalid padding: ".concat(t));if(n<0)throw new Mo("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mo("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mo("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=zn.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(zn.fromNumber(n)));return 1===r.compare(Ro)&&(r=new zn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Po(e),[n,r]=Oo(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Lo(s,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Po(e),[n,r]=Oo(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fo{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Uo.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fo($r.min(),r,new Ks(Tr),Ai(),qi())}}class Uo{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uo(n,t,qi(),qi(),qi())}}class Vo{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class qo{constructor(e,t){this.targetId=e,this.Ce=t}}class zo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zs.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Bo{constructor(){this.ve=0,this.Fe=Ko(),this.Me=Zs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qi(),t=qi(),n=qi();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:dr(38017,{changeType:s})}}),new Uo(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Ko()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ho{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=Wo(),this.He=Wo(),this.Ye=new Ks(Tr)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:dr(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(di(a))if(0===n){const e=new Vr(a.path);this.et(t,e,Ua.newNoDocument(e,$r.min()))}else pr(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var s;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(s=Do)||void 0===s||s.lt(function(e,t,n,r,s){var a,i,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===s,hashCount:null!==(a=null===h||void 0===h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(i=null===h||void 0===h||null===(o=h.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==i?i:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let a,i;try{a=ra(n).toUint8Array()}catch(e){if(e instanceof $s)return ur("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{i=new Lo(a,r,s)}catch(e){return ur(e instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===i.ge?null:i}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),a="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&di(s.target)){const t=new Vr(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Ua.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=qi();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Fo(e,t,this.Ye,this.je,n);return this.je=Ai(),this.Je=Wo(),this.He=Wo(),this.Ye=new Ks(Tr),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Bo,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ys(Tr),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ys(Tr),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||lr("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Bo),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Wo(){return new Ks(Vr.comparator)}function Ko(){return new Ks(Vr.comparator)}const Go={asc:"ASCENDING",desc:"DESCENDING"},Qo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yo={and:"AND",or:"OR"};class Xo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jo(e,t){return e.useProto3Json||fs(t)?t:{value:t}}function $o(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function el(e,t){return $o(e,t.toTimestamp())}function tl(e){return pr(!!e,49232),$r.fromTimestamp(function(e){const t=ta(e);return new Jr(t.seconds,t.nanos)}(e))}function nl(e,t){return rl(e,t).canonicalString()}function rl(e,t){const n=function(e){return new Mr(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function sl(e){const t=Mr.fromString(e);return pr(El(t),10190,{key:t.toString()}),t}function al(e,t){return nl(e.databaseId,t.path)}function il(e,t){const n=sl(t);if(n.get(1)!==e.databaseId.projectId)throw new vr(gr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vr(gr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vr(ul(n))}function ol(e,t){return nl(e.databaseId,t)}function ll(e){const t=sl(e);return 4===t.length?Mr.emptyPath():ul(t)}function cl(e){return new Mr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ul(e){return pr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function hl(e,t,n){return{name:al(e,t),fields:n.value.mapValue.fields}}function dl(e,t){let n;if(t instanceof go)n={update:hl(e,t.key,t.value)};else if(t instanceof xo)n={delete:al(e,t.key)};else if(t instanceof vo)n={update:hl(e,t.key,t.data),updateMask:Sl(t.fieldMask)};else{if(!(t instanceof No))return dr(16599,{Vt:t.type});n={verify:al(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ji)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof $i)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof no)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw dr(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:el(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:dr(27497)}(e,t.precondition)),n}function fl(e,t){return{documents:[ol(e,t.path)]}}function pl(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ol(e,s);const a=function(e){if(0!==e.length)return Nl(Ga.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const i=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:wl(e.field),direction:vl(e.dir)}}(e))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Jo(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function ml(e){let t=ll(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){pr(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=gl(e);return t instanceof Ga&&Ya(t)?t.getFilters():[t]}(n.where));let i=[];n.orderBy&&(i=function(e){return e.map(e=>function(e){return new Ba(xl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,fs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Va(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Va(n,t)}(n.endAt)),pi(t,s,i,a,o,"F",l,c)}function gl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xl(e.unaryFilter.field);return Ka.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xl(e.unaryFilter.field);return Ka.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xl(e.unaryFilter.field);return Ka.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=xl(e.unaryFilter.field);return Ka.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dr(61313);default:return dr(60726)}}(e):void 0!==e.fieldFilter?function(e){return Ka.create(xl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dr(58110);default:return dr(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ga.create(e.compositeFilter.filters.map(e=>gl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return dr(1026)}}(e.compositeFilter.op))}(e):dr(30097,{filter:e})}function vl(e){return Go[e]}function yl(e){return Qo[e]}function bl(e){return Yo[e]}function wl(e){return{fieldPath:e.canonicalString()}}function xl(e){return Ur.fromServerFormat(e.fieldPath)}function Nl(e){return e instanceof Ka?function(e){if("=="===e.op){if(Aa(e.value))return{unaryFilter:{field:wl(e.field),op:"IS_NAN"}};if(Da(e.value))return{unaryFilter:{field:wl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Aa(e.value))return{unaryFilter:{field:wl(e.field),op:"IS_NOT_NAN"}};if(Da(e.value))return{unaryFilter:{field:wl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(e.field),op:yl(e.op),value:e.value}}}(e):e instanceof Ga?function(e){const t=e.getFilters().map(e=>Nl(e));return 1===t.length?t[0]:{compositeFilter:{op:bl(e.op),filters:t}}}(e):dr(54877,{filter:e})}function Sl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function El(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class _l{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$r.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$r.min(),i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zs.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=i,this.expectedCount=o}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kl{constructor(e){this.yt=e}}function Cl(e){const t=ml({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ni(t,t.limit,"L"):t}class jl{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(na(e.integerValue));else if("doubleValue"in e){const n=na(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),ps(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ta(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ra(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?La(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Pa(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):dr(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const s=ya,a=(null===(n=r[s].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(na(a)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Vr.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}jl.Kt=new jl;class Tl{constructor(){this.Cn=new Il}addToCollectionParentIndex(e,t){return this.Cn.add(t),ls.resolve()}getCollectionParents(e,t){return ls.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ls.resolve()}deleteFieldIndex(e,t){return ls.resolve()}deleteAllFieldIndexes(e){return ls.resolve()}createTargetIndexes(e,t){return ls.resolve()}getDocumentsMatchingTarget(e,t){return ls.resolve(null)}getIndexType(e,t){return ls.resolve(0)}getFieldIndexes(e,t){return ls.resolve([])}getNextCollectionGroupToUpdate(e){return ls.resolve(null)}getMinOffset(e,t){return ls.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return ls.resolve(rs.min())}updateCollectionGroup(e,t,n){return ls.resolve()}updateIndexEntries(e,t){return ls.resolve()}}class Il{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ys(Mr.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ys(Mr.comparator)).toArray()}}new Uint8Array(0);const Dl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Al=41943040;class Rl{static withCacheSize(e){return new Rl(e,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Rl.DEFAULT_COLLECTION_PERCENTILE=10,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rl.DEFAULT=new Rl(Al,Rl.DEFAULT_COLLECTION_PERCENTILE,Rl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rl.DISABLED=new Rl(-1,0,0);class Pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pl(0)}static cr(){return new Pl(-1)}}const Ol="LruGarbageCollector",Ll=1048576;function Ml(e,t){let[n,r]=e,[s,a]=t;const i=Tr(n,s);return 0===i?Tr(r,a):i}class Fl{constructor(e){this.Ir=e,this.buffer=new Ys(Ml),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ml(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ul{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){lr(Ol,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){us(e)?lr(Ol,"Ignoring IndexedDB error during garbage collection: ",e):await os(e)}await this.Vr(3e5)})}}class Vl{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return ls.resolve(hs.ce);const n=new Fl(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lr("LruGarbageCollector","Garbage collection skipped; disabled"),ls.resolve(Dl)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(lr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Dl):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,a,i,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(lr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,i=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),or()<=yt.DEBUG&&lr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(i-a)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-i)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),ls.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function ql(e,t){return new Vl(e,t)}class zl{constructor(){this.changes=new Ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ua.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ls.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Bl{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&fo(n.mutation,e,Js.empty(),Jr.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,qi()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qi();const r=Li();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Pi();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Li();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,qi()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=Ai();const a=Fi(),i=Fi();return t.forEach((e,t)=>{const i=n.get(t.key);r.has(t.key)&&(void 0===i||i.mutation instanceof vo)?s=s.insert(t.key,t):void 0!==i?(a.set(t.key,i.mutation.getFieldMask()),fo(i.mutation,t,i.mutation.getFieldMask(),Jr.now())):a.set(t.key,Js.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return i.set(e,new Bl(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),i))}recalculateAndSaveOverlays(e,t){const n=Fi();let r=new Ks((e,t)=>e-t),s=qi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let i=n.get(e)||Js.empty();i=s.applyToLocalView(a,i),n.set(e,i);const o=(r.get(s.batchId)||qi()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const a=[],i=r.getReverseIterator();for(;i.hasNext();){const r=i.getNext(),o=r.key,l=r.value,c=Mi();l.forEach(e=>{if(!s.has(e)){const r=uo(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ls.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Vr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):ls.resolve(Li());let i=Zr,o=s;return a.next(t=>ls.forEach(t,(t,n)=>(i<n.largestBatchId&&(i=n.largestBatchId),s.get(t)?ls.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,qi())).next(e=>({batchId:i,changes:Oi(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vr(t)).next(e=>{let t=Pi();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let a=Pi();return this.indexManager.getCollectionParents(e,s).next(i=>ls.forEach(i,i=>{const o=function(e,t){return new fi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,i.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ua.newInvalidDocument(r)))});let n=Pi();return e.forEach((e,r)=>{const a=s.get(e);void 0!==a&&fo(a.mutation,r,Js.empty(),Jr.now()),ki(t,r)&&(n=n.insert(e,r))}),n})}}class Wl{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ls.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:tl(e.createTime)}}(t)),ls.resolve()}getNamedQuery(e,t){return ls.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Cl(e.bundledQuery),readTime:tl(e.readTime)}}(t)),ls.resolve()}}class Kl{constructor(){this.overlays=new Ks(Vr.comparator),this.qr=new Map}getOverlay(e,t){return ls.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Li();return ls.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),ls.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),ls.resolve()}getOverlaysForCollection(e,t,n){const r=Li(),s=t.length+1,a=new Vr(t.child("")),i=this.overlays.getIteratorFrom(a);for(;i.hasNext();){const e=i.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ls.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Ks((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Li(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const i=Li(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>i.set(e,t)),!(i.size()>=r)););return ls.resolve(i)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new _o(t,n));let s=this.qr.get(t);void 0===s&&(s=qi(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class Gl{constructor(){this.sessionToken=Zs.EMPTY_BYTE_STRING}getSessionToken(e){return ls.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ls.resolve()}}class Ql{constructor(){this.Qr=new Ys(Yl.$r),this.Ur=new Ys(Yl.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Yl(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Yl(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Vr(new Mr([])),n=new Yl(t,e),r=new Yl(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Vr(new Mr([])),n=new Yl(t,e),r=new Yl(t,e+1);let s=qi();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new Yl(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Yl{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Vr.comparator(e.key,t.key)||Tr(e.Yr,t.Yr)}static Kr(e,t){return Tr(e.Yr,t.Yr)||Vr.comparator(e.key,t.key)}}class Xl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ys(Yl.$r)}checkEmpty(e){return ls.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new So(s,t,n,r);this.mutationQueue.push(a);for(const i of r)this.Zr=this.Zr.add(new Yl(i.key,s)),this.indexManager.addToCollectionParentIndex(e,i.key.path.popLast());return ls.resolve(a)}lookupMutationBatch(e,t){return ls.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return ls.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ls.resolve(0===this.mutationQueue.length?ds:this.tr-1)}getAllMutationBatches(e){return ls.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yl(t,0),r=new Yl(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),ls.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ys(Tr);return t.forEach(e=>{const t=new Yl(e,0),r=new Yl(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),ls.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Vr.isDocumentKey(s)||(s=s.child(""));const a=new Yl(new Vr(s),0);let i=new Ys(Tr);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.Yr)),!0)},a),ls.resolve(this.ti(i))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){pr(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return ls.forEach(t.mutations,r=>{const s=new Yl(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Yl(t,0),r=this.Zr.firstAfterOrEqual(n);return ls.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ls.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jl{constructor(e){this.ri=e,this.docs=new Ks(Vr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ls.resolve(n?n.document.mutableCopy():Ua.newInvalidDocument(t))}getEntries(e,t){let n=Ai();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ua.newInvalidDocument(e))}),ls.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=Ai();const a=t.path,i=new Vr(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ss(ns(i),n)<=0||(r.has(i.key)||ki(t,i))&&(s=s.insert(i.key,i.mutableCopy()))}return ls.resolve(s)}getAllFromCollectionGroup(e,t,n,r){dr(9500)}ii(e,t){return ls.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new $l(this)}getSize(e){return ls.resolve(this.size)}}class $l extends zl{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),ls.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class Zl{constructor(e){this.persistence=e,this.si=new Ii(e=>ui(e),hi),this.lastRemoteSnapshotVersion=$r.min(),this.highestTargetId=0,this.oi=0,this._i=new Ql,this.targetCount=0,this.ai=Pl.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),ls.resolve()}getLastRemoteSnapshotVersion(e){return ls.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ls.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ls.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ls.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ls.resolve()}updateTargetData(e,t){return this.Pr(t),ls.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ls.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((a,i)=>{i.sequenceNumber<=t&&null===n.get(i.targetId)&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,i.targetId)),r++)}),ls.waitFor(s).next(()=>r)}getTargetCount(e){return ls.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ls.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ls.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),ls.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ls.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ls.resolve(n)}containsKey(e,t){return ls.resolve(this._i.containsKey(t))}}class ec{constructor(e,t){this.ui={},this.overlays={},this.ci=new hs(0),this.li=!1,this.li=!0,this.hi=new Gl,this.referenceDelegate=e(this),this.Pi=new Zl(this),this.indexManager=new Tl,this.remoteDocumentCache=function(e){return new Jl(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new kl(t),this.Ii=new Wl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Kl,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Xl(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){lr("MemoryPersistence","Starting transaction:",e);const r=new tc(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return ls.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class tc extends is{constructor(e){super(),this.currentSequenceNumber=e}}class nc{constructor(e){this.persistence=e,this.Ri=new Ql,this.Vi=null}static mi(e){return new nc(e)}get fi(){if(this.Vi)return this.Vi;throw dr(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ls.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ls.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ls.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ls.forEach(this.fi,n=>{const r=Vr.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,$r.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ls.or([()=>ls.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class rc{constructor(e,t){this.persistence=e,this.pi=new Ii(e=>vs(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ql(this,t)}static mi(e,t){return new rc(e,t)}Ei(){}di(e){return ls.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return ls.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?ls.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,$r.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ls.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ls.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ls.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ls.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ca(e.data.value)),t}br(e,t,n){return ls.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return ls.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=qi(),r=qi();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new sc(e,t.fromCache,n,r)}}class ac{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ic{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=at()?8:cs(rt())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new ac;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(or()<=yt.DEBUG&&lr("QueryEngine","SDK will not create cache indexes for query:",_i(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ls.resolve()):(or()<=yt.DEBUG&&lr("QueryEngine","Query:",_i(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(or()<=yt.DEBUG&&lr("QueryEngine","The SDK decides to create cache indexes for query:",_i(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(t))):ls.resolve())}ys(e,t){if(gi(t))return ls.resolve(null);let n=bi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ni(t,null,"F"),n=bi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=qi(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.Ds(t,r);return this.Cs(t,a,s,n.readTime)?this.ys(e,Ni(t,null,"F")):this.vs(e,a,t,n)}))})))}ws(e,t,n,r){return gi(t)||r.isEqual($r.min())?ls.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(t,s);return this.Cs(t,a,n,r)?ls.resolve(null):(or()<=yt.DEBUG&&lr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_i(t)),this.vs(e,a,t,ts(r,Zr)).next(e=>e))})}Ds(e,t){let n=new Ys(ji(e));return t.forEach((t,r)=>{ki(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return or()<=yt.DEBUG&&lr("QueryEngine","Using full collection scan to execute query:",_i(t)),this.ps.getDocumentsMatchingQuery(e,t,rs.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const oc="LocalStore";class lc{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Ks(Tr),this.xs=new Ii(e=>ui(e),hi),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hl(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function cc(e,t,n,r){return new lc(e,t,n,r)}async function uc(e,t){const n=mr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],a=[];let i=qi();for(const e of r){s.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)i=i.add(t.key)}return n.localDocuments.getDocuments(e,i).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:a}))})})}function hc(e){const t=mr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function dc(e,t,n){let r=qi(),s=qi();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ai();return n.forEach((n,a)=>{const i=e.get(n);a.isFoundDocument()!==i.isFoundDocument()&&(s=s.add(n)),a.isNoDocument()&&a.version.isEqual($r.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!i.isValidDocument()||a.version.compareTo(i.version)>0||0===a.version.compareTo(i.version)&&i.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):lr(oc,"Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",a.version)}),{ks:r,qs:s}})}function fc(e,t){const n=mr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ds),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function pc(e,t){const n=mr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,ls.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new _l(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function mc(e,t,n){const r=mr(e),s=r.Ms.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!us(e))throw e;lr(oc,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function gc(e,t,n){const r=mr(e);let s=$r.min(),a=qi();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=mr(e),s=r.xs.get(n);return void 0!==s?ls.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,bi(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:$r.min(),n?a:qi())).next(e=>(vc(r,Ci(t),e),{documents:e,Qs:a})))}function vc(e,t,n){let r=e.Os.get(t)||$r.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class yc{constructor(){this.activeTargetIds=Bi()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bc{constructor(){this.Mo=new yc,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new yc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wc{Oo(e){}shutdown(){}}const xc="ConnectivityMonitor";class Nc{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lr(xc,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lr(xc,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sc=null;function Ec(){return null===Sc?Sc=268435456+Math.round(2147483648*Math.random()):Sc++,"0x"+Sc.toString(16)}const _c="RestConnection",kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cc{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===da?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,s){const a=Ec(),i=this.zo(e,t.toUriEncodedString());lr(_c,"Sending RPC '".concat(e,"' ").concat(a,":"),i,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(i),c=Je(l);return this.Jo(e,i,o,n,c).then(t=>(lr(_c,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw ur(_c,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",i,"request:",n),t})}Ho(e,t,n,r,s,a){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ar,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=kc[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class jc{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tc="WebChannelConnection";class Ic extends Cc{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const a=Ec();return new Promise((s,i)=>{const o=new Kn;o.setWithCredentials(!0),o.listenOnce(Qn.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Yn.NO_ERROR:const n=o.getResponseJson();lr(Tc,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),s(n);break;case Yn.TIMEOUT:lr(Tc,"RPC '".concat(e,"' ").concat(a," timed out")),i(new vr(gr.DEADLINE_EXCEEDED,"Request time out"));break;case Yn.HTTP_ERROR:const r=o.getStatus();if(lr(Tc,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gr).indexOf(t)>=0?t:gr.UNKNOWN}(n.status);i(new vr(e,n.message))}else i(new vr(gr.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new vr(gr.UNAVAILABLE,"Connection failed."));break;default:dr(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{lr(Tc,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);lr(Tc,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Ec(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zn(),i=$n(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");lr(Tc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=a.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new jc({Yo:t=>{d?lr(Tc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(lr(Tc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),lr(Tc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Gn.EventType.OPEN,()=>{d||(lr(Tc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,Gn.EventType.CLOSE,()=>{d||(d=!0,lr(Tc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,Gn.EventType.ERROR,t=>{d||(d=!0,ur(Tc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new vr(gr.UNAVAILABLE,"The operation could not be completed")))}),p(u,Gn.EventType.MESSAGE,t=>{if(!d){var n;const s=t.data[0];pr(!!s,16349);const a=s,i=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(i){lr(Tc,"RPC '".concat(e,"' stream ").concat(r," received error:"),i);const t=i.status;let n=function(e){const t=Co[e];if(void 0!==t)return Io(t)}(t),s=i.message;void 0===n&&(n=gr.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),d=!0,f.a_(new vr(n,s)),u.close()}else lr(Tc,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.u_(s)}}),p(i,Jn.STAT_EVENT,t=>{t.stat===Xn.PROXY?lr(Tc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xn.NOPROXY&&lr(Tc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Dc(){return"undefined"!=typeof document?document:null}function Ac(e){return new Xo(e,!0)}class Rc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&lr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Pc="PersistentStream";class Oc{constructor(e,t,n,r,s,a,i,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=i,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Rc(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===gr.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===gr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new vr(gr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return lr(Pc,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(lr(Pc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lc extends Oc{constructor(e,t,n,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:dr(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(pr(void 0===t||"string"==typeof t,58123),Zs.fromBase64String(t||"")):(pr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Zs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),i=t.targetChange.cause,o=i&&function(e){const t=void 0===e.code?gr.UNKNOWN:Io(e.code);return new vr(t,e.message||"")}(i);n=new zo(r,s,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=il(e,r.document.name),a=tl(r.document.updateTime),i=r.document.createTime?tl(r.document.createTime):$r.min(),o=new Ma({mapValue:{fields:r.document.fields}}),l=Ua.newFoundDocument(s,a,i,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Vo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=il(e,r.document),a=r.readTime?tl(r.readTime):$r.min(),i=Ua.newNoDocument(s,a),o=r.removedTargetIds||[];n=new Vo([],o,i.key,i)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=il(e,r.document),a=r.removedTargetIds||[];n=new Vo([],a,s,null)}else{if(!("filter"in t))return dr(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,a=new ko(r,s),i=e.targetId;n=new qo(i,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $r.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$r.min():t.readTime?tl(t.readTime):$r.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=cl(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=di(r)?{documents:fl(e,r)}:{query:pl(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Zo(e,t.resumeToken);const r=Jo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($r.min())>0){n.readTime=$o(e,t.snapshotVersion.toTimestamp());const r=Jo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dr(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=cl(this.serializer),t.removeTarget=e,this.q_(t)}}class Mc extends Oc{constructor(e,t,n,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pr(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){pr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(pr(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?tl(e.updateTime):tl(t);return n.isEqual($r.min())&&(n=tl(t)),new io(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=tl(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=cl(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>dl(this.serializer,e))};this.q_(t)}}class Fc{}class Uc extends Fc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new vr(gr.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,i]=s;return this.connection.Go(e,rl(t,n),r,a,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vr(gr.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[i,o]=a;return this.connection.Ho(e,rl(t,n),r,i,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===gr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vr(gr.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Vc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(cr(t),this.aa=!1):lr("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const qc="RemoteStore";class zc{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Jc(this)&&(lr(qc,"Restarting streams for network reachability change."),await async function(e){const t=mr(e);t.Ea.add(4),await Hc(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Bc(t)}(this))})}),this.Ra=new Vc(n,r)}}async function Bc(e){if(Jc(e))for(const t of e.da)await t(!0)}async function Hc(e){for(const t of e.da)await t(!1)}function Wc(e,t){const n=mr(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Xc(n)?Yc(n):gu(n).O_()&&Gc(n,t))}function Kc(e,t){const n=mr(e),r=gu(n);n.Ia.delete(t),r.O_()&&Qc(n,t),0===n.Ia.size&&(r.O_()?r.L_():Jc(n)&&n.Ra.set("Unknown"))}function Gc(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($r.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(e).Y_(t)}function Qc(e,t){e.Va.Ue(t),gu(e).Z_(t)}function Yc(e){e.Va=new Ho({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gu(e).start(),e.Ra.ua()}function Xc(e){return Jc(e)&&!gu(e).x_()&&e.Ia.size>0}function Jc(e){return 0===mr(e).Ea.size}function $c(e){e.Va=void 0}async function Zc(e){e.Ra.set("Online")}async function eu(e){e.Ia.forEach((t,n)=>{Gc(e,t)})}async function tu(e,t){$c(e),Xc(e)?(e.Ra.ha(t),Yc(e)):e.Ra.set("Unknown")}async function nu(e,t,n){if(e.Ra.set("Online"),t instanceof zo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){lr(qc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ru(e,n)}else if(t instanceof Vo?e.Va.Ze(t):t instanceof qo?e.Va.st(t):e.Va.tt(t),!n.isEqual($r.min()))try{const t=await hc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Zs.EMPTY_BYTE_STRING,r.snapshotVersion)),Qc(e,t);const s=new _l(r.target,t,n,r.sequenceNumber);Gc(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lr(qc,"Failed to raise snapshot:",t),await ru(e,t)}}async function ru(e,t,n){if(!us(t))throw t;e.Ea.add(1),await Hc(e),e.Ra.set("Offline"),n||(n=()=>hc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{lr(qc,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Bc(e)})}function su(e,t){return t().catch(n=>ru(e,n,t))}async function au(e){const t=mr(e),n=vu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ds;for(;iu(t);)try{const e=await fc(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,ou(t,e)}catch(e){await ru(t,e)}lu(t)&&cu(t)}function iu(e){return Jc(e)&&e.Ta.length<10}function ou(e,t){e.Ta.push(t);const n=vu(e);n.O_()&&n.X_&&n.ea(t.mutations)}function lu(e){return Jc(e)&&!vu(e).x_()&&e.Ta.length>0}function cu(e){vu(e).start()}async function uu(e){vu(e).ra()}async function hu(e){const t=vu(e);for(const n of e.Ta)t.ea(n.mutations)}async function du(e,t,n){const r=e.Ta.shift(),s=Eo.from(r,t,n);await su(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await au(e)}async function fu(e,t){t&&vu(e).X_&&await async function(e,t){if(function(e){return To(e)&&e!==gr.ABORTED}(t.code)){const n=e.Ta.shift();vu(e).B_(),await su(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await au(e)}}(e,t),lu(e)&&cu(e)}async function pu(e,t){const n=mr(e);n.asyncQueue.verifyOperationInProgress(),lr(qc,"RemoteStore received new credentials");const r=Jc(n);n.Ea.add(3),await Hc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Bc(n)}async function mu(e,t){const n=mr(e);t?(n.Ea.delete(2),await Bc(n)):t||(n.Ea.add(2),await Hc(n),n.Ra.set("Unknown"))}function gu(e){return e.ma||(e.ma=function(e,t,n){const r=mr(e);return r.sa(),new Lc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Zc.bind(null,e),t_:eu.bind(null,e),r_:tu.bind(null,e),H_:nu.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Xc(e)?Yc(e):e.Ra.set("Unknown")):(await e.ma.stop(),$c(e))})),e.ma}function vu(e){return e.fa||(e.fa=function(e,t,n){const r=mr(e);return r.sa(),new Mc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:uu.bind(null,e),r_:fu.bind(null,e),ta:hu.bind(null,e),na:du.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await au(e)):(await e.fa.stop(),e.Ta.length>0&&(lr(qc,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class yu{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const a=Date.now()+n,i=new yu(e,t,a,r,s);return i.start(n),i}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vr(gr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(e,t){if(cr("AsyncQueue","".concat(t,": ").concat(e)),us(e))return new vr(gr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Vr.comparator(t.key,n.key):(e,t)=>Vr.comparator(e.key,t.key),this.keyedMap=Pi(),this.sortedSet=new Ks(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class xu{constructor(){this.ga=new Ks(Vr.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):dr(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Nu{constructor(e,t,n,r,s,a,i,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=i,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Nu(e,t,wu.emptySet(t),a,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Si(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Su{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Eu{constructor(){this.queries=_u(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=mr(e),r=n.queries;n.queries=_u(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new vr(gr.ABORTED,"Firestore shutting down"))}}function _u(){return new Ii(e=>Ei(e),Si)}async function ku(e,t){const n=mr(e);let r=3;const s=t.query;let a=n.queries.get(s);a?!a.ba()&&t.Da()&&(r=2):(a=new Su,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=bu(e,"Initialization of query '".concat(_i(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Iu(n)}async function Cu(e,t){const n=mr(e),r=t.query;let s=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?s=t.Da()?0:1:!a.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ju(e,t){const n=mr(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&Iu(n)}function Tu(e,t,n){const r=mr(e),s=r.queries.get(t);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(t)}function Iu(e){e.Ca.forEach(e=>{e.next()})}var Du,Au;(Au=Du||(Du={})).Ma="default",Au.Cache="cache";class Ru{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Nu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Du.Cache}}class Pu{constructor(e){this.key=e}}class Ou{constructor(e){this.key=e}}class Lu{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qi(),this.mutatedKeys=qi(),this.eu=ji(e),this.tu=new wu(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new xu,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,a=r,i=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=ki(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(i=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(i=!0)),f&&(u?(a=a.add(u),s=d?s.add(e):s.delete(e)):(a=a.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:i,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dr(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const i=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==a.length||l?{snapshot:new Nu(this.query,e.tu,s,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:i}:{au:i}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xu,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qi(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Ou(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Pu(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=qi();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const Mu="SyncEngine";class Fu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Uu{constructor(e){this.key=e,this.hu=!1}}class Vu{constructor(e,t,n,r,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ii(e=>Ei(e),Si),this.Iu=new Map,this.Eu=new Set,this.du=new Ks(Vr.comparator),this.Au=new Map,this.Ru=new Ql,this.Vu={},this.mu=new Map,this.fu=Pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function qu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=lh(e);let s;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Bu(r,t,n,!0),s}async function zu(e,t){const n=lh(e);await Bu(n,t,!0,!1)}async function Bu(e,t,n,r){const s=await pc(e.localStore,bi(t)),a=s.targetId,i=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Hu(e,t,a,"current"===i,s.resumeToken)),e.isPrimaryClient&&n&&Wc(e.remoteStore,s),o}async function Hu(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await gc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,s)}));const a=r&&r.targetChanges.get(t.targetId),i=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,a,i);return nh(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await gc(e.localStore,t,!0),i=new Lu(t,a.Qs),o=i.ru(a.documents),l=Uo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=i.applyChanges(o,e.isPrimaryClient,l);nh(e,n,c.au);const u=new Fu(t,n,i);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Wu(e,t,n){const r=mr(e),s=r.Tu.get(t),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(e=>!Si(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await mc(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kc(r.remoteStore,s.targetId),eh(r,s.targetId)}).catch(os)):(eh(r,s.targetId),await mc(r.localStore,s.targetId,!0))}async function Ku(e,t){const n=mr(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kc(n.remoteStore,r.targetId))}async function Gu(e,t){const n=mr(e);try{const e=await function(e,t){const n=mr(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const i=[];t.targetChanges.forEach((a,o)=>{const l=s.get(o);if(!l)return;i.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Zs.EMPTY_BYTE_STRING,$r.min()).withLastLimboFreeSnapshotVersion($r.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&i.push(n.Pi.updateTargetData(e,c))});let o=Ai(),l=qi();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&i.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),i.push(dc(e,a,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual($r.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));i.push(t)}return ls.waitFor(i).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(pr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?pr(r.hu,14607):e.removedDocuments.size>0&&(pr(r.hu,42227),r.hu=!1))}),await ah(n,e,t)}catch(e){await os(e)}}function Qu(e,t,n){const r=mr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=mr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&Iu(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yu(e,t,n){const r=mr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),a=s&&s.key;if(a){let e=new Ks(Vr.comparator);e=e.insert(a,Ua.newNoDocument(a,$r.min()));const n=qi().add(a),s=new Fo($r.min(),new Map,new Ks(Tr),e,n);await Gu(r,s),r.du=r.du.remove(a),r.Au.delete(t),sh(r)}else await mc(r.localStore,t,!1).then(()=>eh(r,t,n)).catch(os)}async function Xu(e,t){const n=mr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,a=s.keys();let i=ls.resolve();return a.forEach(e=>{i=i.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);pr(null!==a,48541),t.version.compareTo(a)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),i.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=qi();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zu(n,r,null),$u(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ah(n,e)}catch(e){await os(e)}}async function Ju(e,t,n){const r=mr(e);try{const e=await function(e,t){const n=mr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(pr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zu(r,t,n),$u(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ah(r,e)}catch(n){await os(n)}}function $u(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Zu(e,t,n){const r=mr(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||th(e,t)})}function th(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Kc(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sh(e))}function nh(e,t,n){for(const r of n)r instanceof Pu?(e.Ru.addReference(r.key,t),rh(e,r)):r instanceof Ou?(lr(Mu,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||th(e,r.key)):dr(19791,{wu:r})}function rh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(lr(Mu,"New document in limbo: "+n),e.Eu.add(r),sh(e))}function sh(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Vr(Mr.fromString(t)),r=e.fu.next();e.Au.set(r,new Uu(n)),e.du=e.du.insert(n,r),Wc(e.remoteStore,new _l(bi(mi(n.path)),r,"TargetPurposeLimboResolution",hs.ce))}}async function ah(e,t,n){const r=mr(e),s=[],a=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{i.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const s=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=sc.As(o.targetId,e);a.push(t)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(e,t){const n=mr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ls.forEach(t,t=>ls.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ls.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!us(e))throw e;lr(oc,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,a))}async function ih(e,t){const n=mr(e);if(!n.currentUser.isEqual(t)){lr(Mu,"User change. New user:",t.toKey());const e=await uc(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new vr(gr.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ah(n,e.Ls)}}function oh(e,t){const n=mr(e),r=n.Au.get(t);if(r&&r.hu)return qi().add(r.key);{let e=qi();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function lh(e){const t=mr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yu.bind(null,t),t.Pu.H_=ju.bind(null,t.eventManager),t.Pu.yu=Tu.bind(null,t.eventManager),t}function ch(e){const t=mr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ju.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return cc(this.persistence,new ic,e.initialUser,this.serializer)}Cu(e){return new ec(nc.mi,this.serializer)}Du(e){return new bc}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class hh extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pr(this.persistence.referenceDelegate instanceof rc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ul(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Rl.withCacheSize(this.cacheSizeBytes):Rl.DEFAULT;return new ec(e=>rc.mi(e,t),this.serializer)}}class dh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ih.bind(null,this.syncEngine),await mu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Eu}createDatastore(e){const t=Ac(e.databaseInfo.databaseId),n=function(e){return new Ic(e)}(e.databaseInfo);return function(e,t,n,r){return new Uc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new zc(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>Qu(this.syncEngine,e,0),Nc.v()?new Nc:new wc)}createSyncEngine(e,t){return function(e,t,n,r,s,a,i){const o=new Vu(e,t,n,r,s,a);return i&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=mr(e);lr(qc,"RemoteStore shutting down."),t.Ea.add(5),await Hc(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}dh.provider={build:()=>new dh};class fh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const ph="FirestoreClient";class mh{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sr.UNAUTHENTICATED,this.clientId=jr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{lr(ph,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(lr(ph,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gh(e,t){e.asyncQueue.verifyOperationInProgress(),lr(ph,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await uc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yh(e);lr(ph,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>pu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>pu(t.remoteStore,n)),e._onlineComponents=t}async function yh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lr(ph,"Using user provided OfflineComponentProvider");try{await gh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===gr.FAILED_PRECONDITION||e.code===gr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ur("Error using user provided cache. Falling back to memory cache: "+n),await gh(e,new uh)}}else lr(ph,"Using default OfflineComponentProvider"),await gh(e,new hh(void 0));return e._offlineComponents}async function bh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lr(ph,"Using user provided OnlineComponentProvider"),await vh(e,e._uninitializedComponentsProvider._online)):(lr(ph,"Using default OnlineComponentProvider"),await vh(e,new dh))),e._onlineComponents}function wh(e){return bh(e).then(e=>e.syncEngine)}async function xh(e){const t=await bh(e),n=t.eventManager;return n.onListen=qu.bind(null,t.syncEngine),n.onUnlisten=Wu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ku.bind(null,t.syncEngine),n}function Nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const a=new fh({next:n=>{a.Nu(),t.enqueueAndForget(()=>Cu(e,i)),n.fromCache&&"server"===r.source?s.reject(new vr(gr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),i=new Ru(n,a,{includeMetadataChanges:!0,qa:!0});return ku(e,i)}(await xh(e),e.asyncQueue,t,n,r)),r.promise}function Sh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Eh=new Map,_h="firestore.googleapis.com",kh=!0;class Ch{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vr(gr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_h,this.ssl=kh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:kh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Al;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ll)throw new vr(gr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vr(gr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vr(gr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vr(gr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vr(gr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ch({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vr(gr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vr(gr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ch(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wr;switch(e.type){case"firstParty":return new Er(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vr(gr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Eh.get(e);t&&(lr("ComponentProvider","Removing Datastore"),Eh.delete(e),t.terminate())}(this),Promise.resolve()}}class Th{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Th(this.firestore,e,this._query)}}class Ih{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ih(this.firestore,e,this._key)}toJSON(){return{type:Ih._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Qr(t,Ih._jsonSchema))return new Ih(e,n||null,new Vr(Mr.fromString(t.referencePath)))}}Ih._jsonSchemaVersion="firestore/documentReference/1.0",Ih._jsonSchema={type:Gr("string",Ih._jsonSchemaVersion),referencePath:Gr("string")};class Dh extends Th{constructor(e,t,n){super(e,t,mi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ih(this.firestore,null,new Vr(e))}withConverter(e){return new Dh(this.firestore,e,this._path)}}function Ah(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=dt(e),qr("collection","path",t),e instanceof jh){const n=Mr.fromString(t,...r);return Br(n),new Dh(e,null,n)}{if(!(e instanceof Ih||e instanceof Dh))throw new vr(gr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mr.fromString(t,...r));return Br(n),new Dh(e.firestore,null,n)}}function Rh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=dt(e),1===arguments.length&&(t=jr.newId()),qr("doc","path",t),e instanceof jh){const n=Mr.fromString(t,...r);return zr(n),new Ih(e,null,new Vr(n))}{if(!(e instanceof Ih||e instanceof Dh))throw new vr(gr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mr.fromString(t,...r));return zr(n),new Ih(e.firestore,e instanceof Dh?e.converter:null,new Vr(n))}}const Ph="AsyncQueue";class Oh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Rc(this,"async_queue_retry"),this._c=()=>{const e=Dc();e&&lr(Ph,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Dc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Dc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(Qp){if(!us(Qp))throw Qp;lr(Ph,"Operation failed with retryable error: "+Qp)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",Lh(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=yu.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&dr(47125,{Pc:Lh(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Lh(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Mh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Fh extends jh{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Oh,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Oh(e),this._firestoreClient=void 0,await e}}}function Uh(e){if(e._terminated)throw new vr(gr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vh(e),e._firestoreClient}function Vh(e){var t,n,r;const s=e._freezeSettings(),a=function(e,t,n,r){return new ha(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Sh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new mh(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class qh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qh(Zs.fromBase64String(e))}catch(e){throw new vr(gr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qh(Zs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qr(e,qh._jsonSchema))return qh.fromBase64String(e.bytes)}}qh._jsonSchemaVersion="firestore/bytes/1.0",qh._jsonSchema={type:Gr("string",qh._jsonSchemaVersion),bytes:Gr("string")};class zh{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vr(gr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bh{constructor(e){this._methodName=e}}class Hh{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vr(gr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vr(gr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tr(this._lat,e._lat)||Tr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hh._jsonSchemaVersion}}static fromJSON(e){if(Qr(e,Hh._jsonSchema))return new Hh(e.latitude,e.longitude)}}Hh._jsonSchemaVersion="firestore/geoPoint/1.0",Hh._jsonSchema={type:Gr("string",Hh._jsonSchemaVersion),latitude:Gr("number"),longitude:Gr("number")};class Wh{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wh._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qr(e,Wh._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Wh(e.vectorValues);throw new vr(gr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wh._jsonSchemaVersion="firestore/vectorValue/1.0",Wh._jsonSchema={type:Gr("string",Wh._jsonSchemaVersion),vectorValues:Gr("object")};const Kh=/^__.*__$/;class Gh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new vo(e,this.data,this.fieldMask,t,this.fieldTransforms):new go(e,this.data,t,this.fieldTransforms)}}class Qh{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new vo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dr(40011,{Ac:e})}}class Xh{constructor(e,t,n,r,s,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xh(Ve(Ve({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(Yh(this.Ac)&&Kh.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jh{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ac(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xh({Ac:e,methodName:t,Dc:n,path:Ur.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $h(e){const t=e._freezeSettings(),n=Ac(e._databaseId);return new Jh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zh(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=e.Cc(a.merge||a.mergeFields?2:0,t,n,s);ld("Data must be an object, but it was:",i,r);const o=id(r,i);let l,c;if(a.merge)l=new Js(i.fieldMask),c=i.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const s=cd(t,r,n);if(!i.contains(s))throw new vr(gr.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));fd(e,s)||e.push(s)}l=new Js(e),c=i.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=i.fieldTransforms;return new Gh(new Ma(o),l,c)}class ed extends Bh{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}class td extends Bh{_toFieldTransform(e){return new ao(e.path,new Ji)}isEqual(e){return e instanceof td}}function nd(e,t,n,r){const s=e.Cc(1,t,n);ld("Data must be an object, but it was:",s,r);const a=[],i=Ma.empty();Hs(r,(e,r)=>{const o=hd(t,e,n);r=dt(r);const l=s.yc(o);if(r instanceof ed)a.push(o);else{const e=ad(r,l);null!=e&&(a.push(o),i.set(o,e))}});const o=new Js(a);return new Qh(i,o,s.fieldTransforms)}function rd(e,t,n,r,s,a){const i=e.Cc(1,t,n),o=[cd(t,r,n)],l=[s];if(a.length%2!=0)throw new vr(gr.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<a.length;d+=2)o.push(cd(t,a[d])),l.push(a[d+1]);const c=[],u=Ma.empty();for(let d=o.length-1;d>=0;--d)if(!fd(c,o[d])){const e=o[d];let t=l[d];t=dt(t);const n=i.yc(e);if(t instanceof ed)c.push(e);else{const r=ad(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Js(c);return new Qh(u,h,i.fieldTransforms)}function sd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return ad(n,e.Cc(r?4:3,t))}function ad(e,t){if(od(e=dt(e)))return ld("Unsupported field value:",t,e),id(e,t);if(e instanceof Bh)return function(e,t){if(!Yh(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=ad(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ki(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Jr.fromDate(e);return{timestampValue:$o(t.serializer,n)}}if(e instanceof Jr){const n=new Jr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$o(t.serializer,n)}}if(e instanceof Hh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qh)return{bytesValue:Zo(t.serializer,e._byteString)};if(e instanceof Ih){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:nl(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Wh)return function(e,t){return{mapValue:{fields:{[pa]:{stringValue:va},[ya]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Hi(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Wr(e)))}(e,t)}function id(e,t){const n={};return Ws(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hs(e,(e,r)=>{const s=ad(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function od(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jr||e instanceof Hh||e instanceof qh||e instanceof Ih||e instanceof Bh||e instanceof Wh)}function ld(e,t,n){if(!od(n)||!Hr(n)){const r=Wr(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function cd(e,t,n){if((t=dt(t))instanceof zh)return t._internalPath;if("string"==typeof t)return hd(e,t);throw dd("Field path arguments must be of type string or ",e,!1,void 0,n)}const ud=new RegExp("[~\\*/\\[\\]]");function hd(e,t,n){if(t.search(ud)>=0)throw dd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new zh(...t.split("."))._internalPath}catch(r){throw dd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function dd(e,t,n,r,s){const a=r&&!r.isEmpty(),i=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||i)&&(l+=" (found",a&&(l+=" in field ".concat(r)),i&&(l+=" in document ".concat(s)),l+=")"),new vr(gr.INVALID_ARGUMENT,o+e+l)}function fd(e,t){return e.some(e=>e.isEqual(t))}class pd{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ih(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new md(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class md extends pd{data(){return super.data()}}function gd(e,t){return"string"==typeof t?hd(e,t):t instanceof zh?t._internalPath:t._delegate._internalPath}function vd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vr(gr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yd{}class bd extends yd{}function wd(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];t instanceof yd&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof Sd).length,n=e.filter(e=>e instanceof xd).length;if(t>1||t>0&&n>0)throw new vr(gr.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class xd extends bd{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xd(e,t,n)}_apply(e){const t=this._parse(e);return kd(e._query,t),new Th(e.firestore,e.converter,xi(e._query,t))}_parse(e){const t=$h(e.firestore),n=function(e,t,n,r,s,a,i){let o;if(s.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vr(gr.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_d(i,a);const t=[];for(const n of i)t.push(Ed(r,e,n));o={arrayValue:{values:t}}}else o=Ed(r,e,i)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_d(i,a),o=sd(n,t,i,"in"===a||"not-in"===a);return Ka.create(s,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Nd(e,t,n){const r=t,s=gd("where",e);return xd._create(s,r,n)}class Sd extends yd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ga.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)kd(n,s),n=xi(n,s)}(e._query,t),new Th(e.firestore,e.converter,xi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ed(e,t,n){if("string"==typeof(n=dt(n))){if(""===n)throw new vr(gr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vi(t)&&-1!==n.indexOf("/"))throw new vr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Mr.fromString(n));if(!Vr.isDocumentKey(r))throw new vr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ja(e,new Vr(r))}if(n instanceof Ih)return ja(e,n._key);throw new vr(gr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Wr(n),"."))}function _d(e,t){if(!Array.isArray(e)||0===e.length)throw new vr(gr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function kd(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vr(gr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vr(gr.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Cd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return na(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw dr(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Hs(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ya].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>na(e.doubleValue));return new Wh(n)}convertGeoPoint(e){return new Hh(na(e.latitude),na(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ca(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const t=ta(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mr.fromString(e);pr(El(n),9688,{name:e});const r=new fa(n.get(1),n.get(3)),s=new Vr(n.popFirst(5));return r.isEqual(t)||cr("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function jd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Id extends pd{constructor(e,t,n,r,s,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(gd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vr(gr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Id._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Id._jsonSchemaVersion="firestore/documentSnapshot/1.0",Id._jsonSchema={type:Gr("string",Id._jsonSchemaVersion),bundleSource:Gr("string","DocumentSnapshot"),bundleName:Gr("string"),bundle:Gr("string")};class Dd extends Id{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ad{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Td(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Dd(this._firestore,this._userDataWriter,n.key,n,new Td(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vr(gr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Dd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Td(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Dd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Td(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,a=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Rd(t.type),doc:r,oldIndex:s,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vr(gr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ad._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jr.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Rd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dr(61501,{type:e})}}Ad._jsonSchemaVersion="firestore/querySnapshot/1.0",Ad._jsonSchema={type:Gr("string",Ad._jsonSchemaVersion),bundleSource:Gr("string","QuerySnapshot"),bundleName:Gr("string"),bundle:Gr("string")};class Pd extends Cd{constructor(e){super(),this.firestore=e}convertBytes(e){return new qh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ih(this.firestore,null,t)}}function Od(e){e=Kr(e,Th);const t=Kr(e.firestore,Fh),n=Uh(t),r=new Pd(t);return vd(e._query),Nh(n,e._query).then(n=>new Ad(t,r,e,n))}function Ld(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=dt(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||Mh(n[a])||(s=n[a++]);const i={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Mh(n[a])){var o,l,c;const e=n[a];n[a]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof Ih)h=Kr(e.firestore,Fh),d=mi(e._key.path),u={next:t=>{n[a]&&n[a](Fd(h,e,t))},error:n[a+1],complete:n[a+2]};else{const t=Kr(e,Th);h=Kr(t.firestore,Fh),d=t._query;const r=new Pd(h);u={next:e=>{n[a]&&n[a](new Ad(h,r,t,e))},error:n[a+1],complete:n[a+2]},vd(e._query)}return function(e,t,n,r){const s=new fh(r),a=new Ru(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>ku(await xh(e),a)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>Cu(await xh(e),a))}}(Uh(h),d,i,u)}function Md(e,t){return function(e,t){const n=new yr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ch(e);try{const e=await function(e,t){const n=mr(e),r=Jr.now(),s=t.reduce((e,t)=>e.add(t.key),qi());let a,i;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Ai(),l=qi();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{a=s;const i=[];for(const e of t){const t=po(e,a.get(e.key).overlayedDocument);null!=t&&i.push(new vo(e.key,t,Fa(t.value.mapValue),oo.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,i,t)}).next(t=>{i=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:i.batchId,changes:Oi(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Ks(Tr)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ah(r,e.changes),await au(r.remoteStore)}catch(e){const t=bu(e,"Failed to persist write");n.reject(t)}}(await wh(e),t,n)),n.promise}(Uh(e),t)}function Fd(e,t,n){const r=n.docs.get(t._key),s=new Pd(e);return new Id(e,s,t._key,r,new Td(n.hasPendingWrites,n.fromCache),t.converter)}class Ud{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$h(e)}set(e,t,n){this._verifyNotCommitted();const r=Vd(e,this._firestore),s=jd(r.converter,t,n),a=Zh(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,oo.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Vd(e,this._firestore);let s;for(var a=arguments.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=arguments[o];return s="string"==typeof(t=dt(t))||t instanceof zh?rd(this._dataReader,"WriteBatch.update",r._key,t,n,i):nd(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,oo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vd(e,this._firestore);return this._mutations=this._mutations.concat(new xo(t._key,oo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vr(gr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vd(e,t){if((e=dt(e)).firestore!==t)throw new vr(gr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function qd(){return new td("serverTimestamp")}function zd(e){return Uh(e=Kr(e,Fh)),new Ud(e,t=>Md(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ar=e}(jn),Sn(new ft("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const a=e.getProvider("app").getImmediate(),i=new Fh(new Nr(e.getProvider("auth-internal")),new kr(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vr(gr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fa(e.options.projectId,t)}(a,r),a);return s=Ve({useFetchStreams:t},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Dn(nr,rr,e),Dn(nr,rr,"esm2020")}();const Bd="firebasestorage.googleapis.com",Hd="storageBucket";class Wd extends ot{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Qd(e),"Firebase Storage: ".concat(t," (").concat(Qd(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wd.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Kd,Gd;function Qd(e){return"storage/"+e}function Yd(){return new Wd(Kd.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xd(){return new Wd(Kd.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jd(){return new Wd(Kd.CANCELED,"User canceled the upload/download.")}function $d(){return new Wd(Kd.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zd(e){return new Wd(Kd.INVALID_ARGUMENT,e)}function ef(){return new Wd(Kd.APP_DELETED,"The Firebase app was deleted.")}function tf(e,t){return new Wd(Kd.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function nf(e){throw new Wd(Kd.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Kd||(Kd={}));class rf{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=rf.makeFromUrl(e,t)}catch(Qp){return new rf(e,"")}if(""===n.path)return n;throw r=e,new Wd(Kd.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const s=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const i=t.replace(/[.]/g,"\\."),o=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(i,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(t===Bd?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let s=r[t.indices.path];s||(s=""),n=new rf(e,s),t.postModify(n);break}}if(null==n)throw function(e){return new Wd(Kd.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sf{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function af(e){return"string"===typeof e||e instanceof String}function of(e){return lf()&&e instanceof Blob}function lf(){return"undefined"!==typeof Blob}function cf(e,t,n,r){if(r<t)throw Zd("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Zd("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function uf(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function hf(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function df(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==t.indexOf(e);return n||r||s}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Gd||(Gd={}));class ff{constructor(e,t,n,r,s,a,i,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=i,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new pf(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Gd.NO_ERROR,s=n.getStatus();if(!t||df(s,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Gd.ABORT;return void e(!1,new pf(!1,null,t))}const a=-1!==this.successCodes_.indexOf(s);e(!0,new pf(a,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(s,s.getResponse());void 0!==e?n(e):n()}catch(Qp){r(Qp)}else if(null!==s){const e=Yd();e.serverResponse=s.getErrorText(),this.errorCallback_?r(this.errorCallback_(s,e)):r(e)}else if(t.canceled){r(this.appDelete_?ef():Jd())}else{r(Xd())}};this.canceled_?t(0,new pf(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,s=null,a=null,i=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){s=setTimeout(()=>{s=null,e(f,l())},t)}function d(){a&&clearTimeout(a)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(e)return d(),void u.call(null,e,...n);if(l()||i)return d(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===o?(o=2,a=0):a=1e3*(r+Math.random()),h(a)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==s?(e||(o=2),clearTimeout(s),h(0)):e||(o=1)))}return h(0),a=setTimeout(()=>{i=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pf{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function mf(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gf(){const e=mf();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(lf())return new Blob(n);throw new Wd(Kd.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function vf(e){if("undefined"===typeof atob)throw t="base-64",new Wd(Kd.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const yf="raw",bf="base64",wf="base64url",xf="data_url";class Nf{constructor(e,t){this.data=e,this.contentType=t||null}}function Sf(e,t){switch(e){case yf:return new Nf(Ef(t));case bf:case wf:return new Nf(_f(e,t));case xf:return new Nf(function(e){const t=new kf(e);return t.base64?_f(bf,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Qp){throw tf(xf,"Malformed data URL.")}return Ef(t)}(t.rest)}(t),new kf(t).contentType)}throw Yd()}function Ef(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function _f(e,t){switch(e){case bf:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw tf(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case wf:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw tf(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vf(t)}catch(Qp){if(Qp.message.includes("polyfill"))throw Qp;throw tf(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kf{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tf(xf,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Cf{constructor(e,t){let n=0,r="";of(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(of(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Cf(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Cf(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(lf()){const e=t.map(e=>e instanceof Cf?e.data_:e);return new Cf(gf.apply(null,e))}{const e=t.map(e=>af(e)?Sf(yf,e).data:e.data_);let n=0;e.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let s=0;return e.forEach(e=>{for(let t=0;t<e.length;t++)r[s++]=e[t]}),new Cf(r,!0)}}uploadData(){return this.data_}}function jf(e){let t;try{t=JSON.parse(e)}catch(Qp){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t;var n}function Tf(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function If(e,t){return t}class Df{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||If}}let Af=null;function Rf(){if(Af)return Af;const e=[];e.push(new Df("bucket")),e.push(new Df("generation")),e.push(new Df("metageneration")),e.push(new Df("name","fullPath",!0));const t=new Df("name");t.xform=function(e,t){return function(e){return!af(e)||e.length<2?e:Tf(e)}(t)},e.push(t);const n=new Df("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Df("timeCreated")),e.push(new Df("updated")),e.push(new Df("md5Hash",null,!0)),e.push(new Df("cacheControl",null,!0)),e.push(new Df("contentDisposition",null,!0)),e.push(new Df("contentEncoding",null,!0)),e.push(new Df("contentLanguage",null,!0)),e.push(new Df("contentType",null,!0)),e.push(new Df("metadata","customMetadata",!0)),Af=e,Af}function Pf(e,t,n){const r={type:"file"},s=n.length;for(let a=0;a<s;a++){const e=n[a];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,s=new rf(n,r);return t._makeStorageReference(s)}})}(r,e),r}function Of(e,t,n){const r=jf(t);if(null===r)return null;return Pf(e,r,n)}function Lf(e,t){const n={},r=t.length;for(let s=0;s<r;s++){const r=t[s];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const Mf="prefixes",Ff="items";function Uf(e,t,n){const r=jf(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Mf])for(const s of n[Mf]){const n=s.replace(/\/$/,""),a=e._makeStorageReference(new rf(t,n));r.prefixes.push(a)}if(n[Ff])for(const s of n[Ff]){const n=e._makeStorageReference(new rf(t,s.name));r.items.push(n)}return r}(e,t,r)}class Vf{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function qf(e){if(!e)throw Yd()}function zf(e,t){return function(n,r){const s=Of(e,r,t);return qf(null!==s),s}}function Bf(e,t){return function(n,r){const s=Of(e,r,t);return qf(null!==s),function(e,t,n,r){const s=jf(t);if(null===s)return null;if(!af(s.downloadTokens))return null;const a=s.downloadTokens;if(0===a.length)return null;const i=encodeURIComponent;return a.split(",").map(t=>{const s=e.bucket,a=e.fullPath;return uf("/b/"+i(s)+"/o/"+i(a),n,r)+hf({alt:"media",token:t})})[0]}(s,r,e.host,e._protocol)}}function Hf(e){return function(t,n){let r;var s,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Wd(Kd.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Wd(Kd.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Wd(Kd.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,r=new Wd(Kd.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Wf(e){const t=Hf(e);return function(n,r){let s=t(n,r);var a;return 404===n.getStatus()&&(a=e.path,s=new Wd(Kd.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),s.serverResponse=r.serverResponse,s}}function Kf(e,t,n,r,s){const a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),s&&(a.maxResults=s);const i=uf(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,l=new Vf(i,"GET",function(e,t){return function(n,r){const s=Uf(e,t,r);return qf(null!==s),s}}(e,t.bucket),o);return l.urlParams=a,l.errorHandler=Hf(t),l}function Gf(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Qf(e,t,n,r,s){const a=t.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();i["Content-Type"]="multipart/related; boundary="+o;const l=Gf(t,r,s),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Lf(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=Cf.getBlob(c,r,u);if(null===h)throw $d();const d={name:l.fullPath},f=uf(a,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Vf(f,"POST",zf(e,n),p);return m.urlParams=d,m.headers=i,m.body=h.uploadData(),m.errorHandler=Hf(t),m}class Yf{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gd.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gd.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gd.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,s){if(this.sent_)throw nf("cannot .send() more than once");if(Je(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nf("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Qp){return-1}}getResponse(){if(!this.sent_)throw nf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Xf extends Yf{initXhr(){this.xhr_.responseType="text"}}function Jf(){return new Xf}class $f{constructor(e,t){this._service=e,this._location=t instanceof rf?t:rf.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $f(e,t)}get root(){const e=new rf(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tf(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new rf(this._location.bucket,e);return new $f(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Wd(Kd.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Zf(e,t,n){e._throwIfRoot("uploadBytes");const r=Qf(e.storage,e._location,Rf(),new Cf(t,!0),n);return e.storage.makeRequestWithTokens(r,Jf).then(t=>({metadata:t,ref:e}))}function ep(e){const t={prefixes:[],items:[]};return tp(e,t).then(()=>t)}async function tp(e,t,n){const r={pageToken:n},s=await np(e,r);t.prefixes.push(...s.prefixes),t.items.push(...s.items),null!=s.nextPageToken&&await tp(e,t,s.nextPageToken)}function np(e,t){null!=t&&"number"===typeof t.maxResults&&cf("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Kf(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Jf)}function rp(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=uf(t.fullServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,a=new Vf(r,"GET",Bf(e,n),s);return a.errorHandler=Wf(t),a}(e.storage,e._location,Rf());return e.storage.makeRequestWithTokens(t,Jf).then(e=>{if(null===e)throw new Wd(Kd.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function sp(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=uf(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new Vf(n,"DELETE",function(e,t){},r);return s.successCodes=[200,204],s.errorHandler=Wf(t),s}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Jf)}function ap(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new rf(e._location.bucket,n);return new $f(e.storage,r)}function ip(e,t){if(e instanceof cp){const n=e;if(null==n._bucket)throw new Wd(Kd.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Hd+"' property when initializing the app?");const r=new $f(n,n._bucket);return null!=t?ip(r,t):r}return void 0!==t?ap(e,t):e}function op(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cp)return new $f(e,t);throw Zd("To use ref(service, url), the first argument must be a Storage instance.")}return ip(e,t)}function lp(e,t){const n=null===t||void 0===t?void 0:t[Hd];return null==n?null:rf.makeFromBucketSpec(n,e)}class cp{constructor(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Bd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?rf.makeFromBucketSpec(r,this._host):lp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=rf.makeFromBucketSpec(this._url,e):this._bucket=lp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cf("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cf("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $f(this,e)}_makeRequest(e,t,n,r){let s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sf(ef());{const a=function(e,t,n,r,s,a){let i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=hf(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ff(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const up="@firebase/storage",hp="0.14.0",dp="storage";function fp(e,t,n,r){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yf,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");const s=Sf(n,t),a=Ve({},r);return null==a.contentType&&null!=s.contentType&&(a.contentType=s.contentType),Zf(e,s.data,a)}(e=dt(e),t,n,r)}function pp(e){return sp(e=dt(e))}function mp(e,t){return op(e=dt(e),t)}function gp(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new cp(r,s,a,n,jn)}Sn(new ft(dp,gp,"PUBLIC").setMultipleInstances(!0)),Dn(up,hp,""),Dn(up,hp,"esm2020");const vp=Tn({apiKey:"XsxVvIS4mIRSzDzG2RtsbJ_I1p25-rjuupbwWCffz6g",authDomain:"clickalinks-frontend.firebaseapp.com",projectId:"clickalinks-frontend",storageBucket:"clickalinks-frontend.firebasestorage.app",messagingSenderId:"568043553622",appId:"1:568043553622:web:d8e928c8b26e2847e50cf7"}),yp=function(e,t){const n="object"==typeof e?e:In(),r="string"==typeof e?e:t||da,s=En(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=Qe("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Kr(e,jh);const s=Je(t),a=e._getSettings(),i=Ve(Ve({},a),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);s&&($e("https://".concat(o)),nt("Firestore",!0)),a.host!==_h&&a.host!==o&&ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Ve(Ve({},a),{},{host:o,ssl:s,emulatorOptions:r});if(!ut(l,i)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sr.MOCK_USER;else{var c;t=Ze(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vr(gr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sr(s)}e._authCredentials=new xr(new br(t,n))}}(s,...e)}return s}(vp),bp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In(),t=arguments.length>1?arguments[1]:void 0;e=dt(e);const n=En(e,dp).getImmediate({identifier:t}),r=Qe("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const s=Je(t);s&&($e("https://".concat(e.host,"/b")),nt("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(e._overrideAuthToken="string"===typeof a?a:Ze(a,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(vp);var wp=n(579);const xp=e=>{let{isMobile:t=!1}=e;re();const n=ae(),[r,a]=(0,s.useState)(""),[i,o]=(0,s.useState)([]),[l,c]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),d=(0,s.useCallback)(async e=>{if(!e||e.trim().length<2)return o([]),void h(!1);c(!0);try{const t=await Od(Ah(yp,"purchasedSquares")),n=[],r=e.toLowerCase().trim(),s=new Date;t.forEach(e=>{const t=e.data();if(t&&"active"===t.status){if(t.endDate){if(new Date(t.endDate)<=s)return}const a=(t.businessName||"").toLowerCase(),i=t.squareNumber||parseInt(e.id);a.includes(r)&&n.push({squareNumber:i,pageNumber:t.pageNumber||Math.ceil(i/200),businessName:t.businessName||"Unknown Business",logoData:t.logoData,dealLink:t.dealLink})}}),n.sort((e,t)=>e.squareNumber-t.squareNumber),o(n),h(n.length>0)}catch(t){console.error("\u274c Search error:",t),o([]),h(!1)}finally{c(!1)}},[]);(0,s.useEffect)(()=>{const e=setTimeout(()=>{r?d(r):(o([]),h(!1))},300);return()=>clearTimeout(e)},[r,d]);const f=e=>{a(""),h(!1),n("/page".concat(e.pageNumber),{state:{highlightSquare:e.squareNumber}}),setTimeout(()=>{const t=document.querySelector('[data-square="'.concat(e.squareNumber,'"]'));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.outline="3px solid #ff6b35",t.style.outlineOffset="2px",setTimeout(()=>{t.style.outline="",t.style.outlineOffset=""},3e3))},500)};return(0,wp.jsxs)("div",{className:"search-bar-wrapper ".concat(t?"mobile-search":""),children:[(0,wp.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.length>0&&f(i[0])},className:"search-form ".concat(t?"mobile-search-form":""),children:[(0,wp.jsxs)("div",{className:"search-input-wrapper",children:[(0,wp.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search businesses...",value:r,onChange:e=>{a(e.target.value)},onFocus:()=>{i.length>0&&h(!0)},className:"search-input ".concat(t?"mobile-search-input":""),"aria-label":"Search businesses"}),l&&(0,wp.jsx)("div",{className:"search-spinner"}),r&&!l&&(0,wp.jsx)("button",{type:"button",onClick:()=>{a(""),h(!1)},className:"search-clear","aria-label":"Clear search",children:"\xd7"})]}),(0,wp.jsx)("button",{type:"submit",className:"search-button ".concat(t?"mobile-search-button":""),"aria-label":"Search",children:(0,wp.jsx)("span",{children:t?"\ud83d\udd0d":"Search"})})]}),u&&i.length>0&&(0,wp.jsxs)("div",{className:"search-results",children:[(0,wp.jsxs)("div",{className:"search-results-header",children:["Found ",i.length," business",1!==i.length?"es":""]}),i.slice(0,10).map(e=>(0,wp.jsxs)("div",{className:"search-result-item",onClick:()=>f(e),children:[e.logoData&&(0,wp.jsx)("img",{src:e.logoData,alt:e.businessName,className:"search-result-logo"}),(0,wp.jsxs)("div",{className:"search-result-info",children:[(0,wp.jsx)("div",{className:"search-result-name",children:e.businessName}),(0,wp.jsxs)("div",{className:"search-result-location",children:["Square #",e.squareNumber," \u2022 Page ",e.pageNumber]})]})]},e.squareNumber)),i.length>10&&(0,wp.jsxs)("div",{className:"search-results-footer",children:["And ",i.length-10," more..."]})]}),u&&r&&!l&&0===i.length&&(0,wp.jsx)("div",{className:"search-results",children:(0,wp.jsxs)("div",{className:"search-no-results",children:['No businesses found matching "',r,'"']})})]})},Np=()=>{const e=re();return(0,wp.jsx)("header",{className:"header",children:(0,wp.jsxs)("div",{className:"header-container",children:[(0,wp.jsx)("div",{className:"promo-strip",children:(0,wp.jsxs)("div",{className:"promo-content",children:[(0,wp.jsx)("span",{className:"promo-text",children:"\ud83d\ude80 Direct Advertising Platform"}),(0,wp.jsx)("span",{className:"promo-separator",children:"\u2022"}),(0,wp.jsx)("span",{className:"promo-text",children:"\ud83d\udcb0 \xa31 Per Day"}),(0,wp.jsx)("span",{className:"promo-separator",children:"\u2022"}),(0,wp.jsx)("span",{className:"promo-text",children:"\ud83d\udcc8 Reach Thousands"}),(0,wp.jsx)("span",{className:"promo-separator",children:"\u2022"}),(0,wp.jsx)("span",{className:"promo-text",children:"\u26a1 Instant Setup"}),(0,wp.jsx)("span",{className:"promo-separator",children:"\u2022"}),(0,wp.jsx)("span",{className:"promo-text",children:"\ud83c\udfaf Click. Shop. Repeat."})]})}),(0,wp.jsx)("div",{className:"logo-section",children:(0,wp.jsx)(Ae,{to:"/",className:"logo-link","aria-label":"ClickaLinks Home",children:(0,wp.jsx)("img",{src:"/logo.PNG",alt:"ClickaLinks - Direct Advertising Platform",className:"logo-image"})})}),(0,wp.jsxs)("div",{className:"nav-search-wrapper",children:[(0,wp.jsx)("nav",{className:"navigation-section","aria-label":"Page navigation",children:(0,wp.jsx)("div",{className:"nav-container",children:[1,2,3,4,5,6,7,8,9,10].map(t=>{const n=1===t&&"/"===e.pathname||e.pathname==="/page".concat(t);return(0,wp.jsxs)(Ae,{to:1===t?"/":"/page".concat(t),className:"nav-item ".concat(n?"nav-active":""),"aria-current":n?"page":void 0,"aria-label":"Navigate to Page ".concat(t),children:[(0,wp.jsx)("span",{className:"nav-number",children:t}),(0,wp.jsx)("span",{className:"nav-label",children:"Page"})]},t)})})}),(0,wp.jsx)("div",{className:"search-container desktop-search",children:(0,wp.jsx)(xp,{isMobile:!1})})]})]})})},Sp=()=>(0,wp.jsx)("div",{className:"running-strip-container",children:(0,wp.jsx)("div",{className:"running-strip",children:(0,wp.jsx)("div",{className:"marquee-content",children:"\ud83d\ude80 Welcome to ClickaLinks - Your Direct Advertising Platform! \u2022 \u2b50 Premium Advertising Spaces Available - Get Your Spot Now! \u2022 \ud83d\udcab Limited Time Offer - Secure Your Advertising Square Today! \u2022 \ud83c\udfaf Reach Thousands of Customers - Advertise with ClickaLinks! Follow three simple step, Step 1: select Ad campaign. Step 2: Entre business details & company Logo. Step 3: Pay for your campaign to go Live!"})})}),Ep=async()=>{try{console.log("\ud83e\uddf9 Starting cleanup of expired ads...");const e=await Od(Ah(yp,"purchasedSquares")),t=new Date;let n=0,r=0;const s=[];e.forEach(async e=>{const a=e.data(),i=e.id;if(a&&a.endDate){if(new Date(a.endDate)<=t){console.log("\ud83d\uddd1\ufe0f Cleaning up expired ad for square ".concat(i));const e=(o=Rh(yp,"purchasedSquares",i),Md(Kr(o.firestore,Fh),[new xo(o._key,oo.none())])).then(()=>{console.log("\u2705 Deleted Firestore document for square ".concat(i)),n++}).catch(e=>{console.error("\u274c Error deleting Firestore doc for square ".concat(i,":"),e)});if(a.logoData&&a.logoData.includes("firebasestorage")){a.storagePath||"logos/square-".concat(i);const e=(async()=>{try{if(a.storagePath)try{const e=mp(bp,a.storagePath);await pp(e),console.log("\u2705 Deleted storage file: ".concat(a.storagePath)),r++}catch(e){console.log("\u26a0\ufe0f Could not delete using stored path, trying list method...")}try{const e=mp(bp,"logos"),t=(await function(e){return ep(e=dt(e))}(e)).items.filter(e=>e.name.startsWith("square-".concat(i))).map(e=>(console.log("\ud83d\uddd1\ufe0f Deleting storage file: ".concat(e.name)),pp(e).then(()=>{console.log("\u2705 Deleted storage file: ".concat(e.name)),r++}).catch(t=>{"storage/object-not-found"!==t.code&&console.error("\u274c Error deleting storage file ".concat(e.name,":"),t)})));await Promise.all(t)}catch(t){console.error("\u274c Error listing storage files:",t)}}catch(n){console.error("\u274c Error accessing storage for square ".concat(i,":"),n)}})();s.push(e)}s.push(e)}}var o}),await Promise.all(s);const a=JSON.parse(localStorage.getItem("squarePurchases")||"{}");let i=0;return Object.keys(a).forEach(e=>{const n=a[e];if(n&&n.endDate){new Date(n.endDate)<=t&&(delete a[e],i++)}}),i>0&&(localStorage.setItem("squarePurchases",JSON.stringify(a)),console.log("\u2705 Cleaned ".concat(i," expired ads from localStorage"))),console.log("\u2705 Cleanup complete: ".concat(n," ads removed, ").concat(r," logos deleted")),{cleanedCount:n,deletedLogos:r,localCleaned:i}}catch(e){throw console.error("\u274c Error during cleanup:",e),e}},_p=async e=>{try{if(console.log("\ud83d\udd25 SAVING PURCHASE TO FIRESTORE:",{squareNumber:e.squareNumber,businessName:e.businessName,hasLogo:!!e.logoData}),!e.squareNumber)return console.error("\u274c Cannot save: squareNumber is missing"),!1;const t=Rh(yp,"purchasedSquares",e.squareNumber.toString()),n={status:"active",businessName:e.businessName,logoData:e.logoData||null,dealLink:e.website||e.dealLink||"",contactEmail:e.contactEmail||"",startDate:e.startDate||(new Date).toISOString(),endDate:e.endDate||new Date(Date.now()+24*(e.duration||30)*60*60*1e3).toISOString(),amount:e.amount||e.finalAmount||10,duration:e.duration||e.selectedDuration||30,transactionId:e.transactionId||e.sessionId||"",purchaseDate:e.purchaseDate||(new Date).toISOString(),paymentStatus:"paid",storageType:e.logoData&&e.logoData.includes("firebasestorage")?"firebase":"local",storagePath:e.storagePath||null,squareNumber:e.squareNumber,pageNumber:e.pageNumber||1,createdAt:qd(),updatedAt:qd()};await function(e,t,n){e=Kr(e,Ih);const r=Kr(e.firestore,Fh),s=jd(e.converter,t,n);return Md(r,[Zh($h(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,oo.none())])}(t,n,{merge:!0}),console.log("\u2705 Successfully saved to Firestore:",{documentId:e.squareNumber.toString(),square:e.squareNumber,businessName:e.businessName}),await new Promise(e=>setTimeout(e,500));return(await Od(wd(Ah(yp,"purchasedSquares"),Nd("squareNumber","==",e.squareNumber)))).empty?(console.error("\u274c VERIFICATION FAILED: Document not found after save!"),!1):(console.log("\u2705 VERIFICATION SUCCESS: Document found in Firestore"),!0)}catch(t){return console.error("\u274c Error saving to Firestore:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),"permission-denied"===t.code&&console.error("\ud83d\udea8 PERMISSION DENIED: Firestore security rules are blocking writes!"),!1}},kp=e=>{var t,n;let{start:r=1,end:a=200,pageNumber:i,isHome:o=!1}=e;const l=ae(),c=re(),[u,h]=(0,s.useState)(null),[d,f]=(0,s.useState)({}),[p,m]=(0,s.useState)(!0),[g,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[w,x]=(0,s.useState)(new Set),[N,S]=(0,s.useState)(new Set),E=Array.from({length:a-r+1},(e,t)=>r+t);(0,s.useEffect)(()=>{const e=()=>{b(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{const e=async()=>{try{console.log("\ud83d\udd04 Syncing localStorage to Firestore..."),await(async()=>{try{console.log("\ud83d\udd04 Checking localStorage for unsaved purchases...");const e=JSON.parse(localStorage.getItem("squarePurchases")||"{}"),t=JSON.parse(localStorage.getItem("pendingPurchases")||"{}"),n=JSON.parse(localStorage.getItem("businessFormData")||"{}");console.log("\ud83d\udce6 localStorage contents:",{squarePurchases:Object.keys(e).length,pendingPurchases:Object.keys(t).length,businessFormData:n.businessName||n.name||"none"}),Object.entries(e).forEach(e=>{let[t,n]=e;console.log("\ud83d\udccb Square ".concat(t,":"),{status:n.status,paymentStatus:n.paymentStatus,hasLogo:!!n.logoData,businessName:n.businessName})});let r=0;for(const[s,a]of Object.entries(e)){const e=a.squareNumber||s,t="cancelled"!==a.status&&"failed"!==a.status;if(e&&t)if(console.log("\ud83d\udce6 Found purchase for square ".concat(s,", checking Firestore...")),(await Od(wd(Ah(yp,"purchasedSquares"),Nd("squareNumber","==",parseInt(s))))).empty){console.log("\ud83d\udcbe Saving square ".concat(s," to Firestore..."));const e=localStorage.getItem("logoPath_".concat(s)),t=Ve(Ve(Ve({},a),n),{},{squareNumber:parseInt(s),logoData:a.logoData||n.logoData,storagePath:e||a.storagePath,status:"active",paymentStatus:a.paymentStatus||"paid"});await _p(t)&&r++}else console.log("\u2705 Square ".concat(s," already in Firestore, skipping"));else console.log("\u23ed\ufe0f Skipping square ".concat(s,":"),{hasRequiredData:e,isNotCancelled:t,status:a.status})}for(const[s,a]of Object.entries(t))if(a.squareNumber)if(console.log("\ud83d\udce6 Found pending purchase for square ".concat(a.squareNumber,", checking Firestore...")),(await Od(wd(Ah(yp,"purchasedSquares"),Nd("squareNumber","==",a.squareNumber)))).empty){const e=localStorage.getItem("logoPath_".concat(a.squareNumber)),t=Ve(Ve(Ve({},a),n),{},{transactionId:s,logoData:a.logoData||n.logoData,storagePath:e||a.storagePath,status:"active",paymentStatus:"paid"});console.log("\ud83d\udcbe Saving pending purchase for square ".concat(a.squareNumber," to Firestore...")),await _p(t)&&r++}else console.log("\u2705 Square ".concat(a.squareNumber," already in Firestore, skipping"));if(n.squareNumber&&!n.status&&(console.log("\ud83d\udce6 Found businessFormData with square ".concat(n.squareNumber,", checking Firestore...")),(await Od(wd(Ah(yp,"purchasedSquares"),Nd("squareNumber","==",n.squareNumber)))).empty)){const e=localStorage.getItem("logoPath_".concat(n.squareNumber)),t=Ve(Ve({},n),{},{squareNumber:n.squareNumber,logoData:n.logoData,storagePath:e,status:"active",paymentStatus:"paid",businessName:n.name||n.businessName,contactEmail:n.email||n.contactEmail,website:n.website});console.log("\ud83d\udcbe Saving businessFormData for square ".concat(n.squareNumber," to Firestore...")),await _p(t)&&r++}return r>0?console.log("\u2705 Synced ".concat(r," purchase(s) from localStorage to Firestore")):(console.log("\u2139\ufe0f No unsaved purchases found in localStorage"),console.log("\ud83d\udca1 If you completed a payment, check:"),console.log("   1. Is data in localStorage? (Check browser DevTools > Application > Local Storage)"),console.log("   2. Do Firestore security rules allow writes?"),console.log("   3. Is Firebase properly configured?")),r}catch(e){return console.error("\u274c Error syncing localStorage to Firestore:",e),console.error("Error details:",{code:e.code,message:e.message,stack:e.stack}),0}})(),console.log("\ud83d\udd04 Loading purchased squares from Firestore...");const e=await Od(Ah(yp,"purchasedSquares"));console.log("\ud83d\udcca Total documents in Firestore: ".concat(e.size));const t={},n=new Date,r=[];e.forEach(e=>{const t=e.data();r.push({id:e.id,status:t.status,hasLogoData:!!t.logoData,endDate:t.endDate,squareNumber:t.squareNumber,businessName:t.businessName})}),console.log("\ud83d\udccb ALL DOCUMENTS IN FIRESTORE:",r),e.forEach(e=>{const r=e.data(),s=e.id;if(console.log("\ud83d\udcc4 Processing Document ID: ".concat(s),{status:r.status,hasLogoData:!!r.logoData,endDate:r.endDate,squareNumber:r.squareNumber,businessName:r.businessName,fullData:r}),r)if(r.status)if("active"===r.status){if(r&&"active"===r.status)if(r.endDate){new Date(r.endDate)>n?(t[s]=Ve(Ve({},r),{},{squareNumber:r.squareNumber||parseInt(s)}),r.logoData?console.log("\u2705 Square ".concat(s," loaded with logo:"),{logoURL:r.logoData.substring(0,60)+"...",logoType:r.logoData.startsWith("http")?"URL":"Data URL",storageType:r.storageType||"unknown"}):console.warn("\u26a0\ufe0f Square ".concat(s," has no logoData in Firestore document"))):console.log("\u23f0 Ad expired for square ".concat(s,", endDate: ").concat(r.endDate))}else console.warn("\u26a0\ufe0f Square ".concat(s," has no endDate")),t[s]=Ve(Ve({},r),{},{squareNumber:r.squareNumber||parseInt(s)})}else console.log("\u23ed\ufe0f Document ".concat(s,' skipped - status: "').concat(r.status,'" (expected "active")'));else console.warn("\u26a0\ufe0f Document ".concat(s," has no status field"));else console.warn("\u26a0\ufe0f Document ".concat(s," has no data"))});const s=JSON.parse(localStorage.getItem("squarePurchases")||"{}");Object.keys(s).forEach(e=>{const r=s[e];if(r&&"active"===r.status)if(r.endDate){new Date(r.endDate)>n?t[e]||(t[e]=r):(delete s[e],localStorage.setItem("squarePurchases",JSON.stringify(s)),console.log("\ud83d\uddd1\ufe0f Removed expired ad from localStorage: square ".concat(e)))}else t[e]||(t[e]=r)}),console.log("\u2705 Loaded from Firestore:",Object.keys(t).length,"active (non-expired) purchased squares"),0===Object.keys(t).length?(console.warn("\u26a0\ufe0f NO SQUARES LOADED! Check Firestore:"),console.warn('  - Are documents saved with status: "active"?'),console.warn("  - Do document IDs match square numbers?"),console.warn("  - Are endDate fields set correctly?")):Object.keys(t).forEach(e=>{const n=t[e];console.log("\u2705 Square ".concat(e,":"),{businessName:n.businessName,hasLogo:!!n.logoData,logoType:n.logoData?n.logoData.startsWith("http")?"URL":"Data URL":"NONE",logoPreview:n.logoData?n.logoData.substring(0,60):"N/A",status:n.status,endDate:n.endDate})}),f(t)}catch(e){console.error("\u274c Error loading squares:",e);const t=JSON.parse(localStorage.getItem("squarePurchases")||"{}"),n=new Date,r={};Object.keys(t).forEach(e=>{const s=t[e];if(s&&"active"===s.status)if(s.endDate){new Date(s.endDate)>n&&(r[e]=s)}else r[e]=s}),f(r)}finally{m(!1)}};let t;e(),console.log("\ud83d\udc42 Setting up Firestore real-time listener...");try{const n=wd(Ah(yp,"purchasedSquares"),Nd("status","==","active"));t=Ld(n,e=>{console.log("\ud83d\udd04 Firestore real-time update received, squares changed");const t={},n=new Date;e.forEach(e=>{const r=e.data();if(r&&"active"===r.status)if(r.endDate){new Date(r.endDate)>n&&(t[e.id]=r,r.logoData&&console.log("\u2705 Real-time: Square ".concat(e.id," loaded with logo")))}else t[e.id]=r});const r=JSON.parse(localStorage.getItem("squarePurchases")||"{}");Object.keys(r).forEach(e=>{const s=r[e];if(s&&"active"===s.status)if(s.endDate){new Date(s.endDate)>n&&!t[e]&&(t[e]=s)}else t[e]||(t[e]=s)}),console.log("\u2705 Real-time update: Loaded",Object.keys(t).length,"active squares"),f(t)},t=>{console.error("\u274c Firestore listener error:",t),e()})}catch(a){console.error("\u274c Error setting up Firestore listener:",a),t=()=>{}}const n=()=>{console.log("\ud83d\udd04 localStorage changed, reloading..."),e()},r=()=>{console.log("\ud83d\udd04 Purchase completed event, reloading..."),e()};window.addEventListener("storage",n),window.addEventListener("purchaseCompleted",r);const s=setInterval(async()=>{try{await Ep()}catch(t){console.error("\u274c Error during cleanup:",t)}e()},6e4);return()=>{t(),window.removeEventListener("storage",n),window.removeEventListener("purchaseCompleted",r),clearInterval(s)}},[]);const _=(0,s.useCallback)(async()=>{if(g)return void console.warn("\u26a0\ufe0f Shuffle already in progress, skipping...");v(!0),console.log("\ud83d\udd04 Auto-shuffle triggered! Shuffling occupied squares...");const e=performance.now();try{console.log("\ud83d\udcd6 Reading from Firestore to get actual purchases...");const t=await Od(Ah(yp,"purchasedSquares")),n=[],r=new Date,s=new Map,a=[];if(t.forEach(e=>{const t=e.data();if(t&&"active"===t.status)if(t.endDate){if(new Date(t.endDate)>r){const r=t.squareNumber||parseInt(e.id);s.has(r)?(console.warn("\u26a0\ufe0f Duplicate detected: Square ".concat(r," has multiple documents. Keeping first, deleting: ").concat(e.id)),a.push(e.id)):(s.set(r,{docId:e.id,data:t}),n.push(Ve({docId:e.id,squareNumber:r,pageNumber:t.pageNumber||Math.ceil(r/200)},t)))}}else{const r=t.squareNumber||parseInt(e.id);s.has(r)?(console.warn("\u26a0\ufe0f Duplicate detected: Square ".concat(r," has multiple documents. Keeping first, deleting: ").concat(e.id)),a.push(e.id)):(s.set(r,{docId:e.id,data:t}),n.push(Ve({docId:e.id,squareNumber:r,pageNumber:t.pageNumber||Math.ceil(r/200)},t)))}}),a.length>0){console.log("\ud83d\uddd1\ufe0f Deleting ".concat(a.length," duplicate documents..."));const e=zd(yp);a.forEach(t=>{const n=Rh(yp,"purchasedSquares",t);e.delete(n)}),await e.commit(),console.log("\u2705 Deleted ".concat(a.length," duplicates"))}if(0===n.length)return void console.log("\u2139\ufe0f No active purchases to shuffle");if(console.log("\ud83d\udcca Found ".concat(n.length," unique active purchases to shuffle")),n.length<=1){console.log("\u2139\ufe0f Only 1 or 0 purchases, no shuffle needed");const e={};return n.forEach(t=>{e[t.squareNumber]=Ve(Ve({},t),{},{squareNumber:t.squareNumber,pageNumber:t.pageNumber})}),void f(e)}const i=[],o={},l=500,c=Array.from({length:2e3},(e,t)=>t+1),u=new Set(n.map(e=>e.squareNumber)),h=c.filter(e=>!u.has(e)),d=[...n];for(let e=d.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[d[e],d[t]]=[d[t],d[e]]}const p=new Set(n.map(e=>e.squareNumber));let m=0;for(let e=0;e<d.length;e++){const t=d[e],n=t.squareNumber,r=t.docId,s=t.pageNumber||Math.ceil(n/200);let a;for(;m<h.length;){const e=h[m];if(!p.has(e)){a=e,m++;break}m++}if(!a){const e=c.filter(e=>!p.has(e));e.length>0?a=e[Math.floor(Math.random()*e.length)]:(console.warn("\u26a0\ufe0f No available squares, keeping square ".concat(n," in place")),a=n)}a=Math.max(1,Math.min(2e3,a)),p.add(a);const l=Math.ceil(a/200);o[a]?(console.warn("\u26a0\ufe0f Square ".concat(a," already assigned, skipping duplicate")),o[n]=Ve(Ve({},t),{},{squareNumber:n,pageNumber:s})):(o[a]=Ve(Ve({},t),{},{squareNumber:a,pageNumber:l}),n!==a?i.push({type:"move",oldDocId:r,oldSquare:n,newSquare:a,purchase:t,pageNumber:l}):i.push({type:"update",docId:r,square:n,purchase:t}))}f(o),x(new Set),S(new Set),i.length>0&&(async()=>{try{const e=await Od(Ah(yp,"purchasedSquares")),t=new Map,n=new Set;e.forEach(e=>{const r=e.data(),s=r.squareNumber||parseInt(e.id);t.set(e.id,{squareNumber:s,data:r}),n.add(s)}),console.log("\ud83d\udcca Found ".concat(t.size," existing documents in Firestore"));const r=new Map,s=[];for(const l of i)if("move"===l.type){if(r.has(l.newSquare)){console.warn("\u26a0\ufe0f CONFLICT: Multiple operations target square ".concat(l.newSquare,", skipping duplicate"));continue}r.set(l.newSquare,l),s.push(l)}else s.push(l);console.log("\ud83d\udcca Processing ".concat(s.length," operations (").concat(i.length-s.length," conflicts skipped)"));const a=new Set;for(const i of s)if("move"===i.type){t.has(i.oldDocId)&&a.add(i.oldDocId),t.forEach((e,t)=>{e.squareNumber===i.newSquare&&t!==i.oldDocId&&(a.add(t),console.warn("\ud83d\uddd1\ufe0f Will delete document ".concat(t," at square ").concat(i.newSquare)))});const e=i.newSquare.toString();t.has(e)&&e!==i.oldDocId&&(a.add(e),console.warn("\ud83d\uddd1\ufe0f Will delete document ".concat(e," (ID matches square ").concat(i.newSquare,")")))}if(a.size>0){console.log("\ud83d\uddd1\ufe0f Deleting ".concat(a.size," documents..."));let e=zd(yp),t=0;for(const n of a){const r=Rh(yp,"purchasedSquares",n);e.delete(r),t++,t>=l-10&&(await e.commit(),console.log("\u2705 Deleted batch of ".concat(t," documents")),e=zd(yp),t=0)}t>0&&(await e.commit(),console.log("\u2705 Deleted final batch of ".concat(t," documents"))),console.log("\u2705 Total deleted: ".concat(a.size," documents"))}const o=await Od(Ah(yp,"purchasedSquares")),c=new Set;o.forEach(e=>{const t=e.data().squareNumber||parseInt(e.id);c.add(t)});let u=zd(yp),h=0;const d=new Set;for(const i of s){if("move"===i.type){if(d.has(i.newSquare)){console.error("\u274c ERROR: Attempted to create duplicate at square ".concat(i.newSquare,", skipping!"));continue}if(c.has(i.newSquare)){console.error("\u274c ERROR: Square ".concat(i.newSquare," still exists after deletion, skipping!"));continue}const e=Rh(yp,"purchasedSquares",i.newSquare.toString());u.set(e,Ve(Ve({},i.purchase),{},{squareNumber:i.newSquare,pageNumber:i.pageNumber,updatedAt:qd(),shuffledAt:qd()})),h++,d.add(i.newSquare),c.add(i.newSquare)}else{const e=Rh(yp,"purchasedSquares",i.docId);u.update(e,{updatedAt:qd(),shuffledAt:qd()}),h++}if(h>=l-10){await u.commit(),console.log("\u2705 Created/updated batch of ".concat(h," documents"));const e=await Od(Ah(yp,"purchasedSquares"));c.clear(),e.forEach(e=>{const t=e.data().squareNumber||parseInt(e.id);c.add(t)}),u=zd(yp),h=0}}h>0&&(await u.commit(),console.log("\u2705 Created/updated final batch of ".concat(h," documents"))),console.log("\u2705 Firestore shuffle completed - ".concat(s.length," operations processed")),console.log("\u2705 Created ".concat(d.size," new documents"))}catch(e){console.error("\u274c Error updating Firestore:",e),console.error("Error details:",{code:e.code,message:e.message,stack:e.stack}),setTimeout(()=>{window.location.reload()},1e3)}})();const g=performance.now();console.log("\u2705 Auto-shuffle completed in ".concat((g-e).toFixed(2),"ms"))}catch(t){console.error("\u274c Error during auto-shuffle:",t),setTimeout(()=>{window.location.reload()},500)}finally{v(!1)}},[g]),k=(0,s.useCallback)(async()=>{await _()},[_]),C=(0,s.useCallback)(e=>!d[e],[d]),j=(0,s.useCallback)(e=>{const t=d[e];return t?(t.logoData?console.log("\ud83d\udd0d Square ".concat(e," logo:"),{hasLogo:!!t.logoData,logoType:t.logoData.startsWith("http")?"URL":"Data URL",logoPreview:t.logoData.substring(0,60)+"..."}):console.warn("\u26a0\ufe0f Square ".concat(e," has no logoData in purchase:"),t),{logo:t.logoData||null,dealLink:t.dealLink,contactEmail:t.contactEmail,businessName:t.businessName}):null},[d]),T=(0,s.useCallback)(e=>{if(C(e))l("/campaign",{state:{selectedSquare:e,pageNumber:i}});else{const t=j(e);null!==t&&void 0!==t&&t.dealLink?window.open(t.dealLink,"_blank","noopener,noreferrer"):h(e)}},[C,j,l,i]),I=(0,s.useCallback)(()=>{h(null)},[]);if(p)return(0,wp.jsx)("div",{className:"ad-grid-container",children:(0,wp.jsxs)("div",{className:"loading-message",children:[(0,wp.jsx)("div",{className:"loading-spinner"}),"Loading advertising spots..."]})});const D=E.filter(e=>C(e)).length,A=E.length-D;return(0,wp.jsxs)("div",{className:"ad-grid-container",children:[(0,wp.jsxs)("div",{className:"grid-header",children:[(0,wp.jsx)("div",{className:"shuffle-container",children:(0,wp.jsxs)("button",{className:"shuffle-btn",onClick:k,"aria-label":"Shuffle all advertising squares",children:[(0,wp.jsx)("span",{className:"shuffle-icon","aria-hidden":"true",children:"\ud83d\udd04"}),(0,wp.jsx)("span",{className:"shuffle-text",children:"Shuffle All Squares"})]})}),(0,wp.jsxs)("div",{className:"page-info",children:[(0,wp.jsxs)("div",{className:"page-stats",children:[(0,wp.jsxs)("div",{className:"available-stat",children:["\u2705 ",D," Available"]}),(0,wp.jsxs)("div",{className:"occupied-stat",children:["\ud83d\udd34 ",A," Occupied"]})]}),(0,wp.jsx)("p",{className:"page-instruction",children:o?"Page ".concat(i,": 1 - 200 of 2000 spots"):"Page ".concat(i,": Spots ").concat(r," - ").concat(a)})]})]}),y&&(0,wp.jsx)("div",{className:"mobile-search-container",children:(0,wp.jsx)(xp,{isMobile:!0})}),(0,wp.jsx)("div",{className:"grid-container",children:(0,wp.jsx)("div",{className:"positions-grid ".concat(y?"mobile-layout":"desktop-layout"),children:E.map(e=>{var t;const n=j(e),r=C(e),s=(null===(t=c.state)||void 0===t?void 0:t.highlightSquare)===e;return(0,wp.jsx)("div",{"data-square":e,className:"ad-position ".concat(r?"available":"occupied"," ").concat(s?"highlighted-square":""),onClick:()=>T(e),children:(0,wp.jsx)("div",{className:"position-content",children:r?(0,wp.jsxs)("div",{className:"available-spot",children:[(0,wp.jsx)("div",{className:"spot-text",children:"Ad Spot"}),(0,wp.jsx)("div",{className:"spot-price",children:"\xa31/day"}),(0,wp.jsxs)("div",{className:"spot-number",children:["#",e]})]}):(0,wp.jsx)("div",{className:"occupied-spot",children:null!==n&&void 0!==n&&n.logo?(0,wp.jsxs)(wp.Fragment,{children:[!w.has(e)&&!N.has(e)&&(0,wp.jsx)("div",{className:"logo-loading-placeholder",children:(0,wp.jsx)("div",{className:"logo-spinner"})}),N.has(e)?(0,wp.jsxs)("div",{className:"no-logo-placeholder",children:[(0,wp.jsx)("span",{children:"Active Ad"}),(0,wp.jsxs)("span",{className:"spot-number-small",children:["#",e]})]}):(0,wp.jsx)("img",{src:n.logo,className:"business-logo ".concat(w.has(e)?"loaded":""),alt:"".concat(n.businessName||"Business"," logo"),loading:"lazy",decoding:"async",onLoad:()=>{x(t=>new Set([...t,e]))},onError:()=>{S(t=>new Set([...t,e])),x(t=>{const n=new Set(t);return n.delete(e),n})}})]}):(0,wp.jsxs)("div",{className:"no-logo-placeholder",children:[(0,wp.jsx)("span",{children:"Active Ad"}),(0,wp.jsxs)("span",{className:"spot-number-small",children:["#",e]})]})})})},e)})})}),u&&(0,wp.jsx)("div",{className:"modal-overlay",onClick:I,children:(0,wp.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wp.jsxs)("h3",{children:["Advertisement Spot #",u]}),(0,wp.jsxs)("div",{className:"business-details",children:[(0,wp.jsx)("p",{children:"This advertising spot is currently occupied."}),(null===(t=j(u))||void 0===t?void 0:t.contactEmail)&&(0,wp.jsxs)("p",{children:[(0,wp.jsx)("strong",{children:"Contact:"})," ",j(u).contactEmail]}),(null===(n=j(u))||void 0===n?void 0:n.businessName)&&(0,wp.jsxs)("p",{children:[(0,wp.jsx)("strong",{children:"Business:"})," ",j(u).businessName]})]}),(0,wp.jsx)("button",{onClick:I,className:"btn-secondary",children:"Close"})]})}),(0,wp.jsx)("div",{className:"grid-info",children:(0,wp.jsxs)("p",{children:[(0,wp.jsxs)("strong",{children:["Page ",i]})," \u2022 Spots ",r," - ",a," \u2022",D>0?" ".concat(D," available"):" Fully booked"]})})]})},Cp=()=>(0,wp.jsx)("footer",{className:"footer",children:(0,wp.jsxs)("div",{className:"footer-container",children:[(0,wp.jsxs)("div",{className:"footer-cta",children:[(0,wp.jsx)("h2",{className:"footer-cta-title",children:"Ready to Boost Your Visibility?"}),(0,wp.jsx)("p",{className:"footer-cta-subtitle",children:"Join hundreds of businesses already growing with our advertising platform"}),(0,wp.jsx)("a",{href:"/campaign",className:"footer-cta-button",children:"Start Your Campaign Today"})]}),(0,wp.jsxs)("div",{className:"footer-content",children:[(0,wp.jsxs)("div",{className:"footer-section",children:[(0,wp.jsx)("h4",{className:"footer-title",children:"Quick Links"}),(0,wp.jsxs)("div",{className:"footer-links",children:[(0,wp.jsx)(Ae,{to:"/how-it-works",className:"footer-link",children:"How It Works"}),(0,wp.jsx)(Ae,{to:"/about",className:"footer-link",children:"About Us"}),(0,wp.jsx)(Ae,{to:"/contact",className:"footer-link",children:"Contact"}),(0,wp.jsx)(Ae,{to:"/privacy",className:"footer-link",children:"Privacy Policy"}),(0,wp.jsx)(Ae,{to:"/terms",className:"footer-link",children:"Terms & Conditions"})]})]}),(0,wp.jsxs)("div",{className:"footer-section",children:[(0,wp.jsx)("h4",{className:"footer-title",children:"We Accept"}),(0,wp.jsxs)("div",{className:"payment-icons-container",children:[(0,wp.jsx)("div",{className:"payment-icon visa",title:"Visa",children:(0,wp.jsx)("span",{className:"payment-text",children:"VISA"})}),(0,wp.jsx)("div",{className:"payment-icon mastercard",title:"MasterCard",children:(0,wp.jsx)("span",{className:"payment-text",children:"MasterCard"})}),(0,wp.jsx)("div",{className:"payment-icon paypal",title:"PayPal",children:(0,wp.jsx)("span",{className:"payment-text",children:"PayPal"})}),(0,wp.jsx)("div",{className:"payment-icon amex",title:"American Express",children:(0,wp.jsx)("span",{className:"payment-text",children:"Amex"})})]})]}),(0,wp.jsxs)("div",{className:"footer-section",children:[(0,wp.jsx)("h4",{className:"footer-title",children:"Follow Us"}),(0,wp.jsxs)("div",{className:"social-links",children:[(0,wp.jsx)("a",{href:"https://tiktok.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":"TikTok",children:(0,wp.jsx)("svg",{className:"social-svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,wp.jsx)("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})})}),(0,wp.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":"Facebook",children:(0,wp.jsx)("svg",{className:"social-svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,wp.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,wp.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":"Instagram",children:(0,wp.jsx)("svg",{className:"social-svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,wp.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),(0,wp.jsx)("a",{href:"https://x.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":"X (Twitter)",children:(0,wp.jsx)("svg",{className:"social-svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,wp.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),(0,wp.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"social-icon","aria-label":"LinkedIn",children:(0,wp.jsx)("svg",{className:"social-svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,wp.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]})]}),(0,wp.jsx)("div",{className:"footer-bottom",children:(0,wp.jsx)("div",{className:"footer-copyright",children:(0,wp.jsx)("p",{children:"\xa9 2025 CLICKALINKS. All rights reserved."})})})]})}),jp=async(e,t)=>{try{if(console.log("\ud83d\udcbe Saving logo to Firebase Storage for square:",t),console.log("\ud83d\udcca Logo data type:",e?e.startsWith("data:")?"Data URL":e.startsWith("http")?"HTTP URL":"Unknown":"NULL"),e&&e.startsWith("http")&&!e.startsWith("data:"))return console.log("\u2705 Logo is already a URL, skipping upload:",e),{url:e,path:null};if(!e||!e.startsWith("data:"))throw console.error("\u274c Invalid logo data format. Expected data URL, got:",e?e.substring(0,50):"null"),new Error("Invalid logo data format. Please upload an image file.");const n=Date.now(),r="logos/square-".concat(t,"-").concat(n),s=mp(bp,r);console.log("\ud83d\udce4 Uploading to Firebase Storage...");const a=await fp(s,e,"data_url"),i=await function(e){return rp(e=dt(e))}(a.ref);return console.log("\u2705 Logo saved to Firebase Storage successfully!"),console.log("\ud83d\udd17 Download URL:",i),console.log("\ud83d\udcc1 Storage Path:",r),{url:i,path:r}}catch(n){if(console.error("\u274c Error saving logo to Firebase Storage:",n),console.error("Error code:",n.code),console.error("Error message:",n.message),"storage/unauthorized"===n.code)throw new Error("Firebase Storage: Unauthorized. Please check Firebase Storage security rules.");if("storage/quota-exceeded"===n.code)throw new Error("Firebase Storage: Quota exceeded. Please check your Firebase plan.");if("storage/unauthenticated"===n.code)throw new Error("Firebase Storage: Authentication required. Please check Firebase configuration.");throw n}},Tp=()=>{const e=re(),t=ae(),[n]=Oe(),[r,a]=(0,s.useState)({}),[i,o]=(0,s.useState)(!0),l=n.get("session_id");(0,s.useEffect)(()=>{(async()=>{console.log("\ud83c\udf89 Processing successful payment...");const t=JSON.parse(localStorage.getItem("businessFormData")||"{}"),n=JSON.parse(localStorage.getItem("pendingPurchases")||"{}");console.log("\ud83d\udd0d Available data:",{businessFormData:t,pendingPurchases:Object.keys(n),locationState:e.state});let r={};if(l){console.log("\ud83d\udd04 Stripe redirect detected, session:",l);const e=JSON.parse(localStorage.getItem("businessFormData")||"{}"),t=JSON.parse(localStorage.getItem("pendingPurchases")||"{}"),n=Object.keys(t),s=n.length>0?t[n[n.length-1]]:null;s?(r={squareNumber:s.squareNumber,pageNumber:s.pageNumber||1,businessName:s.businessName,contactEmail:s.contactEmail,website:s.website,finalAmount:s.amount||10,selectedDuration:s.duration||30,transactionId:l,logoData:s.logoData||e.logoData,paymentStatus:"paid"},console.log("\u2705 Reconstructed from pending purchase with logo:",!!r.logoData)):e.businessName&&(r={squareNumber:e.squareNumber||1,pageNumber:e.pageNumber||1,businessName:e.name,contactEmail:e.email,website:e.website,finalAmount:e.amount||10,selectedDuration:e.duration||30,transactionId:l,logoData:e.logoData,paymentStatus:"paid"},console.log("\u2705 Reconstructed from business form data with logo:",!!r.logoData))}else r=e.state||{},console.log("\u2705 Direct purchase data with logo:",!!r.logoData);r.squareNumber&&r.businessName?(console.log("\u2705 Purchase data reconstructed successfully:",{squareNumber:r.squareNumber,businessName:r.businessName,hasLogo:!!r.logoData,logoType:r.logoData?r.logoData.startsWith("http")?"URL":"Data URL":"NONE"}),a(r),await c(r)):(console.error("\u274c Could not reconstruct purchase data"),console.error("Missing data:",{squareNumber:r.squareNumber,businessName:r.businessName,sessionId:l,businessFormData:t,pendingPurchases:Object.keys(n)})),o(!1)})()},[l,e.state]);const c=async e=>{console.log("\ud83d\udcbe SAVING FINAL PURCHASE WITH FIREBASE STORAGE");let t=e.logoData;if(e.logoData)if(e.logoData.startsWith("data:")){console.log("\ud83d\udd04 Logo is a data URL, uploading to Firebase Storage...");try{const n=await jp(e.logoData,e.squareNumber);"string"===typeof n?t=n:(t=n.url,localStorage.setItem("logoPath_".concat(e.squareNumber),n.path)),console.log("\u2705 Data URL converted to Firebase URL:",t)}catch(a){console.error("\u274c Failed to upload logo to Firebase:",a),console.error("Error details:",{code:a.code,message:a.message}),t=e.logoData,console.warn("\u26a0\ufe0f Using data URL as fallback")}}else e.logoData.startsWith("http")?(console.log("\u2705 Logo is already a URL, using directly:",e.logoData.substring(0,60)+"..."),t=e.logoData):(console.warn("\u26a0\ufe0f Logo data format unknown:",e.logoData.substring(0,50)),t=e.logoData);else console.warn("\u26a0\ufe0f No logo data in purchase data");const n=localStorage.getItem("logoPath_".concat(e.squareNumber))||null;console.log("\ud83d\udd25 ATTEMPTING FIRESTORE SAVE:",{documentId:e.squareNumber.toString(),squareNumber:e.squareNumber,businessName:e.businessName,hasLogo:!!t});await _p({squareNumber:e.squareNumber,pageNumber:e.pageNumber||1,businessName:e.businessName,contactEmail:e.contactEmail,website:e.website||e.dealLink,logoData:t,amount:e.finalAmount||10,duration:e.selectedDuration||30,transactionId:e.transactionId,startDate:(new Date).toISOString(),endDate:new Date(Date.now()+24*(e.selectedDuration||30)*60*60*1e3).toISOString(),storagePath:n,purchaseDate:(new Date).toISOString()})||console.error("\u274c Failed to save to Firestore, but continuing with localStorage...");const r={status:"active",businessName:e.businessName,logoData:t,dealLink:e.website,contactEmail:e.contactEmail,startDate:(new Date).toISOString(),endDate:new Date(Date.now()+24*(e.selectedDuration||30)*60*60*1e3).toISOString(),amount:e.finalAmount||10,duration:e.selectedDuration||30,transactionId:e.transactionId,purchaseDate:(new Date).toISOString(),paymentStatus:"paid",storageType:t&&t.includes("firebasestorage")?"firebase":"local",storagePath:n,squareNumber:e.squareNumber,pageNumber:e.pageNumber||1},s=JSON.parse(localStorage.getItem("squarePurchases")||"{}");s[e.squareNumber]=r,localStorage.setItem("squarePurchases",JSON.stringify(s)),console.log("\u2705 FINAL SAVE WITH FIREBASE:",{square:e.squareNumber,logoType:r.storageType,logoURL:t?"PRESENT":"MISSING",firestore:"SAVED",localStorage:"SAVED"}),localStorage.removeItem("pendingPurchases"),localStorage.removeItem("businessFormData");try{await Ep()}catch(i){console.error("\u274c Error during cleanup:",i)}window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("purchaseCompleted"))};return i?(0,wp.jsx)("div",{className:"success-container",children:(0,wp.jsxs)("div",{className:"success-content",children:[(0,wp.jsx)("div",{className:"loading-spinner"}),(0,wp.jsx)("h1",{children:"Setting Up Your Ad... \u23f3"}),(0,wp.jsx)("p",{children:"Please wait while we activate your advertising campaign."}),l&&(0,wp.jsxs)("p",{children:["Session: ",l]})]})}):r.squareNumber?(0,wp.jsx)("div",{className:"success-container",children:(0,wp.jsxs)("div",{className:"success-content",children:[(0,wp.jsxs)("div",{className:"success-header",children:[(0,wp.jsx)("div",{className:"success-icon-large",children:"\u2705"}),(0,wp.jsx)("h1",{children:"Payment Successful! \ud83c\udf89"}),(0,wp.jsx)("p",{className:"success-subtitle",children:"Your advertising campaign is now live and active!"})]}),r.logoData&&(0,wp.jsxs)("div",{className:"logo-preview-section",children:[(0,wp.jsx)("h3",{children:"Your Logo"}),(0,wp.jsxs)("div",{className:"logo-preview-container",children:[(0,wp.jsx)("img",{src:r.logoData,alt:"Your business logo",className:"success-logo-preview",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,wp.jsx)("div",{className:"logo-placeholder",style:{display:"none"},children:(0,wp.jsx)("span",{children:"Logo Preview"})})]})]}),(0,wp.jsxs)("div",{className:"order-details-card",children:[(0,wp.jsx)("h2",{children:"\ud83d\udccb Purchase Confirmation"}),(0,wp.jsxs)("div",{className:"order-details-grid",children:[(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Business Name:"}),(0,wp.jsx)("span",{className:"detail-value",children:r.businessName})]}),(0,wp.jsxs)("div",{className:"detail-row highlight",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\ud83d\udccd Advertising Square:"}),(0,wp.jsxs)("span",{className:"detail-value",children:["#",r.squareNumber," (Page ",r.pageNumber||1,")"]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\u23f1\ufe0f Campaign Duration:"}),(0,wp.jsxs)("span",{className:"detail-value",children:[r.selectedDuration||30," days"]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\ud83d\udcc5 Start Date:"}),(0,wp.jsx)("span",{className:"detail-value",children:(new Date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\ud83d\udcc5 End Date:"}),(0,wp.jsx)("span",{className:"detail-value",children:new Date(Date.now()+24*(r.selectedDuration||30)*60*60*1e3).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),(0,wp.jsxs)("div",{className:"detail-row highlight-amount",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\ud83d\udcb0 Total Paid:"}),(0,wp.jsxs)("span",{className:"detail-value amount",children:["\xa3",r.finalAmount||10,".00"]})]}),r.transactionId&&(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"\ud83d\udd10 Transaction ID:"}),(0,wp.jsx)("span",{className:"detail-value transaction-id",children:r.transactionId})]})]})]}),(0,wp.jsxs)("div",{className:"next-steps-section",children:[(0,wp.jsx)("h3",{children:"\u2728 What Happens Next?"}),(0,wp.jsxs)("ul",{className:"next-steps-list",children:[(0,wp.jsxs)("li",{children:[(0,wp.jsx)("span",{className:"step-icon",children:"\u2705"}),(0,wp.jsxs)("span",{children:["Your logo is now live on square #",r.squareNumber]})]}),(0,wp.jsxs)("li",{children:[(0,wp.jsx)("span",{className:"step-icon",children:"\ud83d\udc46"}),(0,wp.jsx)("span",{children:"Visitors can click your logo to visit your website"})]}),(0,wp.jsxs)("li",{children:[(0,wp.jsx)("span",{className:"step-icon",children:"\u23f0"}),(0,wp.jsxs)("span",{children:["Your ad will remain active for ",r.selectedDuration||30," days"]})]}),(0,wp.jsxs)("li",{children:[(0,wp.jsx)("span",{className:"step-icon",children:"\ud83d\udd04"}),(0,wp.jsx)("span",{children:"Your position may change during auto-shuffle, but your ad stays active"})]})]})]}),(0,wp.jsxs)("div",{className:"success-actions",children:[(0,wp.jsx)("button",{onClick:()=>{window.dispatchEvent(new Event("storage")),t("/page".concat(r.pageNumber||1))},className:"btn-primary btn-large",children:"\ud83d\udc41\ufe0f View Your Live Ad"}),(0,wp.jsx)("button",{onClick:()=>t("/"),className:"btn-secondary btn-large",children:"\ud83c\udfe0 Return Home"})]}),(0,wp.jsx)("div",{className:"support-section",children:(0,wp.jsxs)("p",{children:["Need help? ",(0,wp.jsx)("a",{href:"/contact",children:"Contact us"})," or check your ",(0,wp.jsx)("a",{href:"/how-it-works",children:"campaign details"})]})})]})}):(0,wp.jsx)("div",{className:"success-container",children:(0,wp.jsxs)("div",{className:"success-content",children:[(0,wp.jsx)("div",{className:"success-icon",children:"\u2753"}),(0,wp.jsx)("h1",{children:"Payment Processed! \ud83c\udf89"}),(0,wp.jsx)("p",{children:"Your payment was successful, but we couldn't retrieve all order details."}),(0,wp.jsx)("p",{children:"Your ad should be live on the grid."}),(0,wp.jsx)("button",{onClick:()=>t("/"),className:"btn-primary",children:"View Grid"})]})})},Ip=()=>{const e=ae();return(0,wp.jsx)("div",{className:"cancel-container",children:(0,wp.jsxs)("div",{className:"cancel-content",children:[(0,wp.jsx)("div",{className:"cancel-icon",children:"\u274c"}),(0,wp.jsx)("h1",{children:"Payment Cancelled"}),(0,wp.jsx)("p",{children:"Your payment was cancelled. No charges have been made."}),(0,wp.jsx)("button",{onClick:()=>e("/"),className:"btn-primary",children:"Return to Grid"})]})})},Dp=()=>{const e=re(),t=ae(),{selectedSquare:n,pageNumber:r}=e.state||{},[a,i]=(0,s.useState)(30),[o,l]=(0,s.useState)(30),c=[{id:"starter",days:10,price:10,label:"Starter",popular:!1,description:"Perfect for testing campaigns",savings:"0%",icon:"\ud83d\ude80"},{id:"growth",days:20,price:20,label:"Growth",popular:!1,description:"Ideal for steady growth",savings:"0%",icon:"\ud83d\udcc8"},{id:"professional",days:30,price:30,label:"Professional",popular:!0,description:"Most popular choice",savings:"0%",icon:"\u2b50"},{id:"enterprise",days:60,price:60,label:"Enterprise",popular:!1,bestValue:!0,description:"Maximum value",savings:"0%",icon:"\ud83c\udfc6"}],u=c.find(e=>e.days===a);return n?(0,wp.jsx)("div",{className:"campaign-selection-container",children:(0,wp.jsxs)("div",{className:"campaign-selection-content",children:[(0,wp.jsx)("header",{className:"campaign-header",children:(0,wp.jsxs)("div",{className:"header-content",children:[(0,wp.jsxs)("div",{className:"header-text",children:[(0,wp.jsx)("h1",{children:"Select Your Campaign"}),(0,wp.jsxs)("p",{className:"header-subtitle",children:["Choose the perfect duration for your advertising on ",(0,wp.jsxs)("strong",{children:["Square #",n]})]})]}),(0,wp.jsxs)("nav",{className:"progress-navigation",children:[(0,wp.jsxs)("div",{className:"progress-step active",children:[(0,wp.jsxs)("div",{className:"step-indicator",children:[(0,wp.jsx)("span",{children:"1"}),(0,wp.jsx)("div",{className:"step-check",children:"\u2713"})]}),(0,wp.jsx)("span",{className:"step-label",children:"Campaign"})]}),(0,wp.jsxs)("div",{className:"progress-step",children:[(0,wp.jsx)("div",{className:"step-indicator",children:"2"}),(0,wp.jsx)("span",{className:"step-label",children:"Details"})]}),(0,wp.jsxs)("div",{className:"progress-step",children:[(0,wp.jsx)("div",{className:"step-indicator",children:"3"}),(0,wp.jsx)("span",{className:"step-label",children:"Payment"})]})]})]})}),(0,wp.jsx)("main",{className:"campaign-main-content",children:(0,wp.jsxs)("div",{className:"content-wrapper",children:[(0,wp.jsxs)("section",{className:"plans-section",children:[(0,wp.jsxs)("div",{className:"section-header",children:[(0,wp.jsx)("h2",{children:"Advertising Plans"}),(0,wp.jsx)("p",{children:"Select your preferred campaign duration"})]}),(0,wp.jsx)("div",{className:"plans-grid",children:c.map(e=>(0,wp.jsxs)("div",{className:"plan-card ".concat(a===e.days?"plan-card--selected":""," ").concat(e.popular?"plan-card--popular":""," ").concat(e.bestValue?"plan-card--best-value":""),onClick:()=>(e=>{i(e.days),l(e.price)})(e),children:[e.popular&&(0,wp.jsxs)("div",{className:"plan-badge plan-badge--popular",children:[(0,wp.jsx)("span",{className:"badge-icon",children:"\ud83d\udd25"}),"Most Popular"]}),e.bestValue&&(0,wp.jsxs)("div",{className:"plan-badge plan-badge--best-value",children:[(0,wp.jsx)("span",{className:"badge-icon",children:"\ud83d\udc8e"}),"Best Value"]}),(0,wp.jsx)("div",{className:"plan-icon",children:e.icon}),(0,wp.jsxs)("div",{className:"plan-content",children:[(0,wp.jsx)("div",{className:"plan-header",children:(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h3",{className:"plan-name",children:e.label}),(0,wp.jsx)("p",{className:"plan-description",children:e.description})]})}),(0,wp.jsxs)("div",{className:"plan-pricing",children:[(0,wp.jsxs)("div",{className:"price-main",children:[(0,wp.jsx)("span",{className:"currency",children:"\xa3"}),(0,wp.jsx)("span",{className:"plan-price",children:e.price})]}),(0,wp.jsxs)("div",{className:"plan-duration",children:[e.days," days"]})]}),"0%"!==e.savings&&(0,wp.jsxs)("div",{className:"savings-badge",children:["Save ",e.savings]}),(0,wp.jsxs)("div",{className:"cost-efficiency",children:[(0,wp.jsx)("span",{className:"cost-label",children:"Only"}),(0,wp.jsxs)("span",{className:"cost-amount",children:["\xa3",(e.price/e.days).toFixed(2)]}),(0,wp.jsx)("span",{className:"cost-period",children:"per day"})]}),(0,wp.jsx)("div",{className:"selection-indicator ".concat(a===e.days?"selection-indicator--selected":""),children:a===e.days?(0,wp.jsxs)(wp.Fragment,{children:[(0,wp.jsx)("span",{className:"check-icon",children:"\u2713"}),"Selected"]}):"Select Plan"})]})]},e.id))})]}),(0,wp.jsx)("aside",{className:"order-summary",children:(0,wp.jsxs)("div",{className:"summary-card",children:[(0,wp.jsxs)("div",{className:"summary-header",children:[(0,wp.jsx)("h3",{className:"summary-title",children:"Order Summary"}),(0,wp.jsx)("div",{className:"summary-subtitle",children:"Review your selection"})]}),(0,wp.jsxs)("div",{className:"summary-content",children:[(0,wp.jsxs)("div",{className:"order-details",children:[(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Square Number"}),(0,wp.jsxs)("span",{className:"detail-value",children:["#",n]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Page Location"}),(0,wp.jsxs)("span",{className:"detail-value",children:["Page ",r]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Campaign Duration"}),(0,wp.jsxs)("span",{className:"detail-value",children:[a," days"]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Daily Rate"}),(0,wp.jsxs)("span",{className:"detail-value",children:["\xa3",(u.price/u.days).toFixed(2),"/day"]})]})]}),(0,wp.jsx)("div",{className:"summary-divider"}),(0,wp.jsxs)("div",{className:"total-section",children:[(0,wp.jsxs)("div",{className:"total-labels",children:[(0,wp.jsx)("span",{className:"total-label",children:"Total Amount"}),(0,wp.jsx)("span",{className:"total-subtitle",children:"One-time payment"})]}),(0,wp.jsxs)("span",{className:"total-amount",children:["\xa3",o,".00"]})]}),(0,wp.jsxs)("div",{className:"features-included",children:[(0,wp.jsx)("h4",{children:"What's Included:"}),(0,wp.jsxs)("div",{className:"features-grid",children:[(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udc41\ufe0f"}),(0,wp.jsx)("span",{children:"High Visibility"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udd17"}),(0,wp.jsx)("span",{children:"Clickable Link"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udcca"}),(0,wp.jsx)("span",{children:"Analytics"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udee1\ufe0f"}),(0,wp.jsx)("span",{children:"Secure Hosting"})]})]})]}),(0,wp.jsxs)("div",{className:"action-buttons",children:[(0,wp.jsxs)("button",{onClick:()=>{t(-1)},className:"btn btn--secondary",children:[(0,wp.jsx)("span",{className:"btn-icon",children:"\u2190"}),"Back to Grid"]}),(0,wp.jsxs)("button",{onClick:()=>{t("/business-details",{state:{selectedSquare:n,pageNumber:r,selectedDuration:a,finalAmount:o}})},className:"btn btn--primary",children:["Continue to Details",(0,wp.jsx)("span",{className:"btn-icon",children:"\u2192"})]})]}),(0,wp.jsxs)("div",{className:"trust-indicators",children:[(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\ud83d\udd12"}),(0,wp.jsx)("span",{children:"Secure Payment"})]}),(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\u26a1"}),(0,wp.jsx)("span",{children:"Instant Setup"})]}),(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\u21a9\ufe0f"}),(0,wp.jsx)("span",{children:"14-Day Guarantee"})]})]})]})]})})]})})]})}):(0,wp.jsx)("div",{className:"campaign-selection-container",children:(0,wp.jsxs)("div",{className:"error-state",children:[(0,wp.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,wp.jsx)("h2",{children:"No Advertising Square Selected"}),(0,wp.jsx)("p",{children:"Please return to the grid and select an advertising square to continue."}),(0,wp.jsx)("button",{onClick:()=>t("/"),className:"btn btn--primary",children:"Return to Grid Selection"})]})})},Ap={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"https://clickalinks-backend-2.onrender.com",Rp=()=>{const e=re(),t=ae(),{selectedSquare:n,pageNumber:r,selectedDuration:a,finalAmount:i}=e.state||{},[o,l]=(0,s.useState)({businessName:"",contactEmail:"",website:""}),[c,u]=(0,s.useState)(null),[h,d]=(0,s.useState)(!1),[f,p]=(0,s.useState)({}),[m,g]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!n||!a||!r)return console.error("\u274c Missing required props:",{selectedSquare:n,selectedDuration:a,pageNumber:r}),alert("Missing booking information. Please go back and select a square first."),void t("/")},[n,a,r,t]),(0,s.useEffect)(()=>{y()},[o,c]);const v=e=>{const{name:t,value:n}=e.target;l(e=>Ve(Ve({},e),{},{[t]:n}))},y=()=>{const e={};o.businessName.trim()||(e.businessName="Business name is required for our records");if(o.contactEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.contactEmail)||(e.contactEmail="Please enter a valid email address"):e.contactEmail="Contact email is required",o.website.trim())try{new URL(o.website)}catch(Qp){e.website="Please enter a valid URL (include http:// or https://)"}else e.website="Website URL is required";c||(e.logoData="Company logo is required"),p(e);const t=0===Object.keys(e).length;return d(t),t},b=async e=>{if(e.preventDefault(),y()){g(!0);try{let e=null;if(c){console.log("\ud83d\udce4 Starting logo upload process..."),console.log("\ud83d\udcca Logo data preview:",c.substring(0,50)+"...");try{const t=await jp(c,n);"string"===typeof t?e=t:(e=t.url,localStorage.setItem("logoPath_".concat(n),t.path)),console.log("\u2705 Logo uploaded to Firebase Storage successfully!"),console.log("\ud83d\udd17 Firebase URL:",e)}catch(s){if(console.error("\u274c Firebase Storage upload failed:",s),!c.startsWith("http"))throw new Error("Failed to upload logo to Firebase Storage. Please check your Firebase configuration and try again.");console.log("\u2705 Logo is already a URL, using it directly"),e=c}}else console.warn("\u26a0\ufe0f No logo data provided");const l={name:o.businessName.trim(),email:o.contactEmail.trim(),website:o.website.trim(),logoData:e,squareNumber:n,pageNumber:r,amount:i,duration:a};localStorage.setItem("businessFormData",JSON.stringify(l));const u=Ve(Ve({},l),{},{purchaseDate:(new Date).toISOString()}),h=JSON.parse(localStorage.getItem("pendingPurchases")||"{}");h["temp_"+Date.now()]=u,localStorage.setItem("pendingPurchases",JSON.stringify(h)),console.log("\u2705 Business data prepared with Firebase logo URL"),t("/payment",{state:{selectedSquare:n,pageNumber:r,selectedDuration:a,finalAmount:i,businessData:Ve(Ve({},l),{},{logoData:e}),logoData:e}})}catch(l){console.error("\u274c Error uploading logo to Firebase:",l),alert("Error uploading logo. Please try again.")}finally{g(!1)}}else alert("Please fix the form errors before continuing.")};return n&&a&&r?(0,wp.jsx)("div",{className:"business-details-container",children:(0,wp.jsxs)("div",{className:"business-details-content",children:[(0,wp.jsx)("header",{className:"business-header",children:(0,wp.jsxs)("div",{className:"header-content",children:[(0,wp.jsxs)("div",{className:"header-text",children:[(0,wp.jsx)("h1",{children:"Business Details"}),(0,wp.jsx)("p",{className:"header-subtitle",children:"Complete your information for your advertising spot"})]}),(0,wp.jsxs)("nav",{className:"progress-navigation",children:[(0,wp.jsxs)("div",{className:"progress-step completed",children:[(0,wp.jsx)("div",{className:"step-indicator",children:(0,wp.jsx)("div",{className:"step-check",children:"\u2713"})}),(0,wp.jsx)("span",{className:"step-label",children:"Campaign"})]}),(0,wp.jsxs)("div",{className:"progress-step active",children:[(0,wp.jsx)("div",{className:"step-indicator",children:"2"}),(0,wp.jsx)("span",{className:"step-label",children:"Details"})]}),(0,wp.jsxs)("div",{className:"progress-step",children:[(0,wp.jsx)("div",{className:"step-indicator",children:"3"}),(0,wp.jsx)("span",{className:"step-label",children:"Payment"})]})]})]})}),(0,wp.jsx)("main",{className:"business-main-content",children:(0,wp.jsxs)("div",{className:"content-wrapper",children:[(0,wp.jsxs)("section",{className:"form-section",children:[(0,wp.jsxs)("div",{className:"section-header",children:[(0,wp.jsx)("h2",{children:"Business Information"}),(0,wp.jsx)("p",{children:"Enter your details and upload your logo"})]}),(0,wp.jsxs)("form",{className:"business-form",onSubmit:b,children:[(0,wp.jsxs)("div",{className:"form-card",children:[(0,wp.jsxs)("div",{className:"card-header",children:[(0,wp.jsx)("div",{className:"card-icon",children:"\ud83c\udfe2"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h3",{children:"Contact Details"}),(0,wp.jsx)("p",{children:"Your contact information (business name is for our records only)"})]})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"businessName",children:"Business Name *"}),(0,wp.jsx)("input",{type:"text",id:"businessName",name:"businessName",required:!0,placeholder:"Enter your business name",value:o.businessName,onChange:v,autoComplete:"organization",className:f.businessName?"error":""}),f.businessName&&(0,wp.jsx)("span",{className:"error-message",children:f.businessName}),(0,wp.jsx)("small",{children:"For our records only - won't appear on your advertisement"})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"contactEmail",children:"Contact Email *"}),(0,wp.jsx)("input",{type:"email",id:"contactEmail",name:"contactEmail",required:!0,placeholder:"Enter your email address",value:o.contactEmail,onChange:v,autoComplete:"email",className:f.contactEmail?"error":""}),f.contactEmail&&(0,wp.jsx)("span",{className:"error-message",children:f.contactEmail})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"website",children:"Website URL *"}),(0,wp.jsx)("input",{type:"url",id:"website",name:"website",required:!0,placeholder:"https://yourwebsite.com",value:o.website,onChange:v,autoComplete:"url",className:f.website?"error":""}),f.website&&(0,wp.jsx)("span",{className:"error-message",children:f.website}),(0,wp.jsx)("small",{children:"This is where customers will be directed when they click your logo"})]})]}),(0,wp.jsxs)("div",{className:"form-card",children:[(0,wp.jsxs)("div",{className:"card-header",children:[(0,wp.jsx)("div",{className:"card-icon",children:"\ud83d\uddbc\ufe0f"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h3",{children:"Company Logo"}),(0,wp.jsx)("p",{children:"Upload your logo - it will fill the entire square"})]})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"logoUpload",children:"Upload Logo *"}),(0,wp.jsxs)("div",{className:"file-upload-area",children:[(0,wp.jsx)("input",{type:"file",id:"logoUpload",name:"logo",accept:"image/jpeg, image/jpg, image/png, image/gif, image/webp",onChange:async e=>{const t=e.target.files[0];if(!t)return void u(null);const n=await(async e=>{if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))return{valid:!1,message:"Invalid file type. Only images are allowed."};if(e.size>2097152)return{valid:!1,message:"File size exceeds 2MB limit."};const t=e.name.toLowerCase();return[".exe",".bat",".cmd",".scr",".vbs",".js",".jar"].some(e=>t.endsWith(e))?{valid:!1,message:"File type not allowed for security reasons."}:{valid:!0,message:"File passed basic security checks"}})(t);if(!n.valid)return p(e=>Ve(Ve({},e),{},{logoData:n.message})),void(e.target.value="");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return p(e=>Ve(Ve({},e),{},{logoData:"Please upload a valid image (JPEG, PNG, GIF, WebP)"})),void(e.target.value="");if(t.size>2097152)return p(e=>Ve(Ve({},e),{},{logoData:"File size must be less than 2MB"})),void(e.target.value="");const r=new FileReader;r.onload=async function(n){const r=n.target.result;p(e=>Ve(Ve({},e),{},{logoData:"Scanning file for security..."}));try{const n=await(async(e,t)=>{try{console.log("\ud83d\udd0d Starting virus scan for file:",t);const n=await fetch("".concat(Ap,"/api/scan-file"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileData:e,fileName:t,timestamp:(new Date).toISOString()})});if(!n.ok)throw new Error("Scan failed: ".concat(n.statusText));const r=await n.json();return r.safe?(console.log("\u2705 File passed virus scan"),{safe:!0,message:"File is safe",scanId:r.scanId}):(console.warn("\u26a0\ufe0f File failed virus scan:",r.message),{safe:!1,message:r.message||"File failed security scan",scanId:r.scanId})}catch(n){return console.error("\u274c Virus scan error:",n),console.warn("\u26a0\ufe0f Virus scan unavailable, allowing upload with warning"),{safe:!0,message:"Security scan unavailable - upload allowed",warning:!0}}})(r,t.name);if(!n.safe)return p(e=>Ve(Ve({},e),{},{logoData:"Security scan failed: ".concat(n.message,". Please upload a different file.")})),void(e.target.value="");u(r),p(e=>Ve(Ve({},e),{},{logoData:""})),console.log("\u2705 Logo file loaded and scanned, size:",(t.size/1024).toFixed(2),"KB"),n.warning&&console.warn("\u26a0\ufe0f Virus scan warning:",n.message)}catch(s){console.error("\u274c Virus scan error:",s),u(r),p(e=>Ve(Ve({},e),{},{logoData:""})),console.warn("\u26a0\ufe0f Virus scan unavailable, allowing upload")}},r.onerror=function(){p(e=>Ve(Ve({},e),{},{logoData:"Error reading file. Please try again."})),e.target.value=""},r.readAsDataURL(t)},autoComplete:"off",className:f.logoData?"error":""}),(0,wp.jsxs)("div",{className:"upload-placeholder",children:[(0,wp.jsx)("div",{className:"upload-icon",children:"\ud83d\udcc1"}),(0,wp.jsx)("p",{children:"Click to upload your logo"}),(0,wp.jsx)("small",{children:"PNG, JPG, GIF, WebP up to 2MB"})]})]}),f.logoData&&(0,wp.jsx)("span",{className:"error-message",children:f.logoData})]}),c&&(0,wp.jsxs)("div",{className:"logo-preview",children:[(0,wp.jsxs)("div",{className:"preview-header",children:[(0,wp.jsx)("h4",{children:"Logo Preview"}),(0,wp.jsx)("p",{children:(0,wp.jsx)("small",{children:"Your logo will fill the entire square perfectly"})}),(0,wp.jsx)("button",{type:"button",className:"btn-remove",onClick:()=>{u(null),document.getElementById("logoUpload").value=""},children:"Remove"})]}),(0,wp.jsx)("img",{src:c,alt:"Logo preview",className:"logo-preview-image"})]})]}),(0,wp.jsx)("button",{type:"submit",style:{display:"none"},children:"Submit"})]})]}),(0,wp.jsx)("aside",{className:"order-summary",children:(0,wp.jsxs)("div",{className:"summary-card",children:[(0,wp.jsxs)("div",{className:"summary-header",children:[(0,wp.jsx)("h3",{className:"summary-title",children:"Order Summary"}),(0,wp.jsx)("div",{className:"summary-subtitle",children:"Review your selection"})]}),(0,wp.jsxs)("div",{className:"summary-content",children:[(0,wp.jsxs)("div",{className:"order-details",children:[(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Advertising Spot"}),(0,wp.jsxs)("span",{className:"detail-value",children:["#",n]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Page Location"}),(0,wp.jsxs)("span",{className:"detail-value",children:["Page ",r]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Campaign Duration"}),(0,wp.jsxs)("span",{className:"detail-value",children:[a," days"]})]}),(0,wp.jsxs)("div",{className:"detail-row",children:[(0,wp.jsx)("span",{className:"detail-label",children:"Daily Rate"}),(0,wp.jsx)("span",{className:"detail-value",children:"\xa31.00/day"})]})]}),(0,wp.jsx)("div",{className:"summary-divider"}),(0,wp.jsxs)("div",{className:"total-section",children:[(0,wp.jsxs)("div",{className:"total-labels",children:[(0,wp.jsx)("span",{className:"total-label",children:"Total Amount"}),(0,wp.jsx)("span",{className:"total-subtitle",children:"One-time payment"})]}),(0,wp.jsxs)("span",{className:"total-amount",children:["\xa3",i,".00"]})]}),(0,wp.jsxs)("div",{className:"features-included",children:[(0,wp.jsx)("h4",{children:"What's Included:"}),(0,wp.jsxs)("div",{className:"features-grid",children:[(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udc41\ufe0f"}),(0,wp.jsx)("span",{children:"High Visibility"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udd17"}),(0,wp.jsx)("span",{children:"Clickable Link"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udcca"}),(0,wp.jsx)("span",{children:"Analytics"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-emoji",children:"\ud83d\udee1\ufe0f"}),(0,wp.jsx)("span",{children:"Secure Hosting"})]})]})]}),(0,wp.jsxs)("div",{className:"action-buttons",children:[(0,wp.jsxs)("button",{onClick:()=>{t("/campaign")},className:"btn btn--secondary",children:[(0,wp.jsx)("span",{className:"btn-icon",children:"\u2190"}),"Back to Campaign"]}),(0,wp.jsxs)("button",{onClick:b,className:"btn btn--primary ".concat(!h||m?"btn--disabled":""),disabled:!h||m,children:[m?"Uploading Logo...":"Continue to Payment",(0,wp.jsx)("span",{className:"btn-icon",children:"\u2192"})]})]}),(0,wp.jsxs)("div",{className:"trust-indicators",children:[(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\ud83d\udd12"}),(0,wp.jsx)("span",{children:"Secure Payment"})]}),(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\u26a1"}),(0,wp.jsx)("span",{children:"Instant Setup"})]}),(0,wp.jsxs)("div",{className:"trust-item",children:[(0,wp.jsx)("div",{className:"trust-icon",children:"\u21a9\ufe0f"}),(0,wp.jsx)("span",{children:"Auto Shuffle"})]})]})]})]})})]})})]})}):(0,wp.jsx)("div",{className:"business-details-container",children:(0,wp.jsxs)("div",{className:"error-state",children:[(0,wp.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,wp.jsx)("h2",{children:"No Advertising Square Selected"}),(0,wp.jsx)("p",{children:"Please return to the grid and select an advertising square to continue."}),(0,wp.jsx)("button",{onClick:()=>t("/"),className:"btn btn--primary",children:"Return to Grid Selection"})]})})},Pp=()=>{const e=re(),t=ae(),{selectedSquare:n,pageNumber:r,selectedDuration:a,finalAmount:i,businessData:o,logoData:l}=e.state||{},[c,u]=(0,s.useState)("card"),[h,d]=(0,s.useState)(!1),[f,p]=(0,s.useState)(!1),[m,g]=(0,s.useState)({}),v="https://clickalinks-backend-2.onrender.com";return n&&o?(0,wp.jsx)("div",{className:"payment-container",children:(0,wp.jsxs)("div",{className:"payment-content",children:[(0,wp.jsxs)("div",{className:"payment-header",children:[(0,wp.jsxs)("div",{className:"progress-steps",children:[(0,wp.jsxs)("div",{className:"step completed",children:[(0,wp.jsx)("div",{className:"step-number",children:"1"}),(0,wp.jsx)("div",{className:"step-label",children:"Campaign"})]}),(0,wp.jsxs)("div",{className:"step completed",children:[(0,wp.jsx)("div",{className:"step-number",children:"2"}),(0,wp.jsx)("div",{className:"step-label",children:"Details"})]}),(0,wp.jsxs)("div",{className:"step active",children:[(0,wp.jsx)("div",{className:"step-number",children:"3"}),(0,wp.jsx)("div",{className:"step-label",children:"Payment"})]}),(0,wp.jsxs)("div",{className:"step",children:[(0,wp.jsx)("div",{className:"step-number",children:"4"}),(0,wp.jsx)("div",{className:"step-label",children:"Complete"})]})]}),(0,wp.jsx)("h1",{children:"Secure Payment"}),(0,wp.jsx)("p",{children:"Complete your purchase with secure payment processing"})]}),m.payment&&(0,wp.jsxs)("div",{className:"global-error-message",children:[(0,wp.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,wp.jsxs)("div",{className:"error-content",children:[(0,wp.jsx)("strong",{children:"Payment Error"}),(0,wp.jsx)("p",{children:m.payment})]})]}),(0,wp.jsxs)("div",{className:"payment-body",children:[(0,wp.jsxs)("div",{className:"order-summary-sidebar",children:[(0,wp.jsx)("h3",{children:"Order Summary"}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Square Number:"}),(0,wp.jsxs)("span",{children:["#",n]})]}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Page:"}),(0,wp.jsxs)("span",{children:["Page ",r]})]}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Duration:"}),(0,wp.jsxs)("span",{children:[a," days"]})]}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Business:"}),(0,wp.jsx)("span",{children:null===o||void 0===o?void 0:o.name})]}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Contact Email:"}),(0,wp.jsx)("span",{children:null===o||void 0===o?void 0:o.email})]}),(0,wp.jsxs)("div",{className:"summary-item",children:[(0,wp.jsx)("span",{children:"Website:"}),(0,wp.jsx)("span",{children:null===o||void 0===o?void 0:o.website})]}),(0,wp.jsxs)("div",{className:"summary-item total",children:[(0,wp.jsx)("span",{children:"Total Amount:"}),(0,wp.jsxs)("span",{className:"total-amount",children:["\xa3",i]})]}),(0,wp.jsxs)("div",{className:"security-badge",children:[(0,wp.jsx)("div",{className:"lock-icon",children:"\ud83d\udd12"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("strong",{children:"Secure Payment"}),(0,wp.jsx)("p",{children:"256-bit SSL encryption"})]})]})]}),(0,wp.jsxs)("div",{className:"payment-form-section",children:[(0,wp.jsxs)("div",{className:"payment-methods",children:[(0,wp.jsx)("h3",{children:"Select Payment Method"}),(0,wp.jsxs)("div",{className:"method-options",children:[(0,wp.jsxs)("div",{className:"method-option ".concat("card"===c?"selected":""),onClick:()=>u("card"),children:[(0,wp.jsx)("div",{className:"method-icon",children:"\ud83d\udcb3"}),(0,wp.jsxs)("div",{className:"method-info",children:[(0,wp.jsx)("div",{className:"method-name",children:"Credit/Debit Card"}),(0,wp.jsx)("div",{className:"method-description",children:"Pay with Visa, Mastercard, or Amex"})]})]}),(0,wp.jsxs)("div",{className:"method-option ".concat("paypal"===c?"selected":""),onClick:()=>u("paypal"),children:[(0,wp.jsx)("div",{className:"method-icon",children:"\ud83d\udcb0"}),(0,wp.jsxs)("div",{className:"method-info",children:[(0,wp.jsx)("div",{className:"method-name",children:"PayPal"}),(0,wp.jsx)("div",{className:"method-description",children:"Fast and secure payment"})]})]})]})]}),"card"===c&&(0,wp.jsxs)("div",{className:"stripe-checkout-info",children:[(0,wp.jsx)("h3",{children:"Secure Card Payment"}),(0,wp.jsxs)("div",{className:"checkout-features",children:[(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-icon",children:"\ud83d\udd12"}),(0,wp.jsx)("span",{children:"Secure SSL Encryption"})]}),(0,wp.jsxs)("div",{className:"feature-item",children:[(0,wp.jsx)("span",{className:"feature-icon",children:"\ud83d\udcb3"}),(0,wp.jsx)("span",{children:"All Major Cards Accepted"})]})]})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsxs)("label",{className:"checkbox-label",children:[(0,wp.jsx)("input",{type:"checkbox",checked:f,onChange:e=>{p(e.target.checked),g(e=>Ve(Ve({},e),{},{terms:""}))}}),(0,wp.jsx)("span",{className:"checkmark"}),"I agree to the ",(0,wp.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," and ",(0,wp.jsx)("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})]}),m.terms&&(0,wp.jsx)("span",{className:"error-message",children:m.terms})]}),(0,wp.jsxs)("div",{className:"payment-actions",children:[(0,wp.jsx)("button",{onClick:async()=>{if(f){d(!0),g({});try{const e={amount:Math.round(i),squareNumber:n,pageNumber:r,duration:a,businessName:null===o||void 0===o?void 0:o.name,contactEmail:null===o||void 0===o?void 0:o.email,website:null===o||void 0===o?void 0:o.website};console.log("\ud83d\udcb0 Creating Stripe session for square:",n);const t=await fetch("".concat(v,"/api/create-checkout-session"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();t.ok&&s.success&&s.url?(console.log("\u2705 Stripe session created:",s.sessionId),(e=>{console.log("\ud83d\udcbe STARTING DATA PERSISTENCE FOR SESSION:",e);const t=JSON.parse(localStorage.getItem("businessFormData")||"{}"),s=localStorage.getItem("currentLogoData"),c={squareNumber:n,pageNumber:r||1,businessName:(null===o||void 0===o?void 0:o.name)||t.name,contactEmail:(null===o||void 0===o?void 0:o.email)||t.email,website:(null===o||void 0===o?void 0:o.website)||t.website,logoData:l||(null===o||void 0===o?void 0:o.logoData)||t.logoData||s,amount:i||10,duration:a||30,purchaseDate:(new Date).toISOString(),status:"pending",sessionId:e};console.log("\ud83d\udce6 FINAL PURCHASE DATA:",{square:c.squareNumber,hasLogo:!!c.logoData,logoSource:l?"location":null!==o&&void 0!==o&&o.logoData?"businessData":t.logoData?"businessFormData":s?"currentLogo":"NONE"});try{const t=JSON.parse(localStorage.getItem("pendingPurchases")||"{}");t[e]=c,localStorage.setItem("pendingPurchases",JSON.stringify(t)),console.log("\u2705 Layer 1: Saved to pendingPurchases");const r=JSON.parse(localStorage.getItem("squarePurchases")||"{}");r[n]=Ve(Ve({},c),{},{status:"processing",paymentStatus:"pending"}),localStorage.setItem("squarePurchases",JSON.stringify(r)),console.log("\u2705 Layer 2: Saved to squarePurchases"),localStorage.setItem("purchase_".concat(n),JSON.stringify(c)),console.log("\u2705 Layer 3: Saved to simple backup"),fetch("".concat(v,"/api/debug-purchase"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:e,squareNumber:n,step:"payment_before_redirect",data:Ve(Ve({},c),{},{logoData:c.logoData?"PRESENT":"MISSING"})})}).catch(e=>console.log("Backend debug failed (normal)"))}catch(u){console.error("\u274c Persistence error:",u)}})(s.sessionId),setTimeout(()=>{console.log("\ud83d\udd17 Redirecting to Stripe..."),window.location.href=s.url},100)):(console.error("\u274c Stripe session failed:",s.error),g({payment:s.error||"Payment failed"}),d(!1))}catch(e){console.error("\u274c Network error:",e),g({payment:"Network error. Please try again."}),d(!1)}}else g({terms:"Please accept the terms and conditions"})},className:"btn-primary pay-button",disabled:h,children:h?(0,wp.jsxs)(wp.Fragment,{children:[(0,wp.jsx)("div",{className:"spinner"}),"Processing..."]}):"Pay \xa3".concat(i," Now")}),(0,wp.jsx)("button",{onClick:()=>t(-1),className:"btn-secondary",disabled:h,children:"\u2190 Back"})]})]})]})]})}):(0,wp.jsx)("div",{className:"payment-container",children:(0,wp.jsx)("div",{className:"payment-content",children:(0,wp.jsxs)("div",{className:"error-message",children:[(0,wp.jsx)("h2",{children:"Missing Information"}),(0,wp.jsx)("p",{children:"Required purchase data is missing:"}),(0,wp.jsxs)("ul",{children:[(0,wp.jsxs)("li",{children:["Selected Square: ",n?"#".concat(n):"MISSING"]}),(0,wp.jsxs)("li",{children:["Business Data: ",o?"PRESENT":"MISSING"]}),(0,wp.jsxs)("li",{children:["Page: ",r||"MISSING"]}),(0,wp.jsxs)("li",{children:["Duration: ",a||"MISSING"]}),(0,wp.jsxs)("li",{children:["Amount: ",i||"MISSING"]})]}),(0,wp.jsx)("button",{onClick:()=>t("/"),className:"btn-primary",children:"Return to Grid"})]})})})},Op=()=>(0,wp.jsxs)("div",{className:"about-page",children:[(0,wp.jsx)("div",{className:"about-hero",children:(0,wp.jsxs)("div",{className:"container",children:[(0,wp.jsx)("h1",{children:"About CLICKaLINKS"}),(0,wp.jsx)("p",{className:"subtitle",children:"Directing Businesses to Customers, One Click at a Time"})]})}),(0,wp.jsx)("div",{className:"about-content",children:(0,wp.jsxs)("div",{className:"container",children:[(0,wp.jsx)("div",{className:"content-section",children:(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsx)("h2",{children:"Our Mission"}),(0,wp.jsxs)("p",{children:[(0,wp.jsx)("strong",{children:"CLICKaLINKS"})," was founded with a simple mission: to connect amazing businesses with customers looking for great deals. We provide an affordable advertising platform where businesses of all sizes can showcase their offers directly to engaged shoppers."]})]})}),(0,wp.jsx)("div",{className:"content-section",children:(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsx)("h2",{children:"Why We Started"}),(0,wp.jsx)("p",{children:"Founded in 2025, CLICKaLINKS was created to make finding real deals simple again. We realized that searching for everyday discounts had become a mission. Most businesses only promote seasonal offers around holidays like Valentine's Day, Halloween, or Christmas. Meanwhile, the great discounts on daily essentials often go unnoticed. Our goal is to change that by giving businesses an affordable way to advertise their everyday deals, and helping customers easily discover genuine savings all year round."})]})}),(0,wp.jsx)("div",{className:"content-section",children:(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsx)("h2",{children:"What Makes Us Different"}),(0,wp.jsx)("div",{className:"features-grid",children:[{icon:"\ud83d\udcb0",title:"Affordable",description:"Only \xa31 per day for premium ad space"},{icon:"\u26a1",title:"Simple",description:"No complex contracts or hidden fees"},{icon:"\ud83c\udfaf",title:"Effective",description:"Direct click-through to your deals"},{icon:"\ud83d\udd04",title:"Flexible",description:"Choose 10, 20, or 30-day campaigns"}].map((e,t)=>(0,wp.jsxs)("div",{className:"feature-card",children:[(0,wp.jsx)("div",{className:"feature-icon",children:e.icon}),(0,wp.jsx)("h3",{children:e.title}),(0,wp.jsx)("p",{children:e.description})]},t))})]})}),(0,wp.jsx)("div",{className:"content-section",children:(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsx)("h2",{children:"Our Values"}),(0,wp.jsx)("p",{children:"We believe in transparency, fairness, and creating win-win situations for both businesses and customers. Every square on our platform represents an opportunity for growth and discovery."})]})}),(0,wp.jsx)("div",{className:"stats-section",children:(0,wp.jsxs)("div",{className:"stats-wrapper",children:[(0,wp.jsx)("h2",{className:"stats-title",children:"By The Numbers"}),(0,wp.jsxs)("div",{className:"stats-grid",children:[(0,wp.jsxs)("div",{className:"stat-item",children:[(0,wp.jsx)("div",{className:"stat-number",children:"2,000+"}),(0,wp.jsx)("div",{className:"stat-label",children:"Advertising Squares"}),(0,wp.jsx)("div",{className:"stat-description",children:"Available across all pages"})]}),(0,wp.jsxs)("div",{className:"stat-item",children:[(0,wp.jsx)("div",{className:"stat-number",children:"\xa31"}),(0,wp.jsx)("div",{className:"stat-label",children:"Starting Price Per Day"}),(0,wp.jsx)("div",{className:"stat-description",children:"Affordable advertising for all"})]}),(0,wp.jsxs)("div",{className:"stat-item",children:[(0,wp.jsx)("div",{className:"stat-number",children:"10"}),(0,wp.jsx)("div",{className:"stat-label",children:"Advertising Pages"}),(0,wp.jsx)("div",{className:"stat-description",children:"Multiple placement options"})]}),(0,wp.jsxs)("div",{className:"stat-item",children:[(0,wp.jsx)("div",{className:"stat-number",children:"60"}),(0,wp.jsx)("div",{className:"stat-label",children:"Max Campaign Days"}),(0,wp.jsx)("div",{className:"stat-description",children:"Extended visibility period"})]})]})]})}),(0,wp.jsx)("div",{className:"cta-section",children:(0,wp.jsxs)("div",{className:"section-card accent",children:[(0,wp.jsx)("h3",{children:"Ready to Get Started?"}),(0,wp.jsx)("p",{children:"Join hundreds of businesses already advertising on CLICKaLINKS."}),(0,wp.jsxs)("div",{className:"cta-buttons",children:[(0,wp.jsx)("a",{href:"/",className:"cta-btn primary",children:"View Advertising Grid"}),(0,wp.jsx)("a",{href:"/how-it-works",className:"cta-btn secondary",children:"Learn How It Works"})]})]})})]})})]}),Lp=()=>(0,wp.jsxs)("div",{className:"how-it-works",children:[(0,wp.jsx)("div",{className:"hero-section",children:(0,wp.jsxs)("div",{className:"container",children:[(0,wp.jsx)("h1",{children:"How It Works"}),(0,wp.jsx)("p",{className:"subtitle",children:"Get your business in front of thousands in just 3 simple steps"})]})}),(0,wp.jsx)("div",{className:"main-sections",children:(0,wp.jsx)("div",{className:"container",children:(0,wp.jsxs)("div",{className:"section-grid",children:[(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsxs)("div",{className:"card-icon",children:[(0,wp.jsx)("div",{className:"icon-wrapper",children:(0,wp.jsx)("i",{className:"fas fa-th-large"})}),(0,wp.jsx)("div",{className:"step-number",children:"01"})]}),(0,wp.jsx)("h3",{children:"Choose Your Square"}),(0,wp.jsx)("p",{children:"Browse our 2000-square grid across 10 pages and select any available advertising spot. Each square represents prime visibility where thousands of potential customers can discover your business."})]}),(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsxs)("div",{className:"card-icon",children:[(0,wp.jsx)("div",{className:"icon-wrapper",children:(0,wp.jsx)("i",{className:"fas fa-upload"})}),(0,wp.jsx)("div",{className:"step-number",children:"02"})]}),(0,wp.jsx)("h3",{children:"Upload & Customize"}),(0,wp.jsx)("p",{children:"Upload your professional company logo and provide the direct link to your special offers, discounted products, or landing page. Our system supports all standard image formats."})]}),(0,wp.jsxs)("div",{className:"section-card",children:[(0,wp.jsxs)("div",{className:"card-icon",children:[(0,wp.jsx)("div",{className:"icon-wrapper",children:(0,wp.jsx)("i",{className:"fas fa-rocket"})}),(0,wp.jsx)("div",{className:"step-number",children:"03"})]}),(0,wp.jsx)("h3",{children:"Launch & Track"}),(0,wp.jsx)("p",{children:"Choose your campaign duration (10, 20, 30 or 60 days), complete your payment, and watch the clicks roll in! Your advertisement goes live immediately upon payment confirmation."})]})]})})}),(0,wp.jsx)("div",{className:"pricing-section",children:(0,wp.jsxs)("div",{className:"container",children:[(0,wp.jsxs)("div",{className:"section-header",children:[(0,wp.jsx)("h2",{children:"Simple & Transparent Pricing"}),(0,wp.jsx)("p",{children:"Choose the perfect campaign duration for your business needs"})]}),(0,wp.jsxs)("div",{className:"pricing-grid",children:[(0,wp.jsxs)("div",{className:"pricing-card",children:[(0,wp.jsxs)("div",{className:"price-header",children:[(0,wp.jsx)("div",{className:"duration",children:"10 Days"}),(0,wp.jsx)("div",{className:"price",children:"\xa310"})]}),(0,wp.jsxs)("ul",{className:"features",children:[(0,wp.jsx)("li",{children:"Perfect for testing"}),(0,wp.jsx)("li",{children:"Short-term promotions"}),(0,wp.jsx)("li",{children:"Immediate visibility"})]}),(0,wp.jsx)("button",{className:"cta-button",children:"Get Started"})]}),(0,wp.jsxs)("div",{className:"pricing-card popular",children:[(0,wp.jsx)("div",{className:"popular-badge",children:"Most Popular"}),(0,wp.jsxs)("div",{className:"price-header",children:[(0,wp.jsx)("div",{className:"duration",children:"20 Days"}),(0,wp.jsx)("div",{className:"price",children:"\xa320"})]}),(0,wp.jsxs)("ul",{className:"features",children:[(0,wp.jsx)("li",{children:"Great value"}),(0,wp.jsx)("li",{children:"Sustained visibility"}),(0,wp.jsx)("li",{children:"Optimal exposure"})]}),(0,wp.jsx)("button",{className:"cta-button primary",children:"Get Started"})]}),(0,wp.jsxs)("div",{className:"pricing-card",children:[(0,wp.jsxs)("div",{className:"price-header",children:[(0,wp.jsx)("div",{className:"duration",children:"30 Days"}),(0,wp.jsx)("div",{className:"price",children:"\xa330"})]}),(0,wp.jsxs)("ul",{className:"features",children:[(0,wp.jsx)("li",{children:"Extended reach"}),(0,wp.jsx)("li",{children:"Maximum exposure"}),(0,wp.jsx)("li",{children:"Best value"})]}),(0,wp.jsx)("button",{className:"cta-button",children:"Get Started"})]}),(0,wp.jsxs)("div",{className:"pricing-card",children:[(0,wp.jsxs)("div",{className:"price-header",children:[(0,wp.jsx)("div",{className:"duration",children:"60 Days"}),(0,wp.jsx)("div",{className:"price",children:"\xa360"})]}),(0,wp.jsxs)("ul",{className:"features",children:[(0,wp.jsx)("li",{children:"Long-term presence"}),(0,wp.jsx)("li",{children:"Premium placement"}),(0,wp.jsx)("li",{children:"Maximum ROI"})]}),(0,wp.jsx)("button",{className:"cta-button",children:"Get Started"})]})]})]})})]}),Mp=()=>(0,wp.jsx)("div",{children:(0,wp.jsx)("div",{className:"terms-container",children:(0,wp.jsxs)("div",{className:"terms-content",children:[(0,wp.jsx)("h1",{children:"\ud83d\udcc4 Terms & Conditions"}),(0,wp.jsx)("p",{className:"last-updated",children:"Last Updated: December 2024"}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\u2705 1. Agreement to Terms"}),(0,wp.jsx)("p",{children:"By using CLICKaLINKS services, you agree to these terms. We reserve the right to modify these terms at any time."})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udd27 2. Service Description"}),(0,wp.jsx)("p",{children:"CLICKaLINKS provides grid-based advertising space where businesses can purchase squares to display their logos and link to their deals/discount pages."}),(0,wp.jsx)("p",{children:(0,wp.jsx)("strong",{children:"Service Includes:"})}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2705 2000 advertising squares across 10 pages"}),(0,wp.jsx)("li",{children:"\u2705 Direct click-through to your website/deals"}),(0,wp.jsx)("li",{children:"\u2705 Automatic square shuffling for fair visibility"}),(0,wp.jsx)("li",{children:"\u2705 Secure payment processing"})]})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udcdd 3. Advertising Guidelines"}),(0,wp.jsx)("p",{children:(0,wp.jsx)("strong",{children:"Allowed Content:"})}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2705 Legitimate business logos and branding"}),(0,wp.jsx)("li",{children:"\u2705 Links to genuine deals, discounts, or product pages"}),(0,wp.jsx)("li",{children:"\u2705 Family-friendly business content"})]}),(0,wp.jsx)("p",{children:(0,wp.jsx)("strong",{children:"Prohibited Content:"})}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u274c Adult, explicit, or offensive material"}),(0,wp.jsx)("li",{children:"\u274c Illegal products or services"}),(0,wp.jsx)("li",{children:"\u274c Misleading or fraudulent content"}),(0,wp.jsx)("li",{children:"\u274c Copyright-infringing material"}),(0,wp.jsx)("li",{children:"\u274c Hate speech or discriminatory content"})]})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udcb3 4. Pricing & Payments"}),(0,wp.jsx)("p",{children:(0,wp.jsx)("strong",{children:"Pricing Structure:"})}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2022 10-day campaign: \xa310 (\xa31/day)"}),(0,wp.jsx)("li",{children:"\u2022 20-day campaign: \xa320 (\xa31/day)"}),(0,wp.jsx)("li",{children:"\u2022 30-day campaign: \xa330 (\xa31/day)"})]}),(0,wp.jsx)("p",{children:"All payments are processed securely through Stripe. Campaigns begin immediately upon successful payment."})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udd04 5. Refund & Cancellation Policy"}),(0,wp.jsx)("p",{children:"Due to the immediate nature of our service, we do not offer refunds once a campaign has started. Please ensure you:"}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2705 Select the correct campaign duration"}),(0,wp.jsx)("li",{children:"\u2705 Upload the appropriate logo"}),(0,wp.jsx)("li",{children:"\u2705 Provide the correct destination URL"})]})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\u23f0 6. Campaign Duration & Shuffling"}),(0,wp.jsx)("p",{children:"\u2022 Campaigns run for exact duration selected (10/20/30 days)"}),(0,wp.jsx)("p",{children:"\u2022 Squares automatically shuffle every 2 hours for fair exposure"}),(0,wp.jsx)("p",{children:"\u2022 No manual position requests are accepted"})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udc41\ufe0f 7. Content Moderation Rights"}),(0,wp.jsx)("p",{children:"CLICKaLINKS reserves the right to:"}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2022 Remove any content violating our guidelines"}),(0,wp.jsx)("li",{children:"\u2022 Suspend accounts for terms violations"}),(0,wp.jsx)("li",{children:"\u2022 Make final decisions on content appropriateness"})]}),(0,wp.jsx)("p",{children:"No refunds provided for removed content due to policy violations."})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udee1\ufe0f 8. Limitation of Liability"}),(0,wp.jsx)("p",{children:"CLICKaLINKS is not responsible for:"}),(0,wp.jsxs)("ul",{className:"terms-list",children:[(0,wp.jsx)("li",{children:"\u2022 Business outcomes or sales from advertising"}),(0,wp.jsx)("li",{children:"\u2022 Technical issues with advertiser websites"}),(0,wp.jsx)("li",{children:"\u2022 Click fraud or invalid traffic"}),(0,wp.jsx)("li",{children:"\u2022 Third-party payment processor issues"})]})]}),(0,wp.jsxs)("div",{className:"terms-section",children:[(0,wp.jsx)("h2",{children:"\ud83d\udcde 9. Contact & Support"}),(0,wp.jsx)("p",{children:"For questions about these terms or our service:"}),(0,wp.jsxs)("p",{children:["\ud83d\udce7 Email: ",(0,wp.jsx)("a",{href:"mailto:support@clickalinks.com",className:"contact-link",children:"support@clickalinks.com"})]}),(0,wp.jsx)("p",{children:"Response time: Within 24 hours during business days"})]})]})})}),Fp=()=>{const[e,t]=(0,s.useState)({name:"",email:"",subject:"",message:""}),n=n=>{t(Ve(Ve({},e),{},{[n.target.name]:n.target.value}))};return(0,wp.jsx)("div",{className:"contact-container",children:(0,wp.jsxs)("div",{className:"contact-content",children:[(0,wp.jsxs)("div",{className:"contact-header",children:[(0,wp.jsx)("h1",{children:"\ud83d\udce7 Contact CLICKaLINKS"}),(0,wp.jsx)("p",{children:"Get in touch with us - we're here to help your business grow!"})]}),(0,wp.jsxs)("div",{className:"contact-grid",children:[(0,wp.jsx)("div",{className:"contact-form-section",children:(0,wp.jsxs)("div",{className:"contact-form-container",children:[(0,wp.jsx)("h2",{children:"\ud83d\udcac Send us a Message"}),(0,wp.jsxs)("form",{className:"contact-form",onSubmit:t=>{t.preventDefault();const{name:n,email:r,subject:s,message:a}=e,i="mailto:info@clickalinks.com?subject=".concat(encodeURIComponent(s),"&body=").concat(encodeURIComponent("Name: ".concat(n,"\nEmail: ").concat(r,"\n\nMessage: ").concat(a)));window.location.href=i},children:[(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"name",children:"Your Name *"}),(0,wp.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:n,placeholder:"Enter your full name",required:!0})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"email",children:"Your Email *"}),(0,wp.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:n,placeholder:"your@email.com",required:!0})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"subject",children:"Subject *"}),(0,wp.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:n,placeholder:"What is this regarding?",required:!0})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{htmlFor:"message",children:"Message *"}),(0,wp.jsx)("textarea",{id:"message",name:"message",rows:"6",value:e.message,onChange:n,placeholder:"Tell us how we can help you...",required:!0})]}),(0,wp.jsx)("button",{type:"submit",className:"contact-submit-btn",children:"\ud83d\udce8 Send Message"})]})]})}),(0,wp.jsx)("div",{className:"contact-info-section",children:(0,wp.jsxs)("div",{className:"contact-info-card",children:[(0,wp.jsx)("h3",{children:"\ud83d\udcde Get In Touch"}),(0,wp.jsxs)("div",{className:"contact-method",children:[(0,wp.jsx)("div",{className:"contact-icon",children:"\ud83d\udce7"}),(0,wp.jsxs)("div",{className:"contact-details",children:[(0,wp.jsx)("strong",{children:"Email Us"}),(0,wp.jsx)("p",{children:"info@clickalinks.com"}),(0,wp.jsx)("small",{children:"We typically reply within 24 hours"})]})]}),(0,wp.jsxs)("div",{className:"contact-method",children:[(0,wp.jsx)("div",{className:"contact-icon",children:"\ud83d\udd52"}),(0,wp.jsxs)("div",{className:"contact-details",children:[(0,wp.jsx)("strong",{children:"Business Hours"}),(0,wp.jsx)("p",{children:"Monday - Friday: 9AM - 6PM"}),(0,wp.jsx)("p",{children:"Saturday: 10AM - 4PM"}),(0,wp.jsx)("small",{children:"GMT Time Zone"})]})]}),(0,wp.jsxs)("div",{className:"contact-method",children:[(0,wp.jsx)("div",{className:"contact-icon",children:"\ud83d\ude80"}),(0,wp.jsxs)("div",{className:"contact-details",children:[(0,wp.jsx)("strong",{children:"Advertising Support"}),(0,wp.jsx)("p",{children:"Need help with your campaign?"}),(0,wp.jsx)("small",{children:"We're here to help you succeed"})]})]}),(0,wp.jsxs)("div",{className:"contact-features",children:[(0,wp.jsx)("h4",{children:"Why Choose CLICKaLINKS?"}),(0,wp.jsxs)("ul",{className:"contact-features-list",children:[(0,wp.jsx)("li",{children:"\u2705 Affordable advertising from \xa31/day"}),(0,wp.jsx)("li",{children:"\u2705 Direct customer connections"}),(0,wp.jsx)("li",{children:"\u2705 2000+ advertising squares"}),(0,wp.jsx)("li",{children:"\u2705 Automatic square shuffling"}),(0,wp.jsx)("li",{children:"\u2705 Secure payment processing"}),(0,wp.jsx)("li",{children:"\u2705 Premium visibility for your business"})]})]})]})})]})]})})},Up=()=>(0,wp.jsx)("div",{className:"privacy-container",children:(0,wp.jsxs)("div",{className:"privacy-content",children:[(0,wp.jsxs)("header",{className:"privacy-header",children:[(0,wp.jsx)("h1",{children:"Privacy Policy"}),(0,wp.jsxs)("p",{className:"last-updated",children:["Last Updated: ",(new Date).toLocaleDateString()]}),(0,wp.jsxs)("div",{className:"security-badge",children:[(0,wp.jsx)("div",{className:"lock-icon",children:"\ud83d\udd12"}),(0,wp.jsx)("span",{children:"Simple, transparent data practices"})]})]}),(0,wp.jsxs)("div",{className:"privacy-body",children:[(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"1. Information We Collect"}),(0,wp.jsx)("p",{children:"We only collect information that's necessary to display your advertising campaign. No user accounts, no tracking, no analytics."}),(0,wp.jsxs)("div",{className:"info-category",children:[(0,wp.jsx)("h3",{children:"Campaign Information"}),(0,wp.jsxs)("ul",{children:[(0,wp.jsxs)("li",{children:[(0,wp.jsx)("strong",{children:"Business Details:"})," Business name, contact email, website"]}),(0,wp.jsxs)("li",{children:[(0,wp.jsx)("strong",{children:"Advertising Content:"})," Logo image, deal description"]}),(0,wp.jsxs)("li",{children:[(0,wp.jsx)("strong",{children:"Campaign Settings:"})," Selected square number, duration, amount"]})]})]}),(0,wp.jsxs)("div",{className:"transparency-note",children:[(0,wp.jsx)("strong",{children:"Note:"})," We do NOT collect IP addresses, create user accounts, track browsing, or use any analytics. Payment processing is simulated for this demo."]})]}),(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"2. How We Use Your Information"}),(0,wp.jsxs)("div",{className:"usage-grid",children:[(0,wp.jsxs)("div",{className:"usage-item",children:[(0,wp.jsx)("div",{className:"usage-icon",children:"\ud83d\uddbc\ufe0f"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Display Advertising"}),(0,wp.jsx)("p",{children:"Show your business logo and deal on the grid"})]})]}),(0,wp.jsxs)("div",{className:"usage-item",children:[(0,wp.jsx)("div",{className:"usage-icon",children:"\u23f0"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Manage Duration"}),(0,wp.jsx)("p",{children:"Display your ad for the selected time period"})]})]}),(0,wp.jsxs)("div",{className:"usage-item",children:[(0,wp.jsx)("div",{className:"usage-icon",children:"\ud83d\udd04"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Square Rotation"}),(0,wp.jsx)("p",{children:"Include your ad in automatic shuffling"})]})]})]})]}),(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"3. Data Storage"}),(0,wp.jsx)("div",{className:"storage-info",children:(0,wp.jsxs)("div",{className:"storage-item",children:[(0,wp.jsx)("h3",{children:"\ud83d\udccd Browser Local Storage"}),(0,wp.jsx)("p",{children:"All campaign data is stored locally in your web browser. This means:"}),(0,wp.jsxs)("ul",{children:[(0,wp.jsx)("li",{children:"You have full control over the data"}),(0,wp.jsx)("li",{children:"Data persists until you clear browser storage"}),(0,wp.jsx)("li",{children:"No external servers store your information"}),(0,wp.jsx)("li",{children:"Easy to remove by clearing browser data"})]})]})})]}),(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"4. Data Control"}),(0,wp.jsx)("p",{children:"Since we don't have user accounts, you maintain control through your browser:"}),(0,wp.jsxs)("div",{className:"control-points",children:[(0,wp.jsxs)("div",{className:"control-item",children:[(0,wp.jsx)("strong",{children:"View Data:"})," Your ad is publicly visible on the advertising grid"]}),(0,wp.jsxs)("div",{className:"control-item",children:[(0,wp.jsx)("strong",{children:"Data Removal:"})," Clear browser storage to delete all campaign data"]}),(0,wp.jsxs)("div",{className:"control-item",children:[(0,wp.jsx)("strong",{children:"Automatic Expiry:"})," Ads stop displaying after your selected duration"]}),(0,wp.jsxs)("div",{className:"control-item",children:[(0,wp.jsx)("strong",{children:"No Accounts:"})," No login required, no personal profiles"]})]})]}),(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"5. Data Sharing"}),(0,wp.jsxs)("p",{children:[(0,wp.jsx)("strong",{children:"We do not share your data with anyone."})," Your business information is only used to display your advertising campaign on our platform. No third-party services, no data brokers, no advertisers."]})]}),(0,wp.jsxs)("section",{className:"policy-section",children:[(0,wp.jsx)("h2",{children:"6. Contact & Questions"}),(0,wp.jsxs)("div",{className:"contact-info",children:[(0,wp.jsx)("p",{children:"If you have questions about your data or privacy, we're happy to help."}),(0,wp.jsx)("div",{className:"contact-details",children:(0,wp.jsxs)("p",{children:[(0,wp.jsx)("strong",{children:"Email:"})," privacy@clickalinks.com"]})})]})]}),(0,wp.jsxs)("section",{className:"policy-section commitment",children:[(0,wp.jsx)("h2",{children:"Our Privacy Approach"}),(0,wp.jsxs)("div",{className:"approach-grid",children:[(0,wp.jsxs)("div",{className:"approach-item",children:[(0,wp.jsx)("span",{className:"approach-icon",children:"\ud83c\udfaf"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Minimal Collection"}),(0,wp.jsx)("p",{children:"Only what's needed for your ad campaign"})]})]}),(0,wp.jsxs)("div",{className:"approach-item",children:[(0,wp.jsx)("span",{className:"approach-icon",children:"\ud83d\udeab"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"No Tracking"}),(0,wp.jsx)("p",{children:"No analytics, cookies, or user profiling"})]})]}),(0,wp.jsxs)("div",{className:"approach-item",children:[(0,wp.jsx)("span",{className:"approach-icon",children:"\ud83d\udcbe"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Local Storage"}),(0,wp.jsx)("p",{children:"Your data stays in your browser"})]})]}),(0,wp.jsxs)("div",{className:"approach-item",children:[(0,wp.jsx)("span",{className:"approach-icon",children:"\ud83d\udc41\ufe0f"}),(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h4",{children:"Transparent"}),(0,wp.jsx)("p",{children:"Clear about what we do and don't do"})]})]})]})]})]})]})}),Vp=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)({code:"",discountPercent:100,description:"",maxUses:100});(0,s.useEffect)(()=>{a()},[]);const a=()=>{const e=JSON.parse(localStorage.getItem("adminCoupons")||"[]");t(e)};return(0,wp.jsxs)("div",{className:"coupon-generator",children:[(0,wp.jsxs)("div",{className:"generator-form",children:[(0,wp.jsx)("h3",{children:"Create New Coupon"}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{children:"Coupon Code *"}),(0,wp.jsxs)("div",{className:"code-input-group",children:[(0,wp.jsx)("input",{type:"text",value:n.code,onChange:e=>r(t=>Ve(Ve({},t),{},{code:e.target.value})),placeholder:"LAUNCH100",maxLength:"20"}),(0,wp.jsx)("button",{type:"button",onClick:()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(36*Math.random()));r(e=>Ve(Ve({},e),{},{code:t}))},className:"btn-generate",children:"Generate Code"})]})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{children:"Discount Percentage *"}),(0,wp.jsx)("input",{type:"number",value:n.discountPercent,onChange:e=>r(t=>Ve(Ve({},t),{},{discountPercent:parseInt(e.target.value)})),min:"1",max:"100"}),(0,wp.jsx)("small",{children:100===n.discountPercent?"\ud83d\udca1 100% discount coupons will automatically give 10-day free campaigns!":"Discounts less than 100% will use the customer's selected duration"})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{children:"Description *"}),(0,wp.jsx)("input",{type:"text",value:n.description,onChange:e=>r(t=>Ve(Ve({},t),{},{description:e.target.value})),placeholder:100===n.discountPercent?"100% OFF - Free 10-Day Launch Campaign":"50% OFF - Special Discount"})]}),(0,wp.jsxs)("div",{className:"form-group",children:[(0,wp.jsx)("label",{children:"Maximum Uses *"}),(0,wp.jsx)("input",{type:"number",value:n.maxUses,onChange:e=>r(t=>Ve(Ve({},t),{},{maxUses:parseInt(e.target.value)})),min:"1"})]}),(0,wp.jsx)("button",{onClick:()=>{if(!n.code||!n.description)return void alert("Please fill in all required fields");const e=JSON.parse(localStorage.getItem("adminCoupons")||"[]");if(e.find(e=>e.code===n.code.toUpperCase()))return void alert("This coupon code already exists!");const s=Ve(Ve({},n),{},{code:n.code.toUpperCase(),id:Date.now(),createdAt:(new Date).toISOString(),usedCount:0,isLaunchCampaign:100===n.discountPercent}),a=[...e,s];t(a),localStorage.setItem("adminCoupons",JSON.stringify(a));const i={};a.forEach(e=>{i[e.code]={discountPercent:e.discountPercent,description:e.description,isLaunchCampaign:e.isLaunchCampaign}}),localStorage.setItem("availableCoupons",JSON.stringify(i)),r({code:"",discountPercent:100,description:"",maxUses:100}),alert('\u2705 Coupon "'.concat(s.code,'" created!'))},className:"btn-create",children:"Create Coupon"})]}),(0,wp.jsxs)("div",{className:"coupons-management",children:[(0,wp.jsxs)("div",{className:"management-header",children:[(0,wp.jsxs)("h3",{children:["Existing Coupons (",e.length,")"]}),(0,wp.jsx)("button",{onClick:a,className:"btn-refresh",children:"Refresh"})]}),0===e.length?(0,wp.jsx)("p",{className:"no-coupons",children:"No coupons created yet."}):(0,wp.jsx)("div",{className:"coupons-list",children:e.map(n=>(0,wp.jsxs)("div",{className:"coupon-item",children:[(0,wp.jsxs)("div",{className:"coupon-header",children:[(0,wp.jsx)("span",{className:"coupon-code",children:n.code}),(0,wp.jsx)("button",{onClick:()=>(n=>{if(window.confirm("Delete this coupon?")){const r=e.filter(e=>e.id!==n);t(r),localStorage.setItem("adminCoupons",JSON.stringify(r));const s={};r.forEach(e=>{s[e.code]={discountPercent:e.discountPercent,description:e.description,isLaunchCampaign:e.isLaunchCampaign}}),localStorage.setItem("availableCoupons",JSON.stringify(s))}})(n.id),className:"btn-delete",children:"Delete"})]}),(0,wp.jsxs)("div",{className:"coupon-details",children:[(0,wp.jsxs)("strong",{children:[n.discountPercent,"% OFF"]})," - ",n.description,n.isLaunchCampaign&&(0,wp.jsx)("span",{style:{color:"#28a745",fontWeight:"bold",marginLeft:"10px"},children:"\ud83d\ude80 10-Day Free Campaign"})]}),(0,wp.jsxs)("div",{className:"coupon-meta",children:[(0,wp.jsxs)("span",{children:["Uses: ",n.usedCount||0,"/",n.maxUses]}),(0,wp.jsxs)("span",{children:["Created: ",new Date(n.createdAt).toLocaleDateString()]})]})]},n.id))})]})]})},qp=()=>{const e=JSON.parse(localStorage.getItem("adminCoupons")||"[]"),t=e.filter(e=>e.usedCount>0),n=e.filter(e=>(e.usedCount||0)<e.maxUses);return(0,wp.jsxs)("div",{className:"overview-panel",children:[(0,wp.jsx)("h2",{children:"Dashboard Overview"}),(0,wp.jsxs)("div",{className:"stats-grid",children:[(0,wp.jsxs)("div",{className:"stat-card",children:[(0,wp.jsx)("div",{className:"stat-number",children:e.length}),(0,wp.jsx)("div",{className:"stat-label",children:"Total Coupons"})]}),(0,wp.jsxs)("div",{className:"stat-card",children:[(0,wp.jsx)("div",{className:"stat-number",children:t.length}),(0,wp.jsx)("div",{className:"stat-label",children:"Redeemed Coupons"})]}),(0,wp.jsxs)("div",{className:"stat-card",children:[(0,wp.jsx)("div",{className:"stat-number",children:n.length}),(0,wp.jsx)("div",{className:"stat-label",children:"Active Coupons"})]}),(0,wp.jsxs)("div",{className:"stat-card",children:[(0,wp.jsx)("div",{className:"stat-number",children:e.filter(e=>100===e.discountPercent).length}),(0,wp.jsx)("div",{className:"stat-label",children:"Free Campaigns"})]})]}),(0,wp.jsxs)("div",{className:"recent-activity",children:[(0,wp.jsx)("h3",{children:"Recent Coupon Activity"}),0===t.length?(0,wp.jsx)("p",{children:"No coupons redeemed yet."}):(0,wp.jsx)("div",{className:"activity-list",children:t.slice(-5).map(e=>(0,wp.jsxs)("div",{className:"activity-item",children:[(0,wp.jsx)("span",{className:"coupon-code",children:e.code}),(0,wp.jsxs)("span",{className:"activity-desc",children:["Used ",e.usedCount," times"]}),(0,wp.jsxs)("span",{className:"activity-date",children:["Last used: ",new Date(e.lastUsed||e.createdAt).toLocaleDateString()]})]},e.id))})]})]})},zp=()=>{const e=JSON.parse(localStorage.getItem("adminCoupons")||"[]");return(0,wp.jsxs)("div",{className:"analytics-panel",children:[(0,wp.jsx)("h2",{children:"\ud83d\udcc8 Coupon Analytics"}),(0,wp.jsxs)("div",{className:"analytics-grid",children:[(0,wp.jsxs)("div",{className:"analytics-card",children:[(0,wp.jsx)("h4",{children:"Redemption Rate"}),(0,wp.jsx)("div",{className:"analytics-value",children:e.length>0?"".concat(Math.round(e.filter(e=>e.usedCount>0).length/e.length*100),"%"):"0%"})]}),(0,wp.jsxs)("div",{className:"analytics-card",children:[(0,wp.jsx)("h4",{children:"Total Uses"}),(0,wp.jsx)("div",{className:"analytics-value",children:e.reduce((e,t)=>e+(t.usedCount||0),0)})]}),(0,wp.jsxs)("div",{className:"analytics-card",children:[(0,wp.jsx)("h4",{children:"Most Popular"}),(0,wp.jsx)("div",{className:"analytics-value",children:e.length>0?e.reduce((e,t)=>(t.usedCount||0)>(e.usedCount||0)?t:e).code:"N/A"})]})]}),(0,wp.jsxs)("div",{className:"coupon-breakdown",children:[(0,wp.jsx)("h4",{children:"Coupon Breakdown"}),(0,wp.jsx)("div",{className:"breakdown-list",children:e.map(e=>(0,wp.jsxs)("div",{className:"breakdown-item",children:[(0,wp.jsx)("span",{className:"breakdown-code",children:e.code}),(0,wp.jsxs)("span",{className:"breakdown-uses",children:[e.usedCount||0,"/",e.maxUses]}),(0,wp.jsxs)("span",{className:"breakdown-percent",children:[e.discountPercent,"% off"]})]},e.id))})]})]})},Bp=()=>{const[e,t]=(0,s.useState)({autoExpire:!0,expireDays:30,notifyOnRedeem:!0});return(0,wp.jsxs)("div",{className:"settings-panel",children:[(0,wp.jsx)("h2",{children:"\u2699\ufe0f Admin Settings"}),(0,wp.jsxs)("div",{className:"settings-section",children:[(0,wp.jsx)("h4",{children:"Data Management"}),(0,wp.jsxs)("div",{className:"setting-group",children:[(0,wp.jsx)("button",{onClick:()=>{const e=JSON.parse(localStorage.getItem("adminCoupons")||"[]"),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download="coupons-backup-".concat((new Date).toISOString().split("T")[0],".json"),s.click()},className:"btn-export",children:"\ud83d\udce5 Export All Coupons"}),(0,wp.jsxs)("div",{className:"import-group",children:[(0,wp.jsx)("label",{htmlFor:"import-file",className:"btn-import",children:"\ud83d\udce4 Import Coupons"}),(0,wp.jsx)("input",{id:"import-file",type:"file",accept:".json",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{try{const t=JSON.parse(e.target.result);localStorage.setItem("adminCoupons",JSON.stringify(t)),alert("Coupons imported successfully!"),window.location.reload()}catch(t){alert("Error importing coupons: Invalid file format")}},e.readAsText(t)}},style:{display:"none"}})]})]})]}),(0,wp.jsxs)("div",{className:"settings-section",children:[(0,wp.jsx)("h4",{children:"Coupon Settings"}),(0,wp.jsx)("div",{className:"setting-item",children:(0,wp.jsxs)("label",{children:[(0,wp.jsx)("input",{type:"checkbox",checked:e.autoExpire,onChange:e=>t(t=>Ve(Ve({},t),{},{autoExpire:e.target.checked}))}),"Auto-expire coupons after period"]})}),(0,wp.jsxs)("div",{className:"setting-item",children:[(0,wp.jsx)("label",{children:"Expiration Days:"}),(0,wp.jsx)("input",{type:"number",value:e.expireDays,onChange:e=>t(t=>Ve(Ve({},t),{},{expireDays:parseInt(e.target.value)})),disabled:!e.autoExpire})]}),(0,wp.jsx)("div",{className:"setting-item",children:(0,wp.jsxs)("label",{children:[(0,wp.jsx)("input",{type:"checkbox",checked:e.notifyOnRedeem,onChange:e=>t(t=>Ve(Ve({},t),{},{notifyOnRedeem:e.target.checked}))}),"Notify when coupon is redeemed"]})})]}),(0,wp.jsxs)("div",{className:"settings-section",children:[(0,wp.jsx)("h4",{children:"Danger Zone"}),(0,wp.jsx)("button",{onClick:()=>{window.confirm("Are you sure? This will delete ALL coupons and cannot be undone!")&&(localStorage.removeItem("adminCoupons"),localStorage.removeItem("availableCoupons"),alert("All coupons cleared!"),window.location.reload())},className:"btn-danger",children:"\ud83d\uddd1\ufe0f Clear All Coupons"})]})]})},Hp=()=>{const[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(""),[a,i]=(0,s.useState)("overview"),o=e=>{e.preventDefault(),"SoomB44t33Dee@"===n?(t(!0),r("")):(alert("\u274c Invalid admin password"),r(""))};if(!e)return(0,wp.jsx)("div",{className:"admin-login",children:(0,wp.jsxs)("div",{className:"login-container",children:[(0,wp.jsxs)("div",{className:"login-header",children:[(0,wp.jsx)("h1",{children:"\ud83d\udd12 Admin Dashboard"}),(0,wp.jsx)("p",{children:"Enter admin password to continue"})]}),(0,wp.jsxs)("form",{onSubmit:o,className:"login-form",children:[(0,wp.jsx)("input",{type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"Enter admin password...",className:"password-input",autoFocus:!0}),(0,wp.jsx)("button",{type:"submit",className:"login-btn",children:"Unlock Dashboard"})]}),(0,wp.jsx)("div",{className:"login-hint",children:(0,wp.jsxs)("p",{children:["\ud83d\udca1 ",(0,wp.jsx)("strong",{children:"Secret Access:"})," Press ",(0,wp.jsx)("code",{children:"Ctrl+Shift+A"})," on any page to reveal admin link"]})})]})});return(0,wp.jsxs)("div",{className:"admin-dashboard",children:[(0,wp.jsxs)("div",{className:"admin-header",children:[(0,wp.jsxs)("div",{children:[(0,wp.jsx)("h1",{children:"\ud83d\ude80 Business Directory Admin"}),(0,wp.jsx)("div",{className:"admin-user",children:"Welcome, Admin"})]}),(0,wp.jsx)("button",{onClick:()=>t(!1),className:"logout-btn",children:"\ud83d\udd13 Logout"})]}),(0,wp.jsxs)("div",{className:"admin-nav",children:[(0,wp.jsx)("button",{className:"nav-btn ".concat("overview"===a?"active":""),onClick:()=>i("overview"),children:"\ud83d\udcca Overview"}),(0,wp.jsx)("button",{className:"nav-btn ".concat("coupons"===a?"active":""),onClick:()=>i("coupons"),children:"\ud83c\udfab Coupon Manager"}),(0,wp.jsx)("button",{className:"nav-btn ".concat("analytics"===a?"active":""),onClick:()=>i("analytics"),children:"\ud83d\udcc8 Analytics"}),(0,wp.jsx)("button",{className:"nav-btn ".concat("settings"===a?"active":""),onClick:()=>i("settings"),children:"\u2699\ufe0f Settings"})]}),(0,wp.jsx)("div",{className:"admin-content",children:(()=>{switch(a){case"overview":default:return(0,wp.jsx)(qp,{});case"coupons":return(0,wp.jsx)(Vp,{});case"analytics":return(0,wp.jsx)(zp,{});case"settings":return(0,wp.jsx)(Bp,{})}})()})]})},Wp=()=>{const{pathname:e}=re();return(0,s.useEffect)(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null};const Kp=function(){const e=Array.from({length:10},(e,t)=>t+1),t=e=>{let{pageNumber:t,isHome:n=!1}=e;const r=200*(t-1)+1,s=200*t;return(0,wp.jsx)("div",{className:"container",children:(0,wp.jsx)(kp,{pageNumber:t,start:r,end:s,isHome:n})})};return(0,wp.jsxs)(Te,{children:[(0,wp.jsx)(Wp,{}),(0,wp.jsxs)("div",{className:"App",children:[(0,wp.jsx)(Np,{}),(0,wp.jsx)(Sp,{}),(0,wp.jsxs)(Ne,{children:[(0,wp.jsx)(we,{path:"/",element:(0,wp.jsx)(t,{pageNumber:1,isHome:!0})}),e.map(e=>(0,wp.jsx)(we,{path:"/page".concat(e),element:(0,wp.jsx)(t,{pageNumber:e})},e)),(0,wp.jsx)(we,{path:"/campaign",element:(0,wp.jsx)(Dp,{})}),(0,wp.jsx)(we,{path:"/business-details",element:(0,wp.jsx)(Rp,{})}),(0,wp.jsx)(we,{path:"/payment",element:(0,wp.jsx)(Pp,{})}),(0,wp.jsx)(we,{path:"/success",element:(0,wp.jsx)(Tp,{})}),(0,wp.jsx)(we,{path:"/cancel",element:(0,wp.jsx)(Ip,{})}),(0,wp.jsx)(we,{path:"/about",element:(0,wp.jsx)(Op,{})}),(0,wp.jsx)(we,{path:"/how-it-works",element:(0,wp.jsx)(Lp,{})}),(0,wp.jsx)(we,{path:"/terms",element:(0,wp.jsx)(Mp,{})}),(0,wp.jsx)(we,{path:"/contact",element:(0,wp.jsx)(Fp,{})}),(0,wp.jsx)(we,{path:"/privacy",element:(0,wp.jsx)(Up,{})}),(0,wp.jsx)(we,{path:"/admin",element:(0,wp.jsx)(Hp,{})})]}),(0,wp.jsx)(Cp,{})]})]})},Gp=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:a,getTTFB:i}=t;n(e),r(e),s(e),a(e),i(e)})};i.createRoot(document.getElementById("root")).render((0,wp.jsx)(s.StrictMode,{children:(0,wp.jsx)(Kp,{})})),Gp()})();
//# sourceMappingURL=main.92663c8b.js.map